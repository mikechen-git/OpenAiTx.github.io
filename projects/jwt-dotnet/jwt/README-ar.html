<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jwt - jwt-dotnet/jwt</title>
    <meta name="title" content="jwt - jwt-dotnet/jwt">
    <meta name="description" content="jwt-dotnet/jwt - GitHub repository ar documentation and informationJwt.Net، تنفيذ JWT (JSON Web Token) لـ .NET راعي حزم NuGet المتوفرة إصدارات .NET المدعومة: Jwt.NET إنشاء (ترميز) التوكن أو باستخدام واجهة بناء Fluent تحليل (فك ...">
    <meta name="keywords" content="jwt-dotnet, jwt, GitHub, repository, ar documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/jwt-dotnet/jwt/README-ar.html">
    <meta property="og:title" content="jwt - jwt-dotnet/jwt">
    <meta property="og:description" content="jwt-dotnet/jwt - GitHub repository ar documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/jwt-dotnet/jwt" id="githubRepoLink" target="_blank">jwt-dotnet/jwt</a>
<h1 style="display: none;">Jwt.Net، تنفيذ JWT (JSON Web Token) لـ .NET راعي حزم NuGet المتوفرة إصدارات .NET المدعومة: Jwt.NET إنشاء (ترميز) التوكن أو باستخدام واجهة بناء Fluent تحليل (فك ...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DO NOT EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<ul>
<li><a href="#jwtnet-a-jwt-json-web-token-implementation-for-net">Jwt.Net، تنفيذ JWT (JSON Web Token) لـ .NET</a></li>
<li><a href="#sponsor">راعي</a></li>
<li><a href="#avaliable-nuget-packages">حزم NuGet المتوفرة</a></li>
<li><a href="#supported-net-versions">إصدارات .NET المدعومة:</a></li>
<li><a href="#jwtnet">Jwt.NET</a>
<ul>
<li><a href="#creating-encoding-token">إنشاء (ترميز) التوكن</a>
<ul>
<li><a href="#or-using-the-fluent-builder-api">أو باستخدام واجهة بناء Fluent</a></li>
</ul>
</li>
<li><a href="#parsing-decoding-and-verifying-token">تحليل (فك ترميز) والتحقق من صحة التوكن</a>
<ul>
<li><a href="#or-using-the-fluent-builder-api-1">أو باستخدام واجهة بناء Fluent</a></li>
<li><a href="#or-using-the-fluent-builder-api-2">أو باستخدام واجهة بناء Fluent</a></li>
</ul>
</li>
<li><a href="#validate-token-expiration">التحقق من انتهاء صلاحية التوكن</a></li>
<li><a href="#parsing-decoding-token-header">تحليل (فك ترميز) رأس التوكن</a>
<ul>
<li><a href="#or-using-the-fluent-builder-api-3">أو باستخدام واجهة بناء Fluent</a></li>
</ul>
</li>
<li><a href="#turning-off-parts-of-token-validation">إيقاف أجزاء من التحقق من صحة التوكن</a>
<ul>
<li><a href="#or-using-the-fluent-builder-api-4">أو باستخدام واجهة بناء Fluent</a></li>
</ul>
</li>
<li><a href="#custom-json-serializer">Serializer JSON مخصص</a></li>
<li><a href="#custom-json-serialization-settings-with-the-default-jsonnetserializer">إعدادات تسلسل JSON مخصصة مع JsonNetSerializer الافتراضي</a></li>
</ul>
</li>
<li><a href="#jwtnet-aspnet-core">Jwt.Net ASP.NET Core</a>
<ul>
<li><a href="#register-authentication-handler-to-validate-jwt">تسجيل معالج المصادقة للتحقق من صحة JWT</a></li>
<li><a href="#custom-factories-to-produce-identity-or-authenticationticket">مصانع مخصصة لإنشاء Identity أو AuthenticationTicket</a></li>
</ul>
</li>
<li><a href="#license">الرخصة</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<p><a href="https://abatishchev.visualstudio.com/OpenSource/_build/latest?definitionId=9"><img src="https://abatishchev.visualstudio.com/OpenSource/_apis/build/status/Jwt.Net-CI" alt="Build status" /></a>
<a href="https://abatishchev.visualstudio.com/OpenSource/_release?_a=releases&amp;view=mine&amp;definitionId=2"><img src="https://abatishchev.vsrm.visualstudio.com/_apis/public/Release/badge/b7fc2610-91d5-4968-814c-97a9d76b03c4/2/2" alt="Release status" /></a></p>
<h2>Jwt.Net، تنفيذ JWT (JSON Web Token) لـ .NET</h2>
<p>تدعم هذه المكتبة إنشاء وفك ترميز <a href="https://tools.ietf.org/html/rfc7519">JSON Web Tokens</a>.</p>
<h2>راعي</h2>
<p>| | |
|-|-|
| <a href="https://a0.to/try-auth0"><img alt="Auth0 logo" src="https://cdn.auth0.com/blog/github-sponsorships/brand-evolution-logo-Auth0-horizontal-Indigo.png" height="91"></a> | إذا كنت تريد تنفيذ مصادقة آمنة بسرعة لمشروع JWT الخاص بك، <a href="https://a0.to/try-auth0">قم بإنشاء حساب Auth0</a>؛ إنه مجاني! |</p>
<h2>حزم NuGet المتوفرة</h2>
<ol>
<li>Jwt.Net</li>
</ol>
<p><a href="https://www.nuget.org/packages/JWT"><img src="https://img.shields.io/nuget/v/JWT.svg" alt="NuGet" /></a>
<a href="https://www.nuget.org/packages/JWT"><img src="https://img.shields.io/nuget/vpre/JWT.svg" alt="NuGet Pre" /></a></p>
<ol start="2">
<li>Jwt.Net لحاوية حقن التبعيات الخاصة بـ Microsoft</li>
</ol>
<p><a href="https://www.nuget.org/packages/JWT.Extensions.DependencyInjection"><img src="https://img.shields.io/nuget/v/JWT.Extensions.DependencyInjection.svg" alt="NuGet" /></a>
<a href="https://www.nuget.org/packages/JWT.Extensions.DependencyInjection"><img src="https://img.shields.io/nuget/vpre/JWT.Extensions.DependencyInjection.svg" alt="NuGet Pre" /></a></p>
<ol start="3">
<li>Jwt.Net لـ ASP.NET Core</li>
</ol>
<p><a href="https://www.nuget.org/packages/JWT.Extensions.AspNetCore"><img src="https://img.shields.io/nuget/v/JWT.Extensions.AspNetCore.svg" alt="NuGet" /></a>
<a href="https://www.nuget.org/packages/JWT.Extensions.AspNetCore"><img src="https://img.shields.io/nuget/vpre/JWT.Extensions.AspNetCore.svg" alt="NuGet Pre" /></a></p>
<h2>إصدارات .NET المدعومة:</h2>
<ul>
<li>.NET Framework 3.5</li>
<li>.NET Framework 4.0 - 4.8</li>
<li>.NET Standard 1.3, 2.0</li>
<li>.NET 6.0</li>
</ul>
<h2>Jwt.NET</h2>
<h3>إنشاء (ترميز) التوكن</h3>
<pre><code class="language-c#">var payload = new Dictionary&lt;string, object&gt;
{
    { &quot;claim1&quot;, 0 },
    { &quot;claim2&quot;, &quot;claim2-value&quot; }
};

IJwtAlgorithm algorithm = new RS256Algorithm(certificate);
IJsonSerializer serializer = new JsonNetSerializer();
IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
IJwtEncoder encoder = new JwtEncoder(algorithm, serializer, urlEncoder);
const string key = null; // ليس مطلوبًا إذا كان الخوارزمية غير متناظرة

var token = encoder.Encode(payload, key);
Console.WriteLine(token);
</code></pre>
<h4>أو باستخدام واجهة بناء Fluent</h4>
<pre><code class="language-c#">var token = JwtBuilder.Create()
                      .WithAlgorithm(new RS256Algorithm(certificate))
                      .AddClaim(&quot;exp&quot;, DateTimeOffset.UtcNow.AddHours(1).ToUnixTimeSeconds())
                      .AddClaim(&quot;claim1&quot;, 0)
                      .AddClaim(&quot;claim2&quot;, &quot;claim2-value&quot;)
                      .Encode();
Console.WriteLine(token);
</code></pre>
<h3>تحليل (فك ترميز) والتحقق من صحة التوكن</h3>
<pre><code class="language-c#">try
{
    IJsonSerializer serializer = new JsonNetSerializer();
    IDateTimeProvider provider = new UtcDateTimeProvider();
    IJwtValidator validator = new JwtValidator(serializer, provider);
    IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
    IJwtAlgorithm algorithm = new RS256Algorithm(certificate);
    IJwtDecoder decoder = new JwtDecoder(serializer, validator, urlEncoder, algorithm);
    
    var json = decoder.Decode(token);
    Console.WriteLine(json);
}
catch (TokenNotYetValidException)
{
    Console.WriteLine(&quot;التوكن غير صالح بعد&quot;);
}
catch (TokenExpiredException)
{
    Console.WriteLine(&quot;انتهت صلاحية التوكن&quot;);
}
catch (SignatureVerificationException)
{
    Console.WriteLine(&quot;توقيع التوكن غير صالح&quot;);
}
</code></pre>
<h4>أو باستخدام واجهة بناء Fluent</h4>
<pre><code class="language-c#">var json = JwtBuilder.Create()
                     .WithAlgorithm(new RS256Algorithm(certificate))
                     .MustVerifySignature()
                     .Decode(token);                    
Console.WriteLine(json);
</code></pre>
<p>سيكون الناتج:</p>
<blockquote>
<p>{ &quot;claim1&quot;: 0, &quot;claim2&quot;: &quot;claim2-value&quot; }</p>
</blockquote>
<p>يمكنك أيضًا فك تسلسل حمولة JSON مباشرة إلى نوع .NET:</p>
<pre><code class="language-c#">var payload = decoder.DecodeToObject&lt;IDictionary&lt;string, object&gt;&gt;(token, secret);
</code></pre>
<h4>أو باستخدام واجهة بناء Fluent</h4>
<pre><code class="language-c#">var payload = JwtBuilder.Create()
                        .WithAlgorithm(new RS256Algorithm(certificate))
                        .WithSecret(secret)
                        .MustVerifySignature()
                        .Decode&lt;IDictionary&lt;string, object&gt;&gt;(token);     
</code></pre>
<h3>التحقق من انتهاء صلاحية التوكن</h3>
<p>كما هو موضح في <a href="https://tools.ietf.org/html/rfc7519#section-4.1.4">RFC 7519 القسم 4.1.4</a>:</p>
<blockquote>
<p>معرّف <code>exp</code> يشير إلى وقت انتهاء الصلاحية الذي يجب بعده عدم قبول JWT للمعالجة.</p>
</blockquote>
<p>إذا كان موجودًا في الحمولة وتجاوز الوقت الحالي، فسيفشل التحقق من التوكن. يجب تحديد القيمة على أنها عدد الثواني منذ <a href="https://en.wikipedia.org/wiki/Unix_time">بداية يونكس</a>، 1/1/1970 00:00:00 UTC.</p>
<pre><code class="language-c#">IDateTimeProvider provider = new UtcDateTimeProvider();
var now = provider.GetNow().AddMinutes(-5); // انتهت صلاحية التوكن منذ 5 دقائق

double secondsSinceEpoch = UnixEpoch.GetSecondsSince(now);

var payload = new Dictionary&lt;string, object&gt;
{
    { &quot;exp&quot;, secondsSinceEpoch }
};
var token = encoder.Encode(payload);

decoder.Decode(token); // يرمي TokenExpiredException
</code></pre>
<p>ثم، كما هو موضح في <a href="https://tools.ietf.org/html/rfc7519#section-4.1.5">RFC 7519 القسم 4.1.5</a>:</p>
<blockquote>
<p>معرّف &quot;nbf&quot; (ليس قبل) يشير إلى الوقت الذي لا يجب قبول JWT قبله للمعالجة</p>
</blockquote>
<p>إذا كان موجودًا في الحمولة وكان قبل الوقت الحالي، فسيفشل التحقق من التوكن.</p>
<h3>تحليل (فك ترميز) رأس التوكن</h3>
<pre><code class="language-c#">IJsonSerializer serializer = new JsonNetSerializer();
IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
IJwtDecoder decoder = new JwtDecoder(serializer, urlEncoder);

JwtHeader header = decoder.DecodeHeader&lt;JwtHeader&gt;(token);

var typ = header.Type; // JWT
var alg = header.Algorithm; // RS256
var kid = header.KeyId; // CFAEAE2D650A6CA9862575DE54371EA980643849
</code></pre>
<h4>أو باستخدام واجهة بناء Fluent</h4>
<pre><code class="language-c#">JwtHeader header = JwtBuilder.Create()
                             .DecodeHeader&lt;JwtHeader&gt;(token);

var typ = header.Type; // JWT
var alg = header.Algorithm; // RS256
var kid = header.KeyId; // CFAEAE2D650A6CA9862575DE54371EA980643849
</code></pre>
<h3>إيقاف أجزاء من تحقق الرمز المميز</h3>
<p>إذا كنت ترغب في التحقق من صحة رمز مميز ولكن تجاهل أجزاء معينة من التحقق (مثل ما إذا كان الرمز المميز قد انتهت صلاحيته أو لم يصبح صالحًا بعد)، يمكنك تمرير كائن <code>ValidateParameters</code> إلى مُنشئ فئة <code>JwtValidator</code>.</p>
<pre><code class="language-c#">var validationParameters = new ValidationParameters
{
    ValidateSignature = true,
    ValidateExpirationTime = false,
    ValidateIssuedTime = false,
    TimeMargin = 100
};
IJwtValidator validator = new JwtValidator(serializer, provider, validationParameters);
IJwtDecoder decoder = new JwtDecoder(serializer, validator, urlEncoder, algorithm);
var json = decoder.Decode(expiredToken); // لن يرمي استثناء بسبب انتهاء صلاحية الرمز
</code></pre>
<h4>أو باستخدام واجهة البناء المتسلسلة (Fluent Builder API)</h4>
<pre><code class="language-c#">var json = JwtBuilder.Create()
                     .WithAlgorithm(new RS256Algorirhm(certificate))
                     .WithSecret(secret)
                     .WithValidationParameters(
                         new ValidationParameters
                         {
                             ValidateSignature = true,
                             ValidateExpirationTime = false,
                             ValidateIssuedTime = false,
                             TimeMargin = 100
                         })
                     .Decode(expiredToken);
</code></pre>
<h3>مُسلسل JSON مخصص</h3>
<p>بشكل افتراضي، تتم عملية تسلسل JSON بواسطة <code>JsonNetSerializer</code> التي تم تنفيذها باستخدام <a href="https://www.json.net">Json.Net</a>. لاستخدام مُسلسل مختلف، قم بتنفيذ واجهة <code>IJsonSerializer</code>:</p>
<pre><code class="language-c#">public sealed class CustomJsonSerializer : IJsonSerializer
{
    public string Serialize(object obj)
    {
        // نفذ باستخدام مُسلسل JSON المفضل لديك
    }

    public T Deserialize&lt;T&gt;(string json)
    {
        // نفذ باستخدام مُسلسل JSON المفضل لديك
    }
}
</code></pre>
<p>ثم مرر هذا المُسلسل إلى مُنشئ JwtEncoder:</p>
<pre><code class="language-c#">IJwtAlgorithm algorithm = new RS256Algorirhm(certificate);
IJsonSerializer serializer = new CustomJsonSerializer();
IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
IJwtEncoder encoder = new JwtEncoder(algorithm, serializer, urlEncoder);
</code></pre>
<h3>إعدادات تسلسل JSON مخصصة مع JsonNetSerializer الافتراضي</h3>
<p>كما ذكر أعلاه، يتم التسلسل الافتراضي لـ JSON بواسطة <code>JsonNetSerializer</code>. يمكنك تعريف إعدادات التسلسل المخصصة الخاصة بك كما يلي:</p>
<pre><code class="language-c#">JsonSerializer customJsonSerializer = new JsonSerializer
{
    // جميع المفاتيح تبدأ بحروف صغيرة بدلاً من مطابقة حالة الأحرف في النموذج/الخاصية، مثل fullName
    ContractResolver = new CamelCasePropertyNamesContractResolver(), 
    
    // تنسيق سهل القراءة، ويمكنك أيضًا استخدام Formatting.None لتقليل حجم الحمولة
    Formatting = Formatting.Indented,
    
    // أنسب تنسيق للتاريخ والوقت.
    DateFormatHandling = DateFormatHandling.IsoDateFormat,
    
    // لا تضف المفاتيح/القيم عند كون القيمة null.
    NullValueHandling = NullValueHandling.Ignore,
    
    // استخدم القيمة النصية لـ enum، وليس القيمة الرقمية الضمنية، مثل &quot;red&quot; لـ enum Color { Red }
    Converters.Add(new StringEnumConverter())
};
IJsonSerializer serializer = new JsonNetSerializer(customJsonSerializer);
</code></pre>
<h2>Jwt.Net ASP.NET Core</h2>
<h3>تسجيل معالج المصادقة للتحقق من صحة JWT</h3>
<pre><code class="language-c#">public void ConfigureServices(IServiceCollection services)
{
    services.AddAuthentication(options =&gt;
                 {
                     options.DefaultAuthenticateScheme = JwtAuthenticationDefaults.AuthenticationScheme;
                     options.DefaultChallengeScheme = JwtAuthenticationDefaults.AuthenticationScheme;
                 })
            .AddJwt(options =&gt;
                 {
                     // الأسرار، مطلوبة فقط للخوارزميات المتماثلة، مثل HMACSHA256Algorithm
                     // options.Keys = new[] { &quot;mySecret&quot; };
                     
                     // اختياريًا؛ تعطيل رمي الاستثناء إذا كان توقيع JWT غير صالح
                     // options.VerifySignature = false;
                 });
  // النسخة غير العامة AddJwt() تتطلب تسجيل مثيل من IAlgorithmFactory يدويًا
  services.AddSingleton&lt;IAlgorithmFactory&gt;(new RSAlgorithmFactory(certificate));
  // أو
  services.AddSingleton&lt;IAlgorithmFactory&gt;(new DelegateAlgorithmFactory(algorithm));

  // أو استخدم النسخة العامة AddJwt&lt;TFactory() لاستخدام تنفيذ مخصص لـ IAlgorithmFactory
  .AddJwt&lt;MyCustomAlgorithmFactory&gt;(options =&gt; ...);
}

public void Configure(IApplicationBuilder app)
{
    app.UseAuthentication();
}
</code></pre>
<h3>مصانع مخصصة لإنتاج Identity أو AuthenticationTicket</h3>
<pre><code class="language-c#">services.AddSingleton&lt;IIdentityFactory, CustomIdentityFctory&gt;();
services.AddSingleton&lt;ITicketFactory, CustomTicketFactory&gt;();
</code></pre>
<h2>الرخصة</h2>
<p>المشاريع التالية والحزم الناتجة عنها مرخصة ضمن الملكية العامة، راجع ملف <a href="LICENSE.md#Public-Domain">LICENSE#Public-Domain</a>.</p>
<ul>
<li>JWT</li>
</ul>
<p>المشاريع التالية والحزم الناتجة عنها مرخصة ضمن رخصة MIT، راجع ملف <a href="LICENSE.md#MIT">LICENSE#MIT</a>.</p>
<ul>
<li>JWT.Extensions.AspNetCore</li>
<li>JWT.Extensions.DependencyInjection</li>
</ul>
<pre><code>

---


Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-09


---
</code></pre>

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Statcounter and other scripts can be added here -->
</body>
</html>