<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAuth - mini-software/MiniAuth</title>
    <meta name="title" content="MiniAuth - mini-software/MiniAuth">
    <meta name="description" content="mini-software/MiniAuth - GitHub repository vi documentation and informationEnglish | 简体中文 | 繁體中文 | 日本語 | 한국어 | Español Ngôi sao Star, Ủng hộ, Giới thiệu của bạn có thể giúp MiniAuth phát triển tốt hơn Giới thiệu &quot;Chỉ với một dòng code&quot; thêm chức năng quản lý user/role cho asp.net core identity vào các dự án mới/cũ của bạn Tính năng Tương thích: Hỗ trợ .NET Identity dựa trên JWT, Cookie, Session, v.v. Đơn giản: Thiết kế plug-and-play, hỗ trợ API, SPA, MVC, Razor Page, v.v. Hỗ trợ nhiều cơ sở dữ liệu: Hỗ trợ Oracle, SQL Server, MySQL, v.v. qua EF Core Không xâm lấn: Không ảnh hưởng đến cơ sở dữ liệu hoặc cấu trúc dự án hiện tại Đa nền tảng: Hỗ trợ môi trường Linux, macOS Cài đặt Cài đặt gói từ NuGet Bắt đầu nhanh Chỉ cần thêm một dòng services.AddMiniAuth() trong Startup, sau đó chạy dự án của bạn. Ví dụ:...">
    <meta name="keywords" content="mini-software, MiniAuth, GitHub, repository, vi documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/mini-software/MiniAuth/README-vi.html">
    <meta property="og:title" content="MiniAuth - mini-software/MiniAuth">
    <meta property="og:description" content="mini-software/MiniAuth - GitHub repository vi documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/mini-software/MiniAuth" id="githubRepoLink" target="_blank">mini-software/MiniAuth</a>
<br>
<h1 style="display: none;">English | 简体中文 | 繁體中文 | 日本語 | 한국어 | Español Ngôi sao Star, Ủng hộ, Giới thiệu của bạn có thể giúp MiniAuth phát triển tốt hơn Giới thiệu &quot;Chỉ với một dòng code&quot; thêm chức năng quản lý user/role cho asp.net core identity vào các dự án mới/cũ của bạn Tính năng Tương thích: Hỗ trợ .NET Identity dựa trên JWT, Cookie, Session, v.v. Đơn giản: Thiết kế plug-and-play, hỗ trợ API, SPA, MVC, Razor Page, v.v. Hỗ trợ nhiều cơ sở dữ liệu: Hỗ trợ Oracle, SQL Server, MySQL, v.v. qua EF Core Không xâm lấn: Không ảnh hưởng đến cơ sở dữ liệu hoặc cấu trúc dự án hiện tại Đa nền tảng: Hỗ trợ môi trường Linux, macOS Cài đặt Cài đặt gói từ NuGet Bắt đầu nhanh Chỉ cần thêm một dòng services.AddMiniAuth() trong Startup, sau đó chạy dự án của bạn. Ví dụ:...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <div align="center">
<p><a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/v/MiniAuth.svg" alt="NuGet"></a>  <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/dt/MiniAuth.svg" alt=""></a>  
<a href="https://gitee.com/shps951023/MiniAuth"><img src="https://gitee.com/shps951023/MiniAuth/badge/star.svg" alt="star"></a> <a href="https://github.com/Mini-Software/MiniAuth" rel="nofollow"><img src="https://img.shields.io/github/stars/Mini-Software/MiniAuth?logo=github" alt="GitHub stars"></a> <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/badge/.NET-%3E%3D%206.0-red.svg" alt="version"></a>
</p>
</div>
<hr />
<div align="center">
<p><strong>
    <a href="README.md">English</a> | <a href="README.zh-CN.md">简体中文</a> | <a href="README.zh-Hant.md">繁體中文</a> | <a href="README.ja.md">日本語</a> | <a href="README.ko.md">한국어</a> | <a href="README.es.md">Español</a>  
</strong></p>
</div>
<hr />
<div align="center">
 Ngôi sao <a href="https://github.com/mini-software/miniauth">Star</a>, <a href="https://miniexcel.github.io/">Ủng hộ</a>, <a href="https://www.linkedin.com/in/itweihan/">Giới thiệu</a> của bạn có thể giúp MiniAuth phát triển tốt hơn 
</div>
<h3>Giới thiệu</h3>
<p>&quot;Chỉ với một dòng code&quot; thêm chức năng quản lý user/role cho asp.net core identity vào các dự án mới/cũ của bạn</p>
<table>
    <tr>
        <td><img src="https://github.com/mini-software/MiniExcel/assets/12729184/d2aec694-158d-4ebc-bd8b-0e9ae1f855ac" alt="Image 1"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/2f791e25-9158-495e-9383-4fbedf9b982b" alt="Image 2"></td>
    </tr>
    <tr>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/03d72ed7-8fb9-465f-9093-24b00279eeb2" alt="Image 3"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/841df179-7e5f-481a-9039-46738b20aa2e" alt="Image 4"></td>
    </tr>
</table>
<h3>Tính năng</h3>
<ul>
<li>Tương thích: Hỗ trợ .NET Identity dựa trên JWT, Cookie, Session, v.v.</li>
<li>Đơn giản: Thiết kế plug-and-play, hỗ trợ API, SPA, MVC, Razor Page, v.v.</li>
<li>Hỗ trợ nhiều cơ sở dữ liệu: Hỗ trợ Oracle, SQL Server, MySQL, v.v. qua EF Core</li>
<li>Không xâm lấn: Không ảnh hưởng đến cơ sở dữ liệu hoặc cấu trúc dự án hiện tại</li>
<li>Đa nền tảng: Hỗ trợ môi trường Linux, macOS</li>
</ul>
<h3>Cài đặt</h3>
<p>Cài đặt gói từ NuGet</p>
<h3>Bắt đầu nhanh</h3>
<p>Chỉ cần thêm một dòng <code>services.AddMiniAuth()</code> trong Startup, sau đó chạy dự án của bạn. Ví dụ:</p>
<pre><code class="language-csharp">public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);

        builder.Services.AddMiniAuth(); // &lt;= ❗❗❗

        var app = builder.Build();
        app.Run();
    }
}
</code></pre>
<p>Tài khoản admin mặc định là <code>admin@mini-software.github.io</code> với mật khẩu <code>E7c4f679-f379-42bf-b547-684d456bc37f</code> (hãy nhớ thay đổi mật khẩu). Truy cập trang admin tại <code>http(s)://yourhost/miniauth/index.html</code>.</p>
<p>Thêm <code>[Authorize]</code> cho các controller hoặc method cần quản lý quyền, hoặc kiểm soát theo vai trò <code>[Authorize(Roles = &quot;role&quot;)]</code>, trả về trạng thái 401 nếu chưa đăng nhập, trả về 403 nếu không có quyền truy cập.</p>
<h3>MiniAuth Cookie Identity</h3>
<p>MiniAuth mặc định sử dụng xác thực dựa trên Cookie đơn, vui lòng chuyển sang JWT, v.v. cho các dự án tách biệt frontend và backend.</p>
<h3>MiniAuth  JWT  Identity</h3>
<p>Thiết lập AuthenticationType = BearerJwt</p>
<pre><code class="language-C#">builder.Services.AddMiniAuth(options:(options) =&gt;
{
    options.AuthenticationType = MiniAuthOptions.AuthType.BearerJwt;
});
</code></pre>
<p>Hãy nhớ thiết lập JWT Security Key mới, ví dụ:</p>
<pre><code class="language-C#">builder.Services.AddMiniAuth(options: (options) =&gt;
{
    options.JWTKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(&quot;6ee3edbf-488e-4484-9c2c-e3ffa6dcbc09&quot;));
});
</code></pre>
<h4>Lấy token</h4>
<p>Ví dụ Javascript XHR phía frontend</p>
<pre><code class="language-javascript">var data = JSON.stringify({
  &quot;username&quot;: &quot;admin@mini-software.github.io&quot;,
  &quot;password&quot;: &quot;E7c4f679-f379-42bf-b547-684d456bc37f&quot;,
  &quot;remember&quot;: false
});
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener(&quot;readystatechange&quot;, function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open(&quot;POST&quot;, &quot;http://yourhost/miniauth/login&quot;);
xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);
xhr.send(data);
</code></pre>
<p>kết quả trả về</p>
<pre><code class="language-json">{
    &quot;ok&quot;: true,
    &quot;code&quot;: 200,
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;tokenType&quot;: &quot;Bearer&quot;,
        &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0&quot;,
        &quot;expiresIn&quot;: 900
    }
}
</code></pre>
<p>Lưu <code>accessToken</code> vào localstorage hoặc cookie. Khi gọi các API có [Authorize], hãy thiết lập <code>Header Authorization</code> là <code>Bearer + khoảng trắng + accessToken</code>, hệ thống sẽ tự động xác thực.</p>
<p>Ví dụ:</p>
<pre><code class="language-js">var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener(&quot;readystatechange&quot;, function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open(&quot;GET&quot;, &quot;http://yourhost:5014/your/api&quot;);
xhr.setRequestHeader(&quot;Authorization&quot;, &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0&quot;);
xhr.send();
</code></pre>
<h4>Thiết lập thời gian hết hạn</h4>
<pre><code class="language-c#">options.TokenExpiresIn = 30 * 60; 
</code></pre>
<p>Đơn vị là giây, mặc định là 30 phút. Ngoài ra, lưu ý .NET JWT ClockSkew trong JwtBearerOptions mặc định sẽ cộng thêm 5 phút <a href="https://stackoverflow.com/questions/43045035/jwt-token-authentication-expired-tokens-still-working-net-core-web-api">lý do</a>.</p>
<h4>API làm mới Token (JWT)</h4>
<p>API : <code>/MiniAuth/refreshToken</code>
Body:</p>
<pre><code class="language-json">{
   &quot;refreshToken&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU&quot;
}
</code></pre>
<p>Header:</p>
<pre><code>Authorization:Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk
</code></pre>
<p>Thời gian hết hạn được thiết lập là <code>MiniAuthOptions.TokenExpiresIn / 2</code>, mặc định là 30 phút.</p>
<h3>Cài đặt, Tùy chọn, Tùy biến</h3>
<h4>Chế độ mặc định</h4>
<ul>
<li>Chế độ mặc định của MiniAuth là quản lý người dùng tập trung bởi IT Admin. Các thao tác như đăng ký người dùng và đặt lại mật khẩu yêu cầu tài khoản admin với role được thiết lập sẵn là miniauth-admin.</li>
</ul>
<h4>Tắt đăng nhập MiniAuth</h4>
<p>Nếu bạn chỉ muốn sử dụng logic đăng nhập, trang và API riêng của mình, bạn có thể chỉ định đường dẫn đăng nhập và tắt chức năng đăng nhập của MiniAuth.</p>
<pre><code class="language-C#">// Đặt trước khi đăng ký dịch vụ 
builder.Services.AddMiniAuth(options: (options) =&gt;
{
    options.LoginPath = &quot;/Identity/Account/Login&quot;;
    options.DisableMiniAuthLogin = true;
});
</code></pre>
<h4>Tùy chỉnh chuỗi kết nối SQLite mặc định</h4>
<pre><code class="language-C#">builder.Services.AddMiniAuth(options: (options) =&gt;
{
    options.SqliteConnectionString = &quot;Data Source=miniauth_identity.db&quot;;
});
</code></pre>
<h3>Cơ sở dữ liệu, người dùng và vai trò tùy chỉnh</h3>
<p>MiniAuth được thiết kế để hoạt động liền mạch với SQLite EF Core, IdentityUser và IdentityRole theo mặc định. Nếu bạn cần thay đổi, hãy chỉ định cơ sở dữ liệu khác và lớp người dùng, vai trò của riêng bạn bằng cách sử dụng generics trong <code>app.UseMiniAuth</code>.</p>
<pre><code class="language-C#">app.UseMiniAuth&lt;YourDbContext, YourIdentityUser, YourIdentityRole&gt;();
</code></pre>
<h3>Đăng nhập, xác thực người dùng</h3>
<p>Đối với non-ApiController, mặc định sẽ chuyển hướng đăng nhập đến trang login.html (được xác định bằng cách kiểm tra nếu Headers[&quot;X-Requested-With&quot;] == &quot;XMLHttpRequest&quot; hoặc có ApiControllerAttribute).
Các controller được đánh dấu ApiController mặc định sẽ không chuyển hướng đến trang đăng nhập; thay vào đó trả về mã trạng thái 401.</p>
<h3>Tùy chỉnh giao diện frontend</h3>
<ul>
<li>Giao diện dashboard quản trị nằm trong <code>/src/Frontend_Identity</code> và chủ yếu sử dụng Vue3 + Vite. Chạy <code>npm run build</code> sẽ cập nhật giao diện miniauth.</li>
<li>Nếu bạn không muốn sử dụng trang đăng nhập mặc định của miniauth, MVC cho phép sử dụng Login.cshtml được scaffold sẵn của identity, hoặc bạn có thể sửa các file login.html, js, css trong frontend của miniauth.</li>
</ul>
<h3>Tùy chỉnh tiền tố route</h3>
<pre><code>builder.Services.AddMiniAuth(options: (options) =&gt;
{
    options.RoutePrefix = &quot;YourName&quot;;
});
</code></pre>
<p>RoutePrefix mặc định là <code>MiniAuth</code>.</p>
<h3>API đăng nhập (JWT)</h3>
<p>API: <code>/MiniAuth/login</code></p>
<p>Body:</p>
<pre><code class="language-json">{
   &quot;username&quot;:&quot;admin@mini-software.github.io&quot;,
   &quot;password&quot;:&quot;E7c4f679-f379-42bf-b547-684d456bc37f&quot;,
   &quot;remember&quot;:false
}
</code></pre>
<p>Phản hồi:</p>
<pre><code class="language-json">{
    &quot;ok&quot;: true,
    &quot;code&quot;: 200,
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;tokenType&quot;: &quot;Bearer&quot;,
        &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk&quot;,
        &quot;expiresIn&quot;: 3600,
        &quot;refreshToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU&quot;
    }
}
</code></pre>
<h3>Đăng ký</h3>
<p>Vui lòng sử dụng API và trang đăng ký tích hợp sẵn do ASP.NET Core Identity cung cấp.</p>
<h3>Quên mật khẩu</h3>
<p>Vui lòng sử dụng API và trang quên mật khẩu tích hợp sẵn do ASP.NET Core Identity cung cấp.</p>
<h3>Lấy thông tin người dùng</h3>
<p>Vui lòng sử dụng các API và trang tích hợp sẵn do ASP.NET Core Identity cung cấp để lấy thông tin người dùng. Lưu ý rằng bạn có thể cần triển khai thêm logic hoặc endpoint để lộ thông tin người dùng cần thiết, tùy thuộc vào nhu cầu ứng dụng cụ thể. ASP.NET Core Identity cung cấp một framework mạnh mẽ để quản lý thông tin người dùng, bao gồm dữ liệu hồ sơ, vai trò và claims.</p>
<h3>Ghi chú</h3>
<h4>Lưu ý thứ tự gọi middleware</h4>
<p>Vui lòng đặt UseMiniAuth sau khi sinh route, nếu không hệ thống sẽ không lấy được dữ liệu route để kiểm tra quyền, ví dụ:</p>
<pre><code class="language-c#">app.UseRouting();
app.UseMiniAuth();
</code></pre>
<h4>Lưu ý: Thêm quy tắc vai trò</h4>
<p>Vui lòng thêm <code>AddRoles&lt;IdentityRole&gt;()</code>, nếu không <code>[Authorize(Roles = &quot;permission&quot;)]</code> sẽ không có hiệu lực.</p>
<pre><code class="language-C#">builder.Services.AddDefaultIdentity&lt;IdentityUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true)
    .AddRoles&lt;IdentityRole&gt;() // ❗❗❗ 
    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();
</code></pre>
<h3>Tích hợp MiniAuth vào dự án Identity có logic tùy chỉnh</h3>
<p>Tắt autoUse của AddMiniAuth, đặt UseMiniAuth sau xác thực của bạn, thay thế các generic parameter bằng IdentityDBContext, user, xác thực quyền của bạn. Ví dụ:</p>
<pre><code class="language-csharp">        public static void Main(string[] args)
        {
            var builder = WebApplication.CreateBuilder(args);

            var connectionString = builder.Configuration.GetConnectionString(&quot;DefaultConnection&quot;) ?? throw new InvalidOperationException(&quot;Connection string 'DefaultConnection' not found.&quot;);
            builder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;
                options.UseSqlServer(connectionString));
            builder.Services.AddDatabaseDeveloperPageExceptionFilter();

            builder.Services.AddDefaultIdentity&lt;IdentityUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true)
                .AddRoles&lt;IdentityRole&gt;()
                .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();

            builder.Services.AddControllersWithViews();

            builder.Services.AddMiniAuth(autoUse: false); // &lt;= ❗❗❗


            var app = builder.Build();

            app.UseMiniAuth&lt;ApplicationDbContext, IdentityUser, IdentityRole&gt;();  // &lt;= ❗❗❗ 
            app.MapControllerRoute(
                name: &quot;default&quot;,
                pattern: &quot;{controller=Home}/{action=Index}/{id?}&quot;);
            app.MapRazorPages();

            app.Run();
        }
</code></pre>
<p>Điều này cho phép bạn chuyển đổi sử dụng người dùng, vai trò, cơ sở dữ liệu và logic Identity của riêng mình.</p>
<h4>Hệ thống phân tán</h4>
<ul>
<li>Với nguồn dữ liệu database, hãy cân nhắc chuyển sang các hệ quản trị như SQL Server, MySQL, PostgreSQL, v.v.</li>
<li>Khuyến nghị sử dụng các phương thức xác thực như JWT để tích hợp tốt hơn trong môi trường phân tán.</li>
</ul>
<h3>Ghi chú phát hành</h3>
<p>Tham khảo <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/releases">Ghi chú phát hành</a> để cập nhật thông tin mới.</p>
<h3>TODO</h3>
<p>Liên kết: <a href="https://github.com/orgs/mini-software/projects/7/views/1">MiniAuth.Identify project</a></p>
<pre><code>

---


Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-11


---
</code></pre>

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Statcounter and other scripts can be added here -->
</body>
</html>