<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wechat2tg - finalpi/wechat2tg zh-CN</title>
    <meta name="title" content="wechat2tg - finalpi/wechat2tg zh-CN | wechat2tg-mac 基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源 TG 群组: @Wx2TgUserGroup 主要功能 微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收 Telegram 向指定的微信用户、微信群、公众号发送消息 屏...">
    <meta name="description" content="finalpi/wechat2tg - GitHub repository zh-CN documentation and information | wechat2tg-mac 基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源 TG 群组: @Wx2TgUserGroup 主要功能 微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收 Telegram 向指定的微信用户、微信群、公众号发送消息 屏...">
    <meta name="keywords" content="finalpi, wechat2tg, GitHub, repository, zh-CN documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/finalpi/wechat2tg/README-zh-CN.html">
    <meta property="og:title" content="wechat2tg - finalpi/wechat2tg zh-CN | wechat2tg-mac 基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源 TG 群组: @Wx2TgUserGroup 主要功能 微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收 Telegram 向指定的微信用户、微信群、公众号发送消息 屏...">
    <meta property="og:description" content="finalpi/wechat2tg - GitHub repository zh-CN documentation and information | wechat2tg-mac 基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源 TG 群组: @Wx2TgUserGroup 主要功能 微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收 Telegram 向指定的微信用户、微信群、公众号发送消息 屏...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/finalpi/wechat2tg" id="githubRepoLink" target="_blank">finalpi/wechat2tg</a>
<h1 style="display: none;">wechat2tg-mac 基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源 TG 群组: @Wx2TgUserGroup 主要功能 微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收 Telegram 向指定的微信用户、微信群、公众号发送消息 屏...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>wechat2tg-mac</h1>
<p>基于微信 Mac 协议在 Telegram 收发微信消息，wx2tg-server 服务端出于安全考虑不开源</p>
<h2>TG 群组: <a href="https://t.me/+AD02MEZa-og3ZGY1">@Wx2TgUserGroup</a></h2>
<h2>主要功能</h2>
<ol>
<li>微信单聊消息、微信群消息、公众号消息的接收、企业微信消息的接收</li>
<li>Telegram 向指定的微信用户、微信群、公众号发送消息</li>
<li>屏蔽指定群组的消息</li>
</ol>
<h2>支持的消息类型</h2>
<h3>微信消息类型支持列表</h3>
<ul>
<li>[x] 文本消息</li>
<li>[x] 企业微信消息</li>
<li>[x] 微信表情包</li>
<li>[x] 图片消息</li>
<li>[x] 视频消息</li>
<li>[x] 音频/视频通话 (仅消息提醒)</li>
<li>[x] 文件消息</li>
<li>[x] 链接消息</li>
<li>[x] 群聊消息</li>
<li>[x] 群聊@消息（@所有人和@你 会转换成 Telegram @你）</li>
<li>[x] 公众号消息</li>
<li>[x] emoji</li>
<li>[x] 位置消息</li>
<li>[x] 撤回消息</li>
<li>[x] 语音消息</li>
<li>[ ] 红包消息（提醒，无法获取红包内容）</li>
<li>[ ] 小程序消息</li>
</ul>
<h3>Telegram 消息类型支持列表</h3>
<ul>
<li>[x] 文本消息</li>
<li>[x] 贴纸表情</li>
<li>[x] 图片消息</li>
<li>[x] 视频消息</li>
<li>[x] 文件消息</li>
<li>[x] 语音消息</li>
</ul>
<h2>注意事项</h2>
<ol>
<li>本项目仅用于技术研究和学习，不得用于非法用途</li>
<li>无论遇到什么问题都欢迎提交 issue</li>
</ol>
<h2>部署安装</h2>
<p>先复制一份 <code>.env.example</code> 为 <code>.env</code> 文件，然后配置 <code>.env</code> 文件中的环境变量</p>
<p>复制项目中的 <code>app.conf.example</code> 为 <code>app.conf</code> 文件到 <code>conf</code> 目录，将 Redis 地址设置为你部署的 Redis 的地址</p>
<h3>docker-compose</h3>
<p>创建 <code>docker-compose.yml</code> 文件：</p>
<pre><code class="language-yaml">version: '3'

services:
  wx2tg-mac:
    image: finalpi/wechat2tg-mac:latest
    container_name: wx2tg-mac
    volumes:
      - ./config:/app/storage
      - ./save-files:/app/save-files # 保存文件夹挂载后贴纸文件不需要重新转换
    env_file: &quot;.env&quot;
    restart: unless-stopped

  wx2tg-server:
    image: finalpi/wx2tg-server:latest # 拉取镜像
    container_name: wx2tg-server
    ports:
      - &quot;8058:8058&quot;
    volumes:
      - ./conf:/usr/wic-go/conf
    restart: unless-stopped

  wx2tg-redis:
    image: redis:7.2
    container_name: wx2tg-redis
    ports:
      - &quot;16379:6379&quot;
    volumes:
      - ./redis-data:/data
    command: [&quot;redis-server&quot;, &quot;--appendonly&quot;, &quot;yes&quot;]
    restart: unless-stopped
</code></pre>
<h4>运行</h4>
<pre><code class="language-shell">docker-compose up -d
</code></pre>
<h4>关闭 bot 隐私模式</h4>
<p>关闭掉机器人的隐私模式，打开 BotFather，输入 <code>/mybots</code>，选择你的bot。点击 <code>Bot Settings</code> - <code>Group Privacy</code> - <code>Turn off</code>
，出现 <code>Privacy mode is disabled for xxx</code> 就说明关闭成功了</p>
<h2>使用说明</h2>
<h3>BOT命令</h3>
<ul>
<li><p><code>/login</code>：获取登录二维码；首次部署启动时，最先发送 <code>/login</code> 命令的人将成为 <code>BOT</code> 的所有者</p>
</li>
<li><p><code>/flogin</code>：获取文件传输助手登录二维码，支持接收视频和文件</p>
</li>
<li><p><code>/update</code>：更新群组头像和昵称信息</p>
</li>
<li><p><code>/message</code>：开关群组消息接收</p>
</li>
<li><p><code>/forward</code>：开关转发群组内其他人或者 bot 的消息</p>
</li>
<li><p><code>/user</code>：获取微信用户列表；点击按钮后可创建新群组或者绑定用户（可通过名称或备注搜索，例如： <code>/user 张</code> 查找包含「张」的微信用户）</p>
</li>
<li><p><code>/room</code>：获取微信群列表；点击按钮后可创建新群组或者绑定微信群（可通过名称或备注搜索，例如： <code>/room 外卖</code> 查找含有「外卖」的微信群）</p>
</li>
<li><p><code>/settings</code>：程序设置</p>
</li>
<li><p><code>/unbind</code>：解绑微信群或微信用户（仅支持在群组使用）</p>
</li>
</ul>
<h3>环境变量说明</h3>
<p>|名称| 是否必填 | 描述                                                             |
|--|------|----------------------------------------------------------------|
|<code>BOT_TOKEN</code>| 是    | Telegram Bot 的 token，通过 <a href="https://t.me/BotFather">BotFather</a> 创建 |
|<code>API_ID</code>| 是    | Telegram API 的 API ID                                          |
|<code>API_HASH</code>| 是    | Telegram API 的 API HASH                                        |
|<code>BASE_API</code>| 是    | wx2tg-server 容器的 API 请求地址，需要填入完整路径名                            | |
|<code>PROXY_PROTOCOL</code>| 否    | 代理类型可选值（socks5,http,https）                                     |
|<code>PROXY_HOST</code>| 否    | 代理的 URL                                                        |
|<code>PROXY_PORT</code>| 否    | 代理的端口号                                                         |
|<code>PROXY_USERNAME</code>| 否    | 代理的用户名                                                         |
|<code>PROXY_PASSWORD</code>| 否    | 代理的密码                                                          |
|<code>ROOM_MESSAGE</code>| 否    | 在 BOT 中微信群消息的显示格式                                              |
|<code>OFFICIAL_MESSAGE</code>| 否    | 在 BOT 中公众号消息的显示格式                                              |
|<code>CONTACT_MESSAGE</code>| 否    | 在 BOT 中微信用户消息的显示格式                                             |
|<code>ROOM_MESSAGE_GROUP</code>| 否    | 在群组中微信群消息的显示格式                                                 |
|<code>CONTACT_MESSAGE_GROUP</code>| 否    | 在群组中微信用户消息的显示格式                                                |
|<code>OFFICIAL_MESSAGE_GROUP</code>| 否    | 在群组中公众号消息的显示格式                                                 |
|<code>CREATE_ROOM_NAME</code>| 否    | 自动创建微信群的群组时， 群组名称的格式                                           |
|<code>CREATE_CONTACT_NAME</code>| 否    | 自动创建微信联系人的群组时， 群组名称的格式                                         |
|<code>MESSAGE_DISPLAY</code>| 否    | 文字消息的显示格式                                                      |</p>
<hr />
<h3>设置项<code>/settings</code>命令说明</h3>
<p>1.微信emoji是否以图片链接显示: 开启后会将好友发过来的小黄人表情转为图片链接的方式显示</p>
<p>1.启动时同步群组信息: 开启后会在程序刚启动时同步所有人的信息，会更新群组头像和名称</p>
<hr />
<h3>语音转文字</h3>
<ol>
<li>配置 <code>TENCENT_SECRET_ID</code> 和 <code>TENCENT_SECRET_KEY</code> ，可在腾讯<a href="https://console.cloud.tencent.com/asr">语音识别控制台</a>开通
。有免费的使用额度</li>
<li>在 <code>/settings</code> 中开启自动文字转语音功能</li>
</ol>
<hr />
<h3>获取<code>API_ID</code> 和 <code>API_HASH</code></h3>
<ol>
<li><p>登录 <a href="https://my.telegram.org/">telegram account</a></p>
</li>
<li><p>然后点击「API development tools」并填写应用程序详细信息（只需应用程序标题和简称）</p>
</li>
<li><p>最后点击「Create application」</p>
</li>
</ol>
<hr />
<h3>自定义消息模板</h3>
<p>如果你想修改消息发送者的格式，你可以修改 docker 中的环境变量或者 <code>.env</code> 文件</p>
<p>自定义消息模板占位符:</p>
<p><code>#[alias]</code>：联系人备注</p>
<p><code>#[name]</code>：联系人昵称</p>
<p><code>#[topic]</code>：群聊昵称</p>
<p><code>#[alias_first]</code>：备注优先，如果没有备注就显示联系人的昵称</p>
<p><code>#[identity]</code>：身份信息文本</p>
<p><code>#[body]</code>：消息体文本</p>
<p><code>#[br]</code>：换行</p>
<h3>如何 @所有人</h3>
<p>发送以 <code>@all</code> 开头的消息会 @所有人，仅支持文本消息 @所有人</p>
<hr />
<h2>常见问题</h2>
<h2>参与开发</h2>
<ol>
<li>fork 项目，切换到 <code>wx2tg-mac-dev</code> 分支，或者新建一个分支。请不要直接提交代码到主分支</li>
<li>提交 Pull Request 到 <code>wx2tg-mac-dev</code> 分支</li>
</ol>
<h2>License</h2>
<p><a href="LICENSE">MIT</a></p>
<h2>Thanks</h2>
<p>感谢Jetbrains对本项目的支持</p>
<p><a href="https://www.jetbrains.com"><img src="https://resources.jetbrains.com/storage/products/company/brand/logos/jetbrains.png" width="200"></a></p>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-07</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>