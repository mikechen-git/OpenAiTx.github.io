<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apriltag-standalone - HexLoom/apriltag-standalone th</title>
    <meta name="title" content="apriltag-standalone - HexLoom/apriltag-standalone th | AprilTag独立检测库 นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags Deutsch | English | Español | français | 日本語 | 한국어 ...">
    <meta name="description" content="HexLoom/apriltag-standalone - GitHub repository th documentation and information | AprilTag独立检测库 นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags Deutsch | English | Español | français | 日本語 | 한국어 ...">
    <meta name="keywords" content="HexLoom, apriltag-standalone, GitHub, repository, th documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/HexLoom/apriltag-standalone/README-th.html">
    <meta property="og:title" content="apriltag-standalone - HexLoom/apriltag-standalone th | AprilTag独立检测库 นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags Deutsch | English | Español | français | 日本語 | 한국어 ...">
    <meta property="og:description" content="HexLoom/apriltag-standalone - GitHub repository th documentation and information | AprilTag独立检测库 นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags Deutsch | English | Español | français | 日本語 | 한국어 ...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/HexLoom/apriltag-standalone" id="githubRepoLink" target="_blank">HexLoom/apriltag-standalone</a>
<h1 style="display: none;">AprilTag独立检测库 นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags Deutsch | English | Español | français | 日本語 | 한국어 ...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>AprilTag独立检测库</h1>
<p>นี่คือชุดเครื่องมือสำหรับการตรวจจับและติดตาม AprilTag ในกล้อง โดยอิงจากไลบรารี pupil-apriltags</p>
<!-- Keep these links. Translations will automatically update with the README. -->
<p><a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=de">Deutsch</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=en">English</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=es">Español</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=fr">français</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=ja">日本語</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=ko">한국어</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=pt">Português</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=ru">Русский</a> |
<a href="https://www.readme-i18n.com/HexLoom/apriltag-standalone?lang=zh">中文</a></p>
<h2>ไลบรารีที่ต้องใช้</h2>
<ul>
<li>Python 3.6+</li>
<li>OpenCV</li>
<li>NumPy</li>
<li>pupil-apriltags</li>
</ul>
<h2>การติดตั้ง</h2>
<ol>
<li>ตรวจสอบให้แน่ใจว่าติดตั้ง Python แล้ว</li>
<li>ติดตั้งไลบรารีที่จำเป็น:</li>
</ol>
<pre><code class="language-bash">pip install opencv-python numpy pupil-apriltags
</code></pre>
<h2>วิธีใช้งาน</h2>
<h3>วิธีใช้พื้นฐาน</h3>
<pre><code class="language-python">import cv2
from apriltag import Detector, DetectorOptions

# สร้างตัวตรวจจับ
options = DetectorOptions(
    families=&quot;tag36h11&quot;,  # ตระกูลแท็ก
    border=1,             # ขนาดขอบแท็ก
    nthreads=4,           # จำนวนเธรด
    quad_decimate=1.0,    # อัตราการ downsample ของภาพ
    quad_blur=0.0,        # พารามิเตอร์ Gaussian blur
    refine_edges=True     # ปรับขอบแท็กให้แม่นยำ
)
detector = Detector(options)

# อ่านภาพ
img = cv2.imread(&quot;test_image.jpg&quot;)
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

# ตรวจจับ AprilTag
detections = detector.detect(gray)

# แสดงผลการตรวจจับ
for detection in detections:
    print(f&quot;ตระกูลแท็ก: {detection.tag_family}, ID: {detection.tag_id}&quot;)
    print(f&quot;ตำแหน่ง: {detection.center}&quot;)
    print(f&quot;จุดมุม: {detection.corners}&quot;)
</code></pre>
<h3>การวาดผลการตรวจจับ</h3>
<pre><code class="language-python">import numpy as np
from apriltag import draw_detection_results

# เมทริกซ์ปัจจัยภายในกล้องและพารามิเตอร์บิดเบือน
K = np.array([[800, 0, 320], [0, 800, 240], [0, 0, 1]], dtype=np.float32)
D = np.zeros((4, 1), dtype=np.float32)

# วาดผลการตรวจจับ
result_img = draw_detection_results(img, detections, K, D, tag_size=0.1)

# แสดงผลลัพธ์
cv2.imshow(&quot;AprilTag检测&quot;, result_img)
cv2.waitKey(0)
</code></pre>
<h3>การรันสคริปต์ทดสอบ</h3>
<p>มีสคริปต์ทดสอบอย่างง่ายให้ใช้งาน สามารถใช้ตรวจสอบฟังก์ชันการตรวจจับ AprilTag:</p>
<pre><code class="language-bash">python test_apriltag.py
</code></pre>
<p>จะเปิดกล้องของคอมพิวเตอร์และตรวจจับ AprilTag แบบเรียลไทม์ กดปุ่ม &quot;q&quot; เพื่อออก</p>
<h2>ตระกูลแท็กที่รองรับ</h2>
<p>ไลบรารี pupil-apriltags รองรับตระกูลแท็กต่อไปนี้:</p>
<ul>
<li>tag36h11 (ค่าเริ่มต้น)</li>
<li>tag25h9</li>
<li>tag16h5</li>
<li>tagCircle21h7</li>
<li>tagCircle49h12</li>
<li>tagStandard41h12</li>
<li>tagStandard52h13</li>
<li>tagCustom48h12</li>
</ul>
<h2>หมายเหตุ</h2>
<ul>
<li>เพื่อประสิทธิภาพที่ดียิ่งขึ้น สามารถปรับพารามิเตอร์ใน DetectorOptions ได้</li>
<li>สำหรับอุปกรณ์ที่มีทรัพยากรจำกัด สามารถเพิ่มค่าพารามิเตอร์ quad_decimate เพื่อลดความซับซ้อนของการประมวลผล</li>
<li>ตรวจสอบให้แน่ใจว่าขนาดแท็ก AprilTag ที่ใช้ตรงกับพารามิเตอร์ tag_size ที่กำหนดในโค้ด</li>
<li>การวาดแกนพิกัด 3 มิติ ต้องใช้ค่าพารามิเตอร์กล้องที่ถูกต้อง</li>
</ul>
<h2>คุณสมบัติเด่น</h2>
<ul>
<li>รองรับการตรวจจับ AprilTag แบบเรียลไทม์ผ่านกล้อง USB</li>
<li>คำนวณและแสดงตำแหน่ง (pose) 3 มิติของแท็ก (ตำแหน่งและทิศทาง)</li>
<li>รองรับการบันทึกภาพต้นฉบับและภาพที่มีการทำเครื่องหมายแล้ว</li>
<li>สามารถปรับแต่งค่าต่าง ๆ และพารามิเตอร์กล้องได้</li>
<li>มีเครื่องมือสำหรับการคาลิเบรตกล้องอย่างครบถ้วน</li>
<li>ไม่ขึ้นกับ ROS เป็นเวอร์ชัน Python ล้วนของแพ็คเกจ ROS เดิม</li>
</ul>
<h2>ขั้นตอนการติดตั้ง</h2>
<h3>1. ติดตั้งไลบรารี AprilTag C</h3>
<p>ไลบรารี C ของ AprilTag เป็นสิ่งที่จำเป็น กรุณาติดตั้งตามขั้นตอนดังนี้:</p>
<h4>Ubuntu/Debian:</h4>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install -y libapriltag-dev
</code></pre>
<h4>Windows:</h4>
<p>ผู้ใช้ Windows ต้องคอมไพล์เองหรือดาวน์โหลดไฟล์ไบนารีที่คอมไพล์แล้ว และต้องแน่ใจว่า <code>apriltag.dll</code> อยู่ใน PATH ของระบบหรือในไดเรกทอรีปัจจุบัน</p>
<h3>2. ติดตั้ง Python dependencies</h3>
<pre><code class="language-bash">pip install -r requirements.txt  -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
pip install pupil-apriltags -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
</code></pre>
<h2>คำแนะนำการใช้งาน</h2>
<h3>เริ่มต้นอย่างรวดเร็ว (แนะนำ)</h3>
<p>วิธีที่ง่ายที่สุดคือรันเครื่องมือแบบครบวงจร ซึ่งมีเมนูโต้ตอบเพื่อแนะนำขั้นตอนทั้งหมด:</p>
<pre><code class="language-bash">python apriltag_tool.py
</code></pre>
<p>เครื่องมือนี้จะมีตัวเลือกเมนู:</p>
<ol>
<li>สร้างบอร์ดคาลิเบรตแบบกระดานหมากรุก</li>
<li>คาลิเบรตกล้อง</li>
<li>ตรวจจับ AprilTag</li>
<li>ดูคู่มือช่วยเหลือ</li>
</ol>
<p>เพียงทำตามคำแนะนำในเมนู ก็จะสามารถดำเนินการได้ครบทุกขั้นตอน</p>
<h3>การคาลิเบรตกล้อง</h3>
<p>ก่อนใช้งานตรวจจับ AprilTag แนะนำให้คาลิเบรตกล้องเพื่อให้ได้พารามิเตอร์กล้องที่แม่นยำ:</p>
<pre><code class="language-bash"># สร้างกระดานหมากรุกสำหรับคาลิเบรตกล้อง
python create_chessboard.py --size 9x6 --square 100 --output chessboard.png --dpi 300

# พิมพ์กระดานหมากรุกและวัดขนาดช่องจริง แล้วทำการคาลิเบรต
python camera_calibration.py --size 9x6 --square 0.025 --output config/camera/HSK_200W53_1080P.yaml
</code></pre>
<p>คำอธิบายพารามิเตอร์:</p>
<p><strong>เครื่องมือสร้างกระดานหมากรุก (create_chessboard.py):</strong></p>
<ul>
<li><code>--size</code>: จำนวนจุดมุมภายในกระดานหมากรุก กว้างxสูง (ค่าเริ่มต้น: 9x6)</li>
<li><code>--square</code>: ขนาดช่องตาราง หน่วยพิกเซล (ค่าเริ่มต้น: 100)</li>
<li><code>--output</code>: เส้นทางไฟล์เอาต์พุต (ค่าเริ่มต้น: chessboard.png)</li>
<li><code>--dpi</code>: DPI ของภาพเอาต์พุต (ค่าเริ่มต้น: 300) มีผลต่อขนาดที่พิมพ์</li>
</ul>
<p><strong>โปรแกรมคาลิเบรตกล้อง (camera_calibration.py):</strong></p>
<ul>
<li><code>--size</code>: จำนวนจุดมุมภายในกระดานหมากรุก กว้างxสูง (ค่าเริ่มต้น: 9x6)</li>
<li><code>--square</code>: ขนาดช่องตาราง หน่วยเมตร (ค่าเริ่มต้น: 0.025)</li>
<li><code>--output</code>: เส้นทางไฟล์เอาต์พุต (ค่าเริ่มต้น: config/camera/HSK_200W53_1080P.yaml)</li>
<li><code>--camera</code>: หมายเลขอุปกรณ์กล้อง (ค่าเริ่มต้น: 0)</li>
<li><code>--width</code>: ความกว้างที่กล้องจับภาพ (ค่าเริ่มต้น: 1280)</li>
<li><code>--height</code>: ความสูงที่กล้องจับภาพ (ค่าเริ่มต้น: 720)</li>
<li><code>--samples</code>: จำนวนตัวอย่างที่ต้องใช้สำหรับคาลิเบรต (ค่าเริ่มต้น: 20)</li>
<li><code>--preview</code>: แสดงตัวอย่างผลคาลิเบรตหลังจากเสร็จสิ้น</li>
</ul>
<p>ขั้นตอนการคาลิเบรต:</p>
<ol>
<li>สร้างและพิมพ์กระดานหมากรุกสำหรับคาลิเบรต</li>
<li>วัดขนาดช่องจริง (หน่วยเป็นเมตร)</li>
<li>รันโปรแกรมคาลิเบรต วางกระดานหมากรุกไว้หน้ากล้อง และเก็บตัวอย่างจากหลายมุม</li>
<li>โปรแกรมจะตรวจจับกระดานหมากรุกและเก็บตัวอย่างอัตโนมัติ หรือกด 's' เพื่อบันทึกเฟรมปัจจุบันด้วยตนเอง</li>
<li>เมื่อเก็บตัวอย่างครบ โปรแกรมจะคำนวณและบันทึกพารามิเตอร์กล้องไปยังไฟล์ที่กำหนด</li>
</ol>
<h3>การตรวจจับ AprilTag</h3>
<p>หลังจากคาลิเบรตกล้องเสร็จ สามารถรันโปรแกรมตรวจจับ AprilTag ได้:</p>
<pre><code class="language-bash">python apriltag_detector.py
</code></pre>
<h3>การใช้งานขั้นสูง</h3>
<pre><code class="language-bash">python apriltag_detector.py [เส้นทางไฟล์คอนฟิก] --camera ไอดีของกล้อง --width ความกว้าง --height ความสูง --camera_info ไฟล์พารามิเตอร์กล้อง
</code></pre>
<p>คำอธิบายพารามิเตอร์:</p>
<ul>
<li><code>เส้นทางไฟล์คอนฟิก</code>: เส้นทางไฟล์คอนฟิกของ AprilTag (ค่าเริ่มต้น: <code>config/vision/tags_36h11_all.json</code>)</li>
<li><code>--camera</code>: ไอดีอุปกรณ์กล้อง (ค่าเริ่มต้น: 0)</li>
<li><code>--camera_info</code>: เส้นทางไฟล์พารามิเตอร์กล้อง (ค่าเริ่มต้น: <code>config/camera/HSK_200W53_1080P.yaml</code>)</li>
<li><code>--width</code>: ความกว้างของภาพที่กล้องจับ (ค่าเริ่มต้น: 1280)</li>
<li><code>--height</code>: ความสูงของภาพที่กล้องจับ (ค่าเริ่มต้น: 720)</li>
</ul>
<h3>การควบคุมด้วยปุ่มกด</h3>
<ul>
<li><code>q</code>: ออกจากโปรแกรม</li>
</ul>
<h2>คำอธิบายไฟล์คอนฟิก</h2>
<p>การตั้งค่าทั้งหมดของระบบสามารถปรับได้ในไฟล์ <code>config/vision/table_setup.json</code>:</p>
<pre><code class="language-json">{
    &quot;AprilTagConfig&quot;: {
        &quot;family&quot;: &quot;tag36h11&quot;,      // กลุ่มแท็ก
        &quot;size&quot;: 0.05,              // ขนาดแท็กจริง (หน่วย: เมตร)
        &quot;threads&quot;: 2,              // จำนวนเธรดประมวลผล
        &quot;max_hamming&quot;: 0,          // ระยะห่าง Hamming สูงสุด
        &quot;z_up&quot;: true,              // แกน Z ชี้ขึ้น
        &quot;decimate&quot;: 1.0,           // ตัวคูณลดขนาดภาพ
        &quot;blur&quot;: 0.8,               // ค่าสำหรับการเบลอ
        &quot;refine_edges&quot;: 1,         // ปรับขอบให้แม่นยำหรือไม่
        &quot;debug&quot;: 0                 // เปิดโหมดดีบักหรือไม่
    },

    &quot;Camera&quot;: {
        &quot;device_id&quot;: 0,            // ไอดีอุปกรณ์กล้อง
        &quot;width&quot;: 1280,             // ความละเอียดกล้อง (กว้าง)
        &quot;height&quot;: 720,             // ความละเอียดกล้อง (สูง)
        &quot;camera_info_path&quot;: &quot;config/camera/HSK_200W53_1080P.yaml&quot;  // ไฟล์พารามิเตอร์การคาลิเบรตกล้อง
    },

    &quot;Archive&quot;: {
        &quot;enable&quot;: true,            // เปิดใช้งานการเก็บข้อมูลหรือไม่
        &quot;preview&quot;: true,           // แสดงหน้าต่างพรีวิวหรือไม่
        &quot;save_raw&quot;: false,         // บันทึกภาพต้นฉบับหรือไม่
        &quot;save_pred&quot;: false,        // บันทึกภาพที่ตรวจจับหรือไม่
        &quot;path&quot;: &quot;./data/table_tracking&quot;  // เส้นทางบันทึกข้อมูล
    },

    &quot;TableConfig&quot;: {
        &quot;reference_tags&quot;: [0, 1, 2, 3],      // รายการ ID ของแท็กอ้างอิง
        &quot;moving_tags&quot;: [4, 5, 6],            // รายการ ID ของแท็กที่เคลื่อนที่
        &quot;require_initialization&quot;: true,       // ต้องการการเริ่มต้นหรือไม่
        &quot;tag_positions&quot;: {                    // ตำแหน่งแท็กที่ตั้งไว้ล่วงหน้า (ถ้ามี)
            &quot;0&quot;: [0.0, 0.0, 0.0],
            &quot;1&quot;: [0.5, 0.0, 0.0],
            &quot;2&quot;: [0.5, 0.5, 0.0],
            &quot;3&quot;: [0.0, 0.5, 0.0]
        }
    }
}
</code></pre>
<p>การแก้ไขไฟล์คอนฟิกสามารถใช้เพื่อ:</p>
<ol>
<li>กำหนดค่าพารามิเตอร์ของตัวตรวจจับ AprilTag</li>
<li>ตั้งค่าพารามิเตอร์กล้อง (ID อุปกรณ์, ความละเอียด, ไฟล์พารามิเตอร์)</li>
<li>ตั้งค่าตัวเลือกการเก็บข้อมูล</li>
<li>กำหนด ID ของแท็กอ้างอิงและแท็กที่เคลื่อนที่เอง</li>
<li>ควบคุมว่าจะต้องมีการเริ่มต้นหรือไม่ (ตั้งค่า <code>require_initialization</code> เป็น <code>false</code> เพื่อข้ามขั้นตอนนี้)</li>
<li>กำหนดตำแหน่งแท็กล่วงหน้า</li>
</ol>
<h3>วิธีการใช้งาน</h3>
<p>ง่ายมาก เพียงใช้คำสั่งเดียวเพื่อเริ่มระบบ:</p>
<pre><code>python table_tracking.py
</code></pre>
<p>หากต้องการใช้ไฟล์คอนฟิกที่กำหนดเอง:</p>
<pre><code>python table_tracking.py --config เส้นทางไฟล์คอนฟิกที่กำหนดเอง
</code></pre>
<p>เมื่อระบบทำงาน สามารถกดปุ่ม 'i' เพื่อเรียกการเริ่มต้น (initialization) ได้ตลอดเวลา</p>
<h2>คำถามที่พบบ่อย</h2>
<ol>
<li><p><strong>ไม่พบไลบรารี apriltag</strong></p>
<p>ตรวจสอบให้แน่ใจว่าได้ติดตั้งไลบรารี apriltag เรียบร้อยแล้ว และไฟล์ไลบรารีอยู่ในระบบ</p>
</li>
<li><p><strong>ไม่สามารถเปิดกล้องได้</strong></p>
<p>ตรวจสอบว่าไอดีอุปกรณ์กล้องถูกต้อง และกล้องไม่ได้ถูกใช้โดยโปรแกรมอื่น</p>
</li>
<li><p><strong>ผลการตรวจจับไม่แม่นยำ</strong></p>
<p>ตรวจสอบให้แน่ใจว่ากล้องได้รับการคาลิเบรตอย่างถูกต้อง และขนาดแท็กในไฟล์คอนฟิกถูกต้อง</p>
</li>
</ol>
<h2>คำอธิบายโครงสร้างไฟล์</h2>
<pre><code>apriltag_standalone/
├── apriltag.py              # โค้ดหลักของไลบรารีตรวจจับ AprilTag
├── apriltag_detector.py     # โปรแกรมหลักสำหรับตรวจจับ AprilTag
├── apriltag_tool.py         # เมนูเครื่องมือแบบรวม
├── camera_calibration.py    # โปรแกรมคาลิเบรตกล้อง
├── create_chessboard.py     # เครื่องมือสร้าง chessboard
├── configs.py               # จัดการไฟล์คอนฟิก
├── config/                  # โฟลเดอร์คอนฟิก
│   ├── camera/              # คอนฟิกกล้อง
│   │   └── HSK_200W53_1080P.yaml  # พารามิเตอร์กล้อง
│   └── vision/              # คอนฟิกวิชั่น
│       └── tags_36h11_all.json # คอนฟิก AprilTag
├── README.md                # คู่มือเอกสาร
└── requirements.txt         # รายการไลบรารี Python ที่ต้องใช้
</code></pre>
<h2>คำอธิบายทางเทคนิค</h2>
<p>โปรเจกต์นี้ถูกพอร์ตมาจาก ROS AprilTag detection package ให้เป็นเวอร์ชันแบบ standalone โดยตัดการพึ่งพา ROS และคงฟีเจอร์หลักไว้
เทคโนโลยีหลักที่ใช้ ได้แก่:</p>
<ul>
<li>OpenCV: สำหรับประมวลผลภาพ, คาลิเบรตกล้อง, และประมาณท่าทาง</li>
<li>ไลบรารี C ของ AprilTag: สำหรับการตรวจจับแท็ก</li>
<li>SciPy: สำหรับการแปลงเมทริกซ์หมุนและควอเทอร์เนียน</li>
</ul>
<h2>ใบอนุญาต</h2>
<p>โปรเจกต์นี้อยู่ภายใต้ MIT License</p>
<h2>คำอธิบายฟีเจอร์ใหม่</h2>
<h3>การติดตามหลายแท็กและรองรับการบังแท็ก</h3>
<p>ระบบนี้ขณะนี้รองรับฟีเจอร์ใหม่ดังต่อไปนี้:</p>
<ol>
<li><p><strong>การถ่ายภาพเพื่อเริ่มต้น</strong>: เมื่อระบบเริ่มทำงาน จะทำการถ่ายภาพเพื่อบันทึกความสัมพันธ์ของตำแหน่งแท็ก โดยรวมถึง</p>
<ul>
<li>ตำแหน่งแท็กอ้างอิง (ID 0-3)</li>
<li>ความสัมพันธ์ตำแหน่งระหว่างแท็กที่เคลื่อนที่ (เริ่มต้น ID 4,5,6)</li>
</ul>
</li>
<li><p><strong>รองรับการบังแท็ก</strong>: หลังจากเริ่มต้นแล้ว แม้ว่าแท็กบางตัวจะถูกบัง:</p>
<ul>
<li>หากแท็กอ้างอิงถูกบัง ระบบจะใช้แท็กอ้างอิงที่ยังมองเห็นเพื่อประมาณตำแหน่งแท็กที่ถูกบัง</li>
<li>หากแท็กที่เคลื่อนที่ถูกบัง ระบบจะใช้แท็กที่เคลื่อนที่ตัวอื่นที่ยังมองเห็นเพื่อประมาณตำแหน่งแท็กที่ถูกบัง</li>
</ul>
</li>
<li><p><strong>ติดตามหลายแท็ก</strong>: รองรับการติดตามแท็กที่เคลื่อนที่ได้หลายตัวพร้อมกัน (เริ่มต้นรองรับ ID 4,5,6)</p>
<ul>
<li>หากตำแหน่งสัมพัทธ์ระหว่างแท็กที่เคลื่อนที่คงที่ ตราบใดที่มองเห็นแท็กที่เคลื่อนที่ตัวใดตัวหนึ่ง ก็จะประมาณตำแหน่งแท็กอื่นๆ ได้</li>
<li>สามารถกำหนด ID ของแท็กที่เคลื่อนที่เองในไฟล์คอนฟิก</li>
</ul>
</li>
</ol>
<h3>คำอธิบายไฟล์คอนฟิก</h3>
<p>การตั้งค่าทั้งหมดของระบบสามารถปรับได้ในไฟล์ <code>config/vision/table_setup.json</code>:</p>
<pre><code class="language-json">{
    &quot;TableConfig&quot;: {
        &quot;reference_tags&quot;: [0, 1, 2, 3],      // รายการ ID ของแท็กอ้างอิง
        &quot;moving_tags&quot;: [4, 5, 6],            // รายการ ID ของแท็กที่เคลื่อนที่
        &quot;require_initialization&quot;: true,       // ต้องการการเริ่มต้นหรือไม่
        &quot;tag_positions&quot;: {                    // ตำแหน่งแท็กที่ตั้งไว้ล่วงหน้า (ถ้ามี)
            &quot;0&quot;: [0.0, 0.0, 0.0],
            &quot;1&quot;: [0.5, 0.0, 0.0],
            &quot;2&quot;: [0.5, 0.5, 0.0],
            &quot;3&quot;: [0.0, 0.5, 0.0]
        }
    }
}
</code></pre>
<p>การแก้ไขไฟล์คอนฟิกสามารถใช้เพื่อ:</p>
<ol>
<li>กำหนด ID ของแท็กอ้างอิงและแท็กที่เคลื่อนที่เอง</li>
<li>ควบคุมว่าจะต้องมีการเริ่มต้นหรือไม่ (ตั้งค่า <code>require_initialization</code> เป็น <code>false</code> เพื่อข้ามขั้นตอนนี้)</li>
<li>กำหนดตำแหน่งแท็กล่วงหน้า</li>
</ol>
<h3>วิธีการใช้งาน</h3>
<ol>
<li><p>เริ่มระบบด้วยคอนฟิกเริ่มต้น:</p>
<pre><code>python table_tracking.py
</code></pre>
</li>
<li><p>เริ่มระบบด้วยไฟล์คอนฟิกที่กำหนดเอง:</p>
<pre><code>python table_tracking.py --config เส้นทางไฟล์คอนฟิกที่กำหนดเอง
</code></pre>
</li>
<li><p>กดปุ่ม 'i' เพื่อเริ่มต้นใหม่ขณะระบบทำงาน</p>
</li>
</ol>
<h3>ข้อกำหนดในการรัน</h3>
<p>ตรวจสอบให้แน่ใจว่าแท็กทั้งหมดสามารถมองเห็นได้ขณะเริ่มต้น ระบบจะบันทึกความสัมพันธ์ตำแหน่งระหว่างแท็ก หลังจากเริ่มต้นแล้ว แม้ว่าแท็กบางตัวจะถูกบัง ระบบก็ยังสามารถประมาณตำแหน่งของแท็กทั้งหมดได้อย่างถูกต้อง</p>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-27</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>