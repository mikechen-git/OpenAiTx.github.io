<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sindresorhus/ky - ky</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="sindresorhus/ky - ky">
    <meta name="description" content="sindresorhus/ky - GitHub repository documentation and information">
    <meta name="keywords" content="sindresorhus, ky, GitHub, repository, documentation, ">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=nl">
    <meta property="og:title" content="sindresorhus/ky - ky">
    <meta property="og:description" content="sindresorhus/ky - GitHub repository documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="icon.jpg">
    <link rel="apple-touch-icon" href="icon.jpg">

    <!-- Marked.js for Markdown rendering -->
    <script type="text/javascript" async="" src="https://www.statcounter.com/counter/recorder.js"></script><script src="js/marked.min.js?v=20250613"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="css/github.min.css?v=20250613">
    <script src="js/highlight.min.js?v=20250613"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="view.css?v=20250613">
    <style>
        /* Layout */
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .main-container {
            margin: 0 auto;
            width: 100%;
            max-width: 980px;
            padding: 0 20px;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 0 15px;
            }
        }

        /* Image size restrictions */
        .markdown-body img {
            max-width: 100%;
            height: auto;
        }

        /* Existing styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f6f8fa;
            border-bottom: 1px solid #e1e4e8;
            position: relative;
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #0366d6;
            text-decoration: none;
            display: flex;
            align-items: center;
            font-size: 14px;
            padding: 5px 10px;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            background-color: #fff;
        }

        .back-button:hover {
            background-color: #f6f8fa;
            border-color: #0366d6;
        }

        .back-button::before {
            content: "←";
            margin-right: 5px;
            font-size: 16px;
        }

        .header .links {
            margin-top: 10px;
            font-size: 16px;
        }

        .header .links a {
            color: #0366d6;
            text-decoration: none;
            margin-left: 5px;
        }

        .header .links a:hover {
            text-decoration: underline;
        }
        
        /* Language badges styles */
        .language-badges {
            margin-top: 15px;
            text-align: center;
        }
        .language-badges a {
            display: inline-block;
            margin: 2px;
            text-decoration: none;
        }
        .language-badges img {
            height: 20px;
            border-radius: 3px;
        }
        .language-badges a:hover img {
            opacity: 0.8;
        }
    </style>
</head>

<body>
    <div class="header">
        <a href="javascript:history.back()" class="back-button">Back</a>
        <div class="links">
            GitHub Repository: <a href="https://github.com/sindresorhus/ky" id="githubRepoLink" target="_blank">sindresorhus/ky</a>
        </div>
        <div class="language-badges" id="languageBadges"><a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=en"><img src="https://img.shields.io/badge/EN-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=zh-CN"><img src="https://img.shields.io/badge/简中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=zh-TW"><img src="https://img.shields.io/badge/繁中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ja"><img src="https://img.shields.io/badge/日本語-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ko"><img src="https://img.shields.io/badge/한국어-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=th"><img src="https://img.shields.io/badge/ไทย-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=fr"><img src="https://img.shields.io/badge/Français-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=de"><img src="https://img.shields.io/badge/Deutsch-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=es"><img src="https://img.shields.io/badge/Español-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=it"><img src="https://img.shields.io/badge/Italiano-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ru"><img src="https://img.shields.io/badge/Русский-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=pt"><img src="https://img.shields.io/badge/Português-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=nl"><img src="https://img.shields.io/badge/Nederlands-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=pl"><img src="https://img.shields.io/badge/Polski-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ar"><img src="https://img.shields.io/badge/العربية-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=tr"><img src="https://img.shields.io/badge/Türkçe-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=vi"><img src="https://img.shields.io/badge/Tiếng Việt-white" alt="version"></a></div>
    </div>

    <div class="main-container">
        <div class="markdown-body" id="content"><div align="center">
	<br>
	<div>
		<img width="600" height="600" src="https://raw.githubusercontent.com/sindresorhus/ky/main/media/logo.svg" alt="ky">
	</div>
	<br>
	<br>
	<br>
</div>

<blockquote>
<p>Ky is een kleine en elegante HTTP-client gebaseerd op de <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">Fetch API</a></p>
</blockquote>
<p><a href="https://codecov.io/gh/sindresorhus/ky"><img src="https://codecov.io/gh/sindresorhus/ky/branch/main/graph/badge.svg" alt="Coverage Status"></a><br><a href="https://bundlephobia.com/result?p=ky"><img src="https://badgen.net/bundlephobia/minzip/ky" alt=""></a></p>
<p>Ky richt zich op <a href="#browser-support">moderne browsers</a>, Node.js, Bun en Deno.</p>
<p>Het is slechts een klein pakketje zonder afhankelijkheden.</p>
<h2>Voordelen ten opzichte van gewone <code>fetch</code></h2>
<ul>
<li>Eenvoudigere API</li>
<li>Methode-shortcuts (<code>ky.post()</code>)</li>
<li>Behandelt niet-2xx statuscodes als fouten (na redirects)</li>
<li>Probeert mislukte verzoeken opnieuw</li>
<li>JSON-optie</li>
<li>Ondersteuning voor time-outs</li>
<li>URL-voorvoegsel optie</li>
<li>Instanties met aangepaste standaardinstellingen</li>
<li>Hooks</li>
<li>TypeScript-voordelen (bijv. <code>.json()</code> ondersteunt generics en standaard op <code>unknown</code>, niet <code>any</code>)</li>
</ul>
<h2>Installeren</h2>
<pre><code class="language-sh hljs language-bash">npm install ky
</code></pre>
<h6>CDN</h6>
<ul>
<li><a href="https://cdn.jsdelivr.net/npm/ky/+esm">jsdelivr</a></li>
<li><a href="https://unpkg.com/ky">unpkg</a></li>
<li><a href="https://esm.sh/ky">esm.sh</a></li>
</ul>
<h2>Gebruik</h2>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, {<span class="hljs-attr">json</span>: {<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>}}).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<p>Met gewone <code>fetch</code> zou dit zijn:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HTTPError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {}

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
	<span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>}),
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
	}
});

<span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
	<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HTTPError</span>(<span class="hljs-string">`Fetch error: <span class="hljs-subst">${response.statusText}</span>`</span>);
}

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<p>Als je <a href="https://github.com/denoland/deno">Deno</a> gebruikt, importeer Ky dan vanaf een URL. Bijvoorbeeld, via een CDN:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/ky'</span>;
</code></pre>
<h2>API</h2>
<h3>ky(input, options?)</h3>
<p>De <code>input</code> en <code>options</code> zijn hetzelfde als bij <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>fetch</code></a>, met extra beschikbare <code>options</code> (zie hieronder).</p>
<p>Geeft een <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code> object</a> terug met <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#body"><code>Body</code> methoden</a> toegevoegd voor gemak. Je kunt dus bijvoorbeeld direct <code>ky.get(input).json()</code> aanroepen zonder eerst de <code>Response</code> te hoeven afwachten. Wanneer je dat zo aanroept, wordt er afhankelijk van de gebruikte body-methode een geschikte <code>Accept</code>-header gezet. In tegenstelling tot de <code>Body</code>-methoden van <code>window.Fetch</code>, zullen deze een <code>HTTPError</code> gooien als de response status niet in het bereik van <code>200...299</code> valt. Ook zal <code>.json()</code> een lege string retourneren als de body leeg is of de response status <code>204</code> is, in plaats van een parse-fout te gooien wegens een lege body.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/user'</span>).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);
</code></pre>
<p>⌨️ <strong>TypeScript:</strong> Accepteert een optionele <a href="https://www.typescriptlang.org/docs/handbook/2/generics.html">typeparameter</a>, die standaard <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown"><code>unknown</code></a> is, en wordt doorgegeven aan het returntype van <code>.json()</code>.</p>
<pre><code class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// user1 is unknown</span>
<span class="hljs-keyword">const</span> user1 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/users/1'</span>).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">// user2 is een User</span>
<span class="hljs-keyword">const</span> user2 = <span class="hljs-keyword">await</span> ky&lt;<span class="hljs-title class_">User</span>&gt;(<span class="hljs-string">'/api/users/2'</span>).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">// user3 is een User</span>
<span class="hljs-keyword">const</span> user3 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/users/3'</span>).<span class="hljs-property">json</span>&lt;<span class="hljs-title class_">User</span>&gt;();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([user1, user2, user3]);
</code></pre>
<h3>ky.get(input, options?)</h3>
<h3>ky.post(input, options?)</h3>
<h3>ky.put(input, options?)</h3>
<h3>ky.patch(input, options?)</h3>
<h3>ky.head(input, options?)</h3>
<h3>ky.delete(input, options?)</h3>
<p>Stelt <code>options.method</code> in op de methodenaam en voert een verzoek uit.</p>
<p>⌨️ <strong>TypeScript:</strong> Accepteert een optionele typeparameter voor gebruik met JSON-responses (zie <a href="#kyinput-options"><code>ky()</code></a>).</p>
<h4>input</h4>
<p>Type: <code>string</code> | <code>URL</code> | <code>Request</code></p>
<p>Hetzelfde als <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#input"><code>fetch</code> input</a>.</p>
<p>Wanneer je een <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> instantie als <code>input</code> gebruikt, worden alle URL-aanpassende opties (zoals <code>prefixUrl</code>) genegeerd.</p>
<h4>options</h4>
<p>Type: <code>object</code></p>
<p>Hetzelfde als <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#options"><code>fetch</code> options</a>, plus de volgende extra opties:</p>
<h5>method</h5>
<p>Type: <code>string</code><br>Standaard: <code>'get'</code></p>
<p>HTTP-methode die wordt gebruikt om het verzoek te doen.</p>
<p>Intern worden de standaardmethoden (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>HEAD</code> en <code>DELETE</code>) in hoofdletters omgezet om serverfouten door hoofdlettergevoeligheid te voorkomen.</p>
<h5>json</h5>
<p>Type: <code>object</code> en elke andere waarde die wordt geaccepteerd door <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a></p>
<p>Snelkoppeling voor het verzenden van JSON. Gebruik dit in plaats van de <code>body</code> optie. Accepteert elk gewoon object of waarde, die met <code>JSON.stringify()</code> wordt omgezet en met de juiste header in de body wordt verzonden.</p>
<h5>searchParams</h5>
<p>Type: <code>string | object&lt;string, string | number | boolean&gt; | Array&lt;Array&lt;string | number | boolean&gt;&gt; | URLSearchParams</code><br>Standaard: <code>''</code></p>
<p>Zoekparameters die in de request-URL moeten worden opgenomen. Als je dit instelt, overschrijft het alle bestaande zoekparameters in de input-URL.</p>
<p>Accepteert elke waarde die wordt ondersteund door <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams"><code>URLSearchParams()</code></a>.</p>
<h5>prefixUrl</h5>
<p>Type: <code>string | URL</code></p>
<p>Een voorvoegsel dat aan de <code>input</code>-URL wordt toegevoegd bij het uitvoeren van het verzoek. Dit kan elke geldige URL zijn, relatief of absoluut. Een afsluitende slash <code>/</code> is optioneel en wordt automatisch toegevoegd indien nodig, wanneer deze wordt samengevoegd met <code>input</code>. Heeft alleen effect als <code>input</code> een string is. Het <code>input</code>-argument mag niet beginnen met een slash <code>/</code> wanneer je deze optie gebruikt.</p>
<p>Handig in combinatie met <a href="#kyextenddefaultoptions"><code>ky.extend()</code></a> om specifieke Ky-instanties te maken.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// Op https://example.com</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'unicorn'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'/api'</span>});
<span class="hljs-comment">//=&gt; 'https://example.com/api/unicorn'</span>

<span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'unicorn'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://cats.com'</span>});
<span class="hljs-comment">//=&gt; 'https://cats.com/unicorn'</span>
</code></pre>
<p>Opmerkingen:</p>
<ul>
<li>Nadat <code>prefixUrl</code> en <code>input</code> zijn samengevoegd, wordt het resultaat vergeleken met de <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/baseURI">basis-URL</a> van de pagina (indien aanwezig).</li>
<li>Voorloopslashes in <code>input</code> zijn niet toegestaan bij gebruik van deze optie om consistentie te waarborgen en verwarring te voorkomen over hoe de <code>input</code>-URL wordt behandeld, aangezien <code>input</code> niet de normale URL-resolutieregels volgt wanneer <code>prefixUrl</code> wordt gebruikt, wat de betekenis van een voorloopslash verandert.</li>
</ul>
<h5>retry</h5>
<p>Type: <code>object | number</code><br>Standaard:</p>
<ul>
<li><code>limit</code>: <code>2</code></li>
<li><code>methods</code>: <code>get</code> <code>put</code> <code>head</code> <code>delete</code> <code>options</code> <code>trace</code></li>
<li><code>statusCodes</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408"><code>408</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413"><code>413</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429"><code>429</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500"><code>500</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/502"><code>502</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503"><code>503</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504"><code>504</code></a></li>
<li><code>afterStatusCodes</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413"><code>413</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429"><code>429</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503"><code>503</code></a></li>
<li><code>maxRetryAfter</code>: <code>undefined</code></li>
<li><code>backoffLimit</code>: <code>undefined</code></li>
<li><code>delay</code>: <code>attemptCount =&gt; 0.3 * (2 ** (attemptCount - 1)) * 1000</code><br>Een object dat de velden <code>limit</code>, <code>methods</code>, <code>statusCodes</code>, <code>afterStatusCodes</code>, en <code>maxRetryAfter</code> vertegenwoordigt voor het maximaal aantal pogingen, toegestane methoden, toegestane statuscodes, statuscodes waarvoor de <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>-tijd gebruikt mag worden, en maximale <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>-tijd.</li>
</ul>
<p>Als <code>retry</code> een getal is, wordt dit gebruikt als <code>limit</code> en blijven de overige standaardwaarden gehandhaafd.</p>
<p>Als de respons een HTTP-status bevat die in <code>afterStatusCodes</code> staat, wacht Ky tot de datum, time-out of timestamp die is opgegeven in de <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>-header is verstreken voordat het verzoek opnieuw wordt geprobeerd. Als <code>Retry-After</code> ontbreekt, wordt de niet-standaard <a href="https://www.ietf.org/archive/id/draft-polli-ratelimit-headers-05.html#section-3.3"><code>RateLimit-Reset</code></a>-header gebruikt als alternatief. Als de opgegeven statuscode niet in de lijst staat, wordt de <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>-header genegeerd.</p>
<p>Als <code>maxRetryAfter</code> is ingesteld op <code>undefined</code>, gebruikt het <code>options.timeout</code>. Als de <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>-header groter is dan <code>maxRetryAfter</code>, wordt <code>maxRetryAfter</code> gebruikt.</p>
<p>De <code>backoffLimit</code>-optie is de bovengrens voor de vertraging per poging in milliseconden.<br>Om de vertraging te beperken, stel je bijvoorbeeld <code>backoffLimit</code> in op 1000.<br>Standaard wordt de vertraging berekend met <code>0.3 * (2 ** (attemptCount - 1)) * 1000</code>. De vertraging neemt exponentieel toe.</p>
<p>Met de optie <code>delay</code> kun je aanpassen hoe de vertraging tussen pogingen wordt berekend. De functie ontvangt één parameter, het aantal pogingen, te beginnen bij <code>1</code>.</p>
<p>Opnieuw proberen wordt niet geactiveerd na een <a href="#timeout">timeout</a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">retry</span>: {
		<span class="hljs-attr">limit</span>: <span class="hljs-number">10</span>,
		<span class="hljs-attr">methods</span>: [<span class="hljs-string">'get'</span>],
		<span class="hljs-attr">statusCodes</span>: [<span class="hljs-number">413</span>],
		<span class="hljs-attr">backoffLimit</span>: <span class="hljs-number">3000</span>
	}
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>timeout</h5>
<p>Type: <code>number | false</code><br>Standaard: <code>10000</code></p>
<p>Time-out in milliseconden voor het ontvangen van een respons, inclusief eventuele herhalingen. Kan niet groter zijn dan 2147483647.<br>Indien ingesteld op <code>false</code>, geldt er geen time-out.</p>
<h5>hooks</h5>
<p>Type: <code>object&lt;string, Function[]&gt;</code><br>Standaard: <code>{beforeRequest: [], beforeRetry: [], afterResponse: []}</code></p>
<p>Hooks maken aanpassingen mogelijk tijdens de levenscyclus van het verzoek. Hook-functies mogen asynchroon zijn en worden serieel uitgevoerd.</p>
<h6>hooks.beforeRequest</h6>
<p>Type: <code>Function[]</code><br>Standaard: <code>[]</code></p>
<p>Met deze hook kun je het verzoek aanpassen vlak voordat het wordt verzonden. Ky zal daarna geen verdere wijzigingen meer aanbrengen aan het verzoek. De hook-functie ontvangt <code>request</code> en <code>options</code> als argumenten. Je kunt hier bijvoorbeeld de <code>request.headers</code> aanpassen.</p>
<p>De hook kan een <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> retourneren om het uitgaande verzoek te vervangen, of een <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a> retourneren om het HTTP-verzoek volledig over te slaan. Dit kan gebruikt worden om een verzoek te mocken, een interne cache te controleren, enzovoort. Een <strong>belangrijke</strong> overweging bij het retourneren van een request of response uit deze hook is dat resterende <code>beforeRequest</code>-hooks worden overgeslagen, dus je wilt deze mogelijk alleen uit de laatste hook retourneren.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">extend</span>({
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: [
			<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
				request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'X-Requested-With'</span>, <span class="hljs-string">'ky'</span>);
			}
		]
	}
});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://example.com/api/users'</span>);
</code></pre>
<h6>hooks.beforeRetry</h6>
<p>Type: <code>Function[]</code><br>Standaard: <code>[]</code></p>
<p>Met deze hook kun je het verzoek aanpassen vlak voor een herhaling. Ky zal daarna geen verdere wijzigingen meer aanbrengen aan het verzoek. De hook-functie ontvangt een object met het genormaliseerde verzoek en opties, een error-instantie en het aantal herhalingen. Je kunt hier bijvoorbeeld <code>request.headers</code> aanpassen.</p>
<p>Als het verzoek een respons heeft ontvangen, is de error van het type <code>HTTPError</code> en is het <code>Response</code>-object beschikbaar op <code>error.response</code>. Let op: sommige fouten, zoals netwerkfouten, betekenen per definitie dat er geen respons is ontvangen. In dat geval is de error geen instantie van <code>HTTPError</code>.</p>
<p>Je kunt voorkomen dat Ky het verzoek opnieuw probeert door een fout te gooien. Ky zal deze op geen enkele manier afhandelen en de fout wordt doorgegeven aan de initiator van het verzoek. De overige <code>beforeRetry</code>-hooks worden in dit geval niet aangeroepen. Je kunt ook het <a href="#kystop"><code>ky.stop</code></a>-symbool retourneren om hetzelfde te doen, maar dan zonder een fout door te geven (dit heeft enkele beperkingen, zie de documentatie van <code>ky.stop</code> voor details).</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRetry</span>: [
			<span class="hljs-keyword">async</span> ({request, options, error, retryCount}) =&gt; {
				<span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/refresh-token'</span>);
				request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">`token <span class="hljs-subst">${token}</span>`</span>);
			}
		]
	}
});
</code></pre>
<h6>hooks.beforeError</h6>
<p>Type: <code>Function[]</code><br>Standaard: <code>[]</code></p>
<p>Met deze hook kun je de <code>HTTPError</code> aanpassen vlak voordat deze wordt gegooid. De hook-functie ontvangt een <code>HTTPError</code> als argument en moet een instantie van <code>HTTPError</code> retourneren.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeError</span>: [
			<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
				<span class="hljs-keyword">const</span> {response} = error;
				<span class="hljs-keyword">if</span> (response &amp;&amp; response.<span class="hljs-property">body</span>) {
					error.<span class="hljs-property">name</span> = <span class="hljs-string">'GitHubError'</span>;
					error.<span class="hljs-property">message</span> = <span class="hljs-string">`<span class="hljs-subst">${response.body.message}</span> (<span class="hljs-subst">${response.status}</span>)`</span>;
				}

				<span class="hljs-keyword">return</span> error;
			}
		]
	}
});
</code></pre>
<h6>hooks.afterResponse</h6>
<p>Type: <code>Function[]</code><br>Standaard: <code>[]</code></p>
<p>Met deze hook kun je de response lezen en eventueel aanpassen. De hook-functie ontvangt het genormaliseerde verzoek, opties en een kloon van de response als argumenten. De returnwaarde van de hook-functie wordt door Ky als responsobject gebruikt als het een instantie is van <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">afterResponse</span>: [
			<span class="hljs-function">(<span class="hljs-params">_request, _options, response</span>) =&gt;</span> {
				<span class="hljs-comment">// Je kunt bijvoorbeeld iets doen met de response, bijvoorbeeld logging.</span>
				<span class="hljs-title function_">log</span>(response);

				<span class="hljs-comment">// Of een `Response`-instantie retourneren om de response te overschrijven.</span>
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'A different response'</span>, {<span class="hljs-attr">status</span>: <span class="hljs-number">200</span>});
			},

			<span class="hljs-comment">// Of opnieuw proberen met een verse token bij een 403-fout</span>
			<span class="hljs-keyword">async</span> (request, options, response) =&gt; {
				<span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> === <span class="hljs-number">403</span>) {
					<span class="hljs-comment">// Verkrijg een nieuwe token</span>
					<span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/token'</span>).<span class="hljs-title function_">text</span>();

					<span class="hljs-comment">// Probeer opnieuw met de token</span>
					request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">`token <span class="hljs-subst">${token}</span>`</span>);

					<span class="hljs-keyword">return</span> <span class="hljs-title function_">ky</span>(request);
				}
			}
		]
	}
});
</code></pre>
<h5>throwHttpErrors</h5>
<p>Type: <code>boolean</code><br>Standaard: <code>true</code></p>
<p>Gooi een <code>HTTPError</code> wanneer, na het volgen van redirects, de respons een niet-2xx statuscode heeft. Om ook te gooien bij redirects in plaats van deze te volgen, stel je de <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters"><code>redirect</code></a>-optie in op <code>'manual'</code>.</p>
<p>Dit op <code>false</code> zetten kan nuttig zijn als je controleert op beschikbaarheid van een resource en foutresponsen verwacht.</p>
<p>Let op: Als <code>false</code>, worden foutresponsen als succesvol beschouwd en wordt het verzoek niet opnieuw geprobeerd.</p>
<h5>onDownloadProgress</h5>
<p>Type: <code>Function</code></p>
<p>Event handler voor downloadvoortgang.</p>
<p>De functie ontvangt deze argumenten:</p>
<ul>
<li><code>progress</code> is een object met de volgende eigenschappen:</li>
<li><ul>
<li><code>percent</code> is een getal tussen 0 en 1 dat het voortgangspercentage aangeeft.</li>
</ul>
</li>
<li><ul>
<li><code>transferredBytes</code> is het aantal tot nu toe overgedragen bytes.</li>
</ul>
</li>
<li><ul>
<li><code>totalBytes</code> is het totaal aantal bytes dat moet worden overgedragen. Dit is een schatting en kan 0 zijn als de totale grootte niet kan worden bepaald.</li>
</ul>
</li>
<li><code>chunk</code> is een instantie van <code>Uint8Array</code> met de verzonden data. Let op: bij de eerste aanroep is deze leeg.</li>
</ul>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">onDownloadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress, chunk</span>) =&gt;</span> {
		<span class="hljs-comment">// Voorbeeldoutput:</span>
		<span class="hljs-comment">// `0% - 0 van 1271 bytes`</span>
		<span class="hljs-comment">// `100% - 1271 van 1271 bytes`</span>
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${progress.percent * <span class="hljs-number">100</span>}</span>% - <span class="hljs-subst">${progress.transferredBytes}</span> van <span class="hljs-subst">${progress.totalBytes}</span> bytes`</span>);
	}
});
</code></pre>
<h5>onUploadProgress</h5>
<p>Type: <code>Function</code><br>Upload voortgangsevenement handler.</p>
<p>De functie ontvangt deze argumenten:</p>
<ul>
<li><code>progress</code> is een object met de volgende eigenschappen:</li>
<li><ul>
<li><code>percent</code> is een getal tussen 0 en 1 dat het voortgangspercentage weergeeft.</li>
</ul>
</li>
<li><ul>
<li><code>transferredBytes</code> is het aantal bytes dat tot nu toe is overgedragen.</li>
</ul>
</li>
<li><ul>
<li><code>totalBytes</code> is het totale aantal bytes dat overgedragen moet worden. Dit is een schatting en kan 0 zijn als de totale grootte niet kan worden bepaald.</li>
</ul>
</li>
<li><code>chunk</code> is een instantie van <code>Uint8Array</code> die de verzonden gegevens bevat. Opmerking: deze is leeg bij de laatste aanroep.</li>
</ul>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com/upload'</span>, {
	<span class="hljs-attr">body</span>: largeFile,
	<span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress, chunk</span>) =&gt;</span> {
		<span class="hljs-comment">// Voorbeeld output:</span>
		<span class="hljs-comment">// `0% - 0 van 1271 bytes`</span>
		<span class="hljs-comment">// `100% - 1271 van 1271 bytes`</span>
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${progress.percent * <span class="hljs-number">100</span>}</span>% - <span class="hljs-subst">${progress.transferredBytes}</span> van <span class="hljs-subst">${progress.totalBytes}</span> bytes`</span>);
	}
});
</code></pre>
<h5>parseJson</h5>
<p>Type: <code>Function</code><br>Standaard: <code>JSON.parse()</code></p>
<p>Door de gebruiker gedefinieerde JSON-parseringsfunctie.</p>
<p>Gebruikssituaties:</p>
<ol>
<li>Parseer JSON via het <a href="https://github.com/hapijs/bourne"><code>bourne</code>-pakket</a> om te beschermen tegen prototype-vervuiling.</li>
<li>Parseer JSON met de <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>reviver</code> optie van <code>JSON.parse()</code></a>.</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> bourne <span class="hljs-keyword">from</span> <span class="hljs-string">'@hapijs/bourne'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">parseJson</span>: <span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> <span class="hljs-title function_">bourne</span>(text)
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>stringifyJson</h5>
<p>Type: <code>Function</code><br>Standaard: <code>JSON.stringify()</code></p>
<p>Door de gebruiker gedefinieerde JSON-stringifieringsfunctie.</p>
<p>Gebruikssituaties:</p>
<ol>
<li>Stringify JSON met een aangepaste <code>replacer</code> functie.</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">DateTime</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'luxon'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">stringifyJson</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> {
		<span class="hljs-keyword">if</span> (key.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'_at'</span>)) {
			<span class="hljs-keyword">return</span> <span class="hljs-title class_">DateTime</span>.<span class="hljs-title function_">fromISO</span>(value).<span class="hljs-title function_">toSeconds</span>();
		}

		<span class="hljs-keyword">return</span> value;
	})
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>fetch</h5>
<p>Type: <code>Function</code><br>Standaard: <code>fetch</code></p>
<p>Door de gebruiker gedefinieerde <code>fetch</code> functie.<br>Moet volledig compatibel zijn met de <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> standaard.</p>
<p>Gebruikssituaties:</p>
<ol>
<li>Gebruik aangepaste <code>fetch</code> implementaties zoals <a href="https://www.npmjs.com/package/isomorphic-unfetch"><code>isomorphic-unfetch</code></a>.</li>
<li>Gebruik de <code>fetch</code> wrapperfunctie geleverd door sommige frameworks die server-side rendering (SSR) gebruiken.</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'isomorphic-unfetch'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {fetch}).<span class="hljs-title function_">json</span>();
</code></pre>
<h3>ky.extend(defaultOptions)</h3>
<p>Maak een nieuwe <code>ky</code> instantie aan met enkele standaardinstellingen die zijn overschreven met je eigen instellingen.</p>
<p>In tegenstelling tot <code>ky.create()</code>, erft <code>ky.extend()</code> standaardwaarden van zijn ouder.</p>
<p>Je kunt headers doorgeven als een <code>Headers</code> instantie of als een gewoon object.</p>
<p>Je kunt een header verwijderen met <code>.extend()</code> door de header met een <code>undefined</code> waarde door te geven.<br>Als je <code>undefined</code> als string doorgeeft, wordt de header alleen verwijderd als deze uit een <code>Headers</code> instantie komt.</p>
<p>Op dezelfde manier kun je bestaande <code>hooks</code>-vermeldingen verwijderen door de hook uit te breiden met een expliciete <code>undefined</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> url = <span class="hljs-string">'https://sindresorhus.com'</span>;

<span class="hljs-keyword">const</span> original = ky.<span class="hljs-title function_">create</span>({
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-attr">rainbow</span>: <span class="hljs-string">'rainbow'</span>,
		<span class="hljs-attr">unicorn</span>: <span class="hljs-string">'unicorn'</span>
	},
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'before 1'</span>) ],
		<span class="hljs-attr">afterResponse</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'after 1'</span>) ],
	},
});

<span class="hljs-keyword">const</span> extended = original.<span class="hljs-title function_">extend</span>({
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-attr">rainbow</span>: <span class="hljs-literal">undefined</span>
	},
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: <span class="hljs-literal">undefined</span>,
		<span class="hljs-attr">afterResponse</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'after 2'</span>) ],
	}
});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">extended</span>(url).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">//=&gt; after 1</span>
<span class="hljs-comment">//=&gt; after 2</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'rainbow'</span> <span class="hljs-keyword">in</span> response);
<span class="hljs-comment">//=&gt; false</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'unicorn'</span> <span class="hljs-keyword">in</span> response);
<span class="hljs-comment">//=&gt; true</span>
</code></pre>
<p>Je kunt ook verwijzen naar de ouderstandaarden door een functie aan <code>.extend()</code> te geven.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">create</span>({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://example.com/api'</span>});

<span class="hljs-keyword">const</span> usersApi = api.<span class="hljs-title function_">extend</span>(<span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> ({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">`<span class="hljs-subst">${options.prefixUrl}</span>/users`</span>}));

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> usersApi.<span class="hljs-title function_">get</span>(<span class="hljs-string">'123'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/users/123'</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'version'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/version'</span>
</code></pre>
<h3>ky.create(defaultOptions)</h3>
<p>Maak een nieuwe Ky-instantie aan met volledig nieuwe standaardinstellingen.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// Op https://my-site.com</span>

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">create</span>({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://example.com/api'</span>});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'users/123'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/users/123'</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/status'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">''</span>});
<span class="hljs-comment">//=&gt; 'https://my-site.com/status'</span>
</code></pre>
<h4>defaultOptions</h4>
<p>Type: <code>object</code></p>
<h3>ky.stop</h3>
<p>Een <code>Symbol</code> dat kan worden geretourneerd door een <code>beforeRetry</code> hook om het opnieuw proberen te stoppen. Dit zal ook de resterende <code>beforeRetry</code> hooks kortsluiten.</p>
<p>Opmerking: Het retourneren van dit symbool zorgt ervoor dat Ky afbreekt en terugkeert met een <code>undefined</code> response. Zorg ervoor dat je controleert op een response voordat je eigenschappen ervan benadert of gebruik <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">optionele chaining</a>. Het is ook niet compatibel met body-methoden, zoals <code>.json()</code> of <code>.text()</code>, omdat er geen response is om te parsen. In het algemeen raden we aan een fout te gooien in plaats van dit symbool te retourneren, omdat Ky dan zal afbreken en gooien, wat deze beperkingen voorkomt.</p>
<p>Een geldig gebruik van <code>ky.stop</code> is om te voorkomen dat verzoeken opnieuw worden geprobeerd wanneer je verzoeken doet voor neveneffecten, waarbij de geretourneerde gegevens niet belangrijk zijn. Bijvoorbeeld, het loggen van cliëntactiviteit naar de server.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> options = {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRetry</span>: [
			<span class="hljs-keyword">async</span> ({request, options, error, retryCount}) =&gt; {
				<span class="hljs-keyword">const</span> shouldStopRetry = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/api'</span>);
				<span class="hljs-keyword">if</span> (shouldStopRetry) {
					<span class="hljs-keyword">return</span> ky.<span class="hljs-property">stop</span>;
				}
			}
		]
	}
};
</code></pre>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// Merk op dat response `undefined` zal zijn in het geval dat `ky.stop` wordt geretourneerd.</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, options);

<span class="hljs-comment">// Het gebruik van `.text()` of andere body-methoden wordt niet ondersteund.</span>
<span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, options).<span class="hljs-title function_">text</span>();
</code></pre>
<h3>HTTPError</h3>
<p>Blootgesteld voor <code>instanceof</code>-controles. De error heeft een <code>response</code>-eigenschap met het <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code> object</a>, een <code>request</code>-eigenschap met het <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code> object</a>, en een <code>options</code>-eigenschap met genormaliseerde opties (ofwel doorgegeven aan <code>ky</code> bij het aanmaken van een instantie met <code>ky.create()</code>, of direct bij het uitvoeren van het verzoek).</p>
<p>Wees ervan bewust dat sommige soorten fouten, zoals netwerkfouten, inherent betekenen dat er geen response is ontvangen. In dat geval zal de error geen instantie van HTTPError zijn en geen <code>response</code>-eigenschap bevatten.</p>
<p>Als je de daadwerkelijke response wilt lezen wanneer een <code>HTTPError</code> is opgetreden, roep dan de betreffende parser-methode aan op het response-object. Bijvoorbeeld:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">try</span> {
	<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>).<span class="hljs-title function_">json</span>();
} <span class="hljs-keyword">catch</span> (error) {
	<span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">'HTTPError'</span>) {
		<span class="hljs-keyword">const</span> errorJson = <span class="hljs-keyword">await</span> error.<span class="hljs-property">response</span>.<span class="hljs-title function_">json</span>();
	}
}
</code></pre>
<p>⌨️ <strong>TypeScript:</strong> Accepteert een optionele <a href="https://www.typescriptlang.org/docs/handbook/2/generics.html">typeparameter</a>, die standaard <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown"><code>unknown</code></a> is, en wordt doorgegeven aan het returntype van <code>error.response.json()</code>.</p>
<h3>TimeoutError</h3>
<p>De error die wordt opgegooid wanneer het verzoek een timeout heeft. Het bevat een <code>request</code>-eigenschap met het <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code> object</a>.</p>
<h2>Tips</h2>
<h3>Verzenden van form data</h3>
<p>Het verzenden van form data in Ky is identiek aan <code>fetch</code>. Geef gewoon een <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>FormData</code></a> instantie door aan de <code>body</code> optie. De <code>Content-Type</code> header wordt automatisch ingesteld op <code>multipart/form-data</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// `multipart/form-data`</span>
<span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'food'</span>, <span class="hljs-string">'fries'</span>);
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'drink'</span>, <span class="hljs-string">'icetea'</span>);

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(url, {<span class="hljs-attr">body</span>: formData});
</code></pre>
<p>Als je de data in <code>application/x-www-form-urlencoded</code> formaat wilt verzenden, moet je de data encoderen met <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// `application/x-www-form-urlencoded`</span>
<span class="hljs-keyword">const</span> searchParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>();
searchParams.<span class="hljs-title function_">set</span>(<span class="hljs-string">'food'</span>, <span class="hljs-string">'fries'</span>);
searchParams.<span class="hljs-title function_">set</span>(<span class="hljs-string">'drink'</span>, <span class="hljs-string">'icetea'</span>);

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(url, {<span class="hljs-attr">body</span>: searchParams});
</code></pre>
<h3>Instellen van een aangepaste <code>Content-Type</code></h3>
<p>Ky stelt automatisch een geschikte <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><code>Content-Type</code></a> header in voor elk verzoek op basis van de data in de request body. Sommige API's vereisen echter aangepaste, niet-standaard content types, zoals <code>application/x-amz-json-1.1</code>. Met de <code>headers</code> optie kun je het content type handmatig overschrijven.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
	},
	<span class="hljs-attr">json</span>: {
		<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>
	},
}).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<h3>Annuleren</h3>
<p>Fetch (en dus Ky) heeft ingebouwde ondersteuning voor het annuleren van verzoeken via de <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController"><code>AbortController</code> API</a>. <a href="https://developers.google.com/web/updates/2017/09/abortable-fetch">Lees meer.</a></p>
<p>Voorbeeld:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
<span class="hljs-keyword">const</span> {signal} = controller;

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
	controller.<span class="hljs-title function_">abort</span>();
}, <span class="hljs-number">5000</span>);

<span class="hljs-keyword">try</span> {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(url, {signal}).<span class="hljs-title function_">text</span>());
} <span class="hljs-keyword">catch</span> (error) {
	<span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">'AbortError'</span>) {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Fetch afgebroken'</span>);
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Fetch-fout:'</span>, error);
	}
}
</code></pre>
<h2>FAQ</h2>
<h4>Hoe gebruik ik dit in Node.js?</h4>
<p>Node.js 18 en later ondersteunt <code>fetch</code> native, dus je kunt dit pakket direct gebruiken.</p>
<h4>Hoe gebruik ik dit met een webapp (React, Vue.js, enz.) die server-side rendering (SSR) gebruikt?</h4>
<p>Hetzelfde als hierboven.</p>
<h4>Hoe test ik een browserbibliotheek die dit gebruikt?</h4>
<p>Gebruik ofwel een testrunner die in de browser kan draaien, zoals Mocha, of gebruik <a href="https://avajs.dev">AVA</a> met <code>ky-universal</code>. <a href="https://github.com/sindresorhus/ky-universal#faq">Lees meer.</a></p>
<h4>Hoe gebruik ik dit zonder een bundler zoals Webpack?</h4>
<p>Zorg ervoor dat je code wordt uitgevoerd als een JavaScript-module (ESM), bijvoorbeeld door een <code>&lt;script type="module"&gt;</code>-tag te gebruiken in je HTML-document. Dan kan Ky direct door die module worden geïmporteerd zonder een bundler of andere tools.</p>
<pre><code class="language-html hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'https://unpkg.com/ky/distribution/index.js'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://jsonplaceholder.typicode.com/todos/1'</span>).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json.<span class="hljs-property">title</span>);
<span class="hljs-comment">//=&gt; 'delectus aut autem'</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>Hoe verschilt het van <a href="https://github.com/sindresorhus/got"><code>got</code></a></h4>
<p>Zie mijn antwoord <a href="https://twitter.com/sindresorhus/status/1037406558945042432">hier</a>. Got wordt onderhouden door dezelfde mensen als Ky.</p>
<h4>Hoe verschilt het van <a href="https://github.com/axios/axios"><code>axios</code></a>?</h4>
<p>Zie mijn antwoord <a href="https://twitter.com/sindresorhus/status/1037763588826398720">hier</a>.</p>
<h4>Hoe verschilt het van <a href="https://github.com/mikeal/r2"><code>r2</code></a>?</h4>
<p>Zie mijn antwoord in <a href="https://github.com/sindresorhus/ky/issues/10">#10</a>.</p>
<h4>Wat betekent <code>ky</code>?</h4>
<p>Het is gewoon een willekeurige, korte npm-pakketnaam die ik heb kunnen bemachtigen. Het heeft echter wel een betekenis in het Japans:</p>
<blockquote>
<p>Een vorm van tekstbare slang, KY is een afkorting voor 空気読めない (kuuki yomenai), wat letterlijk betekent “kan de sfeer niet lezen.” Het is een uitdrukking voor iemand die de impliciete betekenis mist.</p>
</blockquote>
<h2>Browserondersteuning</h2>
<p>De nieuwste versie van Chrome, Firefox en Safari.</p>
<h2>Node.js-ondersteuning</h2>
<p>Node.js 18 en later.</p>
<h2>Gerelateerd</h2>
<ul>
<li><a href="https://github.com/sindresorhus/fetch-extras">fetch-extras</a> - Nuttige hulpmiddelen voor werken met Fetch</li>
<li><a href="https://github.com/alice-health/ky-hooks-change-case">ky-hooks-change-case</a> - Ky-hooks om hoofdlettergebruik te wijzigen bij requests en responses van objecten</li>
</ul>
<h2>Onderhouders</h2>
<ul>
<li><a href="https://github.com/sindresorhus">Sindre Sorhus</a></li>
<li><a href="https://github.com/sholladay">Seth Holladay</a></li>
<li><a href="https://github.com/szmarczak">Szymon Marczak</a></li>
</ul>
<pre><code class="hljs language-yaml">

<span class="hljs-meta">---

</span>
<span class="hljs-string">Tranlated</span> <span class="hljs-string">By</span> [<span class="hljs-string">Open</span> <span class="hljs-string">Ai</span> <span class="hljs-string">Tx</span>]<span class="hljs-string">(https://github.com/OpenAiTx/OpenAiTx)</span> <span class="hljs-string">|</span> <span class="hljs-attr">Last indexed:</span> <span class="hljs-number">2025-06-11</span>


<span class="hljs-meta">---
</span></code></pre>
</div>
    </div>

    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async=""></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
    <script src="view.js?v=20250613"></script>


</body></html>