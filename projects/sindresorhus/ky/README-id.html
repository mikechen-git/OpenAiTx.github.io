<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sindresorhus/ky - ky</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="sindresorhus/ky - ky">
    <meta name="description" content="sindresorhus/ky - GitHub repository documentation and information">
    <meta name="keywords" content="sindresorhus, ky, GitHub, repository, documentation, ">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=id">
    <meta property="og:title" content="sindresorhus/ky - ky">
    <meta property="og:description" content="sindresorhus/ky - GitHub repository documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="icon.jpg">
    <link rel="apple-touch-icon" href="icon.jpg">

    <!-- Marked.js for Markdown rendering -->
    <script type="text/javascript" async="" src="https://www.statcounter.com/counter/recorder.js"></script><script src="js/marked.min.js?v=20250613"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="css/github.min.css?v=20250613">
    <script src="js/highlight.min.js?v=20250613"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="view.css?v=20250613">
    <style>
        /* Layout */
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .main-container {
            margin: 0 auto;
            width: 100%;
            max-width: 980px;
            padding: 0 20px;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 0 15px;
            }
        }

        /* Image size restrictions */
        .markdown-body img {
            max-width: 100%;
            height: auto;
        }

        /* Existing styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f6f8fa;
            border-bottom: 1px solid #e1e4e8;
            position: relative;
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #0366d6;
            text-decoration: none;
            display: flex;
            align-items: center;
            font-size: 14px;
            padding: 5px 10px;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            background-color: #fff;
        }

        .back-button:hover {
            background-color: #f6f8fa;
            border-color: #0366d6;
        }

        .back-button::before {
            content: "←";
            margin-right: 5px;
            font-size: 16px;
        }

        .header .links {
            margin-top: 10px;
            font-size: 16px;
        }

        .header .links a {
            color: #0366d6;
            text-decoration: none;
            margin-left: 5px;
        }

        .header .links a:hover {
            text-decoration: underline;
        }
        
        /* Language badges styles */
        .language-badges {
            margin-top: 15px;
            text-align: center;
        }
        .language-badges a {
            display: inline-block;
            margin: 2px;
            text-decoration: none;
        }
        .language-badges img {
            height: 20px;
            border-radius: 3px;
        }
        .language-badges a:hover img {
            opacity: 0.8;
        }
    </style>
</head>

<body>
    <div class="header">
        <a href="javascript:history.back()" class="back-button">Back</a>
        <div class="links">
            GitHub Repository: <a href="https://github.com/sindresorhus/ky" id="githubRepoLink" target="_blank">sindresorhus/ky</a>
        </div>
        <div class="language-badges" id="languageBadges"><a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=en"><img src="https://img.shields.io/badge/EN-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=zh-CN"><img src="https://img.shields.io/badge/简中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=zh-TW"><img src="https://img.shields.io/badge/繁中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ja"><img src="https://img.shields.io/badge/日本語-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ko"><img src="https://img.shields.io/badge/한국어-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=th"><img src="https://img.shields.io/badge/ไทย-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=fr"><img src="https://img.shields.io/badge/Français-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=de"><img src="https://img.shields.io/badge/Deutsch-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=es"><img src="https://img.shields.io/badge/Español-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=it"><img src="https://img.shields.io/badge/Italiano-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ru"><img src="https://img.shields.io/badge/Русский-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=pt"><img src="https://img.shields.io/badge/Português-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=nl"><img src="https://img.shields.io/badge/Nederlands-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=pl"><img src="https://img.shields.io/badge/Polski-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=ar"><img src="https://img.shields.io/badge/العربية-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=tr"><img src="https://img.shields.io/badge/Türkçe-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=sindresorhus&amp;project=ky&amp;lang=vi"><img src="https://img.shields.io/badge/Tiếng Việt-white" alt="version"></a></div>
    </div>

    <div class="main-container">
        <div class="markdown-body" id="content"><div align="center">
	<br>
	<div>
		<img width="600" height="600" src="https://raw.githubusercontent.com/sindresorhus/ky/main/media/logo.svg" alt="ky">
	</div>
	<br>
	<br>
	<br>
</div>

<blockquote>
<p>Ky adalah klien HTTP yang kecil dan elegan berdasarkan <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">Fetch API</a></p>
</blockquote>
<p><a href="https://codecov.io/gh/sindresorhus/ky"><img src="https://codecov.io/gh/sindresorhus/ky/branch/main/graph/badge.svg" alt="Coverage Status"></a><br><a href="https://bundlephobia.com/result?p=ky"><img src="https://badgen.net/bundlephobia/minzip/ky" alt=""></a></p>
<p>Ky ditujukan untuk <a href="#browser-support">browser modern</a>, Node.js, Bun, dan Deno.</p>
<p>Ini hanyalah paket kecil tanpa dependensi.</p>
<h2>Manfaat dibandingkan <code>fetch</code> biasa</h2>
<ul>
<li>API lebih sederhana</li>
<li>Pintasan metode (<code>ky.post()</code>)</li>
<li>Menganggap status kode non-2xx sebagai error (setelah redirect)</li>
<li>Mencoba ulang permintaan yang gagal</li>
<li>Opsi JSON</li>
<li>Dukungan timeout</li>
<li>Opsi prefix URL</li>
<li>Instance dengan default khusus</li>
<li>Hooks</li>
<li>Kenyamanan TypeScript (misal, <code>.json()</code> mendukung generic dan default ke <code>unknown</code>, bukan <code>any</code>)</li>
</ul>
<h2>Instalasi</h2>
<pre><code class="language-sh hljs language-bash">npm install ky
</code></pre>
<h6>CDN</h6>
<ul>
<li><a href="https://cdn.jsdelivr.net/npm/ky/+esm">jsdelivr</a></li>
<li><a href="https://unpkg.com/ky">unpkg</a></li>
<li><a href="https://esm.sh/ky">esm.sh</a></li>
</ul>
<h2>Penggunaan</h2>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, {<span class="hljs-attr">json</span>: {<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>}}).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<p>Dengan <code>fetch</code> biasa, akan seperti berikut:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HTTPError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {}

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
	<span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>}),
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
	}
});

<span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
	<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HTTPError</span>(<span class="hljs-string">`Fetch error: <span class="hljs-subst">${response.statusText}</span>`</span>);
}

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<p>Jika Anda menggunakan <a href="https://github.com/denoland/deno">Deno</a>, impor Ky dari sebuah URL. Contoh, menggunakan CDN:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/ky'</span>;
</code></pre>
<h2>API</h2>
<h3>ky(input, options?)</h3>
<p><code>input</code> dan <code>options</code> sama seperti <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>fetch</code></a>, dengan opsi tambahan tersedia (lihat di bawah).</p>
<p>Mengembalikan sebuah <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code> object</a> dengan <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#body"><code>Body</code> methods</a> yang ditambahkan untuk kemudahan. Jadi Anda bisa, misalnya, memanggil <code>ky.get(input).json()</code> langsung tanpa harus menunggu <code>Response</code> terlebih dahulu. Saat dipanggil seperti itu, header <code>Accept</code> yang sesuai akan diatur tergantung pada metode body yang digunakan. Tidak seperti metode <code>Body</code> dari <code>window.Fetch</code>, metode ini akan melempar <code>HTTPError</code> jika status respons tidak dalam rentang <code>200...299</code>. Selain itu, <code>.json()</code> akan mengembalikan string kosong jika body kosong atau status respons <code>204</code> alih-alih melempar error parsing karena body kosong.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/user'</span>).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);
</code></pre>
<p>⌨️ <strong>TypeScript:</strong> Menerima <a href="https://www.typescriptlang.org/docs/handbook/2/generics.html">type parameter</a> opsional, yang default-nya <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown"><code>unknown</code></a>, dan diteruskan ke tipe pengembalian <code>.json()</code>.</p>
<pre><code class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// user1 bertipe unknown</span>
<span class="hljs-keyword">const</span> user1 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/users/1'</span>).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">// user2 bertipe User</span>
<span class="hljs-keyword">const</span> user2 = <span class="hljs-keyword">await</span> ky&lt;<span class="hljs-title class_">User</span>&gt;(<span class="hljs-string">'/api/users/2'</span>).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">// user3 bertipe User</span>
<span class="hljs-keyword">const</span> user3 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'/api/users/3'</span>).<span class="hljs-property">json</span>&lt;<span class="hljs-title class_">User</span>&gt;();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([user1, user2, user3]);
</code></pre>
<h3>ky.get(input, options?)</h3>
<h3>ky.post(input, options?)</h3>
<h3>ky.put(input, options?)</h3>
<h3>ky.patch(input, options?)</h3>
<h3>ky.head(input, options?)</h3>
<h3>ky.delete(input, options?)</h3>
<p>Mengatur <code>options.method</code> ke nama metode dan melakukan permintaan.</p>
<p>⌨️ <strong>TypeScript:</strong> Menerima parameter tipe opsional untuk digunakan dengan respons JSON (lihat <a href="#kyinput-options"><code>ky()</code></a>).</p>
<h4>input</h4>
<p>Tipe: <code>string</code> | <code>URL</code> | <code>Request</code></p>
<p>Sama seperti <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#input"><code>fetch</code> input</a>.</p>
<p>Saat menggunakan instance <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> sebagai <code>input</code>, semua opsi pengubahan URL (seperti <code>prefixUrl</code>) akan diabaikan.</p>
<h4>options</h4>
<p>Tipe: <code>object</code></p>
<p>Sama seperti opsi <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#options"><code>fetch</code></a>, ditambah opsi tambahan berikut:</p>
<h5>method</h5>
<p>Tipe: <code>string</code><br>Default: <code>'get'</code></p>
<p>Metode HTTP yang digunakan untuk melakukan permintaan.</p>
<p>Secara internal, metode standar (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>HEAD</code>, dan <code>DELETE</code>) akan diubah menjadi huruf besar untuk menghindari error server akibat case sensitive.</p>
<h5>json</h5>
<p>Tipe: <code>object</code> dan nilai lain yang diterima oleh <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a></p>
<p>Pintasan untuk mengirim JSON. Gunakan ini daripada opsi <code>body</code>. Menerima objek biasa atau nilai apapun, yang akan di-<code>JSON.stringify()</code> dan dikirimkan dalam body dengan header yang benar diatur.</p>
<h5>searchParams</h5>
<p>Tipe: <code>string | object&lt;string, string | number | boolean&gt; | Array&lt;Array&lt;string | number | boolean&gt;&gt; | URLSearchParams</code><br>Default: <code>''</code></p>
<p>Parameter pencarian yang akan disertakan dalam URL permintaan. Mengatur ini akan menimpa semua parameter pencarian yang ada di URL input.</p>
<p>Menerima nilai apapun yang didukung oleh <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams"><code>URLSearchParams()</code></a>.</p>
<h5>prefixUrl</h5>
<p>Tipe: <code>string | URL</code></p>
<p>Prefiks yang akan ditambahkan ke URL <code>input</code> saat melakukan permintaan. Bisa berupa URL valid, baik relatif maupun absolut. Tanda garis miring <code>/</code> di akhir opsional dan akan ditambahkan secara otomatis jika diperlukan, saat digabungkan dengan <code>input</code>. Hanya berlaku jika <code>input</code> berupa string. Argumen <code>input</code> tidak boleh diawali dengan garis miring <code>/</code> saat menggunakan opsi ini.</p>
<p>Berguna saat digunakan dengan <a href="#kyextenddefaultoptions"><code>ky.extend()</code></a> untuk membuat Ky-instance khusus sesuai kebutuhan.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// Pada https://example.com</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'unicorn'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'/api'</span>});
<span class="hljs-comment">//=&gt; 'https://example.com/api/unicorn'</span>

<span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'unicorn'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://cats.com'</span>});
<span class="hljs-comment">//=&gt; 'https://cats.com/unicorn'</span>
</code></pre>
<p>Catatan:</p>
<ul>
<li>Setelah <code>prefixUrl</code> dan <code>input</code> digabungkan, hasilnya akan di-resolve terhadap <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/baseURI">base URL</a> halaman (jika ada).</li>
<li>Garis miring awal pada <code>input</code> tidak diperbolehkan saat menggunakan opsi ini untuk menegakkan konsistensi dan menghindari kebingungan tentang bagaimana URL <code>input</code> diperlakukan, mengingat <code>input</code> tidak akan mengikuti aturan resolusi URL normal saat <code>prefixUrl</code> digunakan, yang mengubah arti garis miring awal.</li>
</ul>
<h5>retry</h5>
<p>Tipe: <code>object | number</code><br>Default:</p>
<ul>
<li><code>limit</code>: <code>2</code></li>
<li><code>methods</code>: <code>get</code> <code>put</code> <code>head</code> <code>delete</code> <code>options</code> <code>trace</code></li>
<li><code>statusCodes</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408"><code>408</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413"><code>413</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429"><code>429</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500"><code>500</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/502"><code>502</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503"><code>503</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504"><code>504</code></a></li>
<li><code>afterStatusCodes</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413"><code>413</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429"><code>429</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503"><code>503</code></a></li>
<li><code>maxRetryAfter</code>: <code>undefined</code></li>
<li><code>backoffLimit</code>: <code>undefined</code></li>
<li><code>delay</code>: <code>attemptCount =&gt; 0.3 * (2 ** (attemptCount - 1)) * 1000</code><br>Sebuah objek yang merepresentasikan field <code>limit</code>, <code>methods</code>, <code>statusCodes</code>, <code>afterStatusCodes</code>, dan <code>maxRetryAfter</code> untuk jumlah maksimum percobaan ulang, metode yang diizinkan, kode status yang diizinkan, kode status yang diizinkan untuk menggunakan waktu <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>, dan waktu maksimum <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a>.</li>
</ul>
<p>Jika <code>retry</code> adalah sebuah angka, maka akan digunakan sebagai <code>limit</code> dan nilai default lainnya tetap berlaku.</p>
<p>Jika respons memberikan status HTTP yang terdapat di <code>afterStatusCodes</code>, Ky akan menunggu sampai tanggal, timeout, atau timestamp yang diberikan pada header <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a> telah berlalu untuk mencoba ulang permintaan. Jika <code>Retry-After</code> tidak ada, header non-standar <a href="https://www.ietf.org/archive/id/draft-polli-ratelimit-headers-05.html#section-3.3"><code>RateLimit-Reset</code></a> akan digunakan sebagai cadangan. Jika kode status yang diberikan tidak ada dalam daftar, maka header <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a> akan diabaikan.</p>
<p>Jika <code>maxRetryAfter</code> disetel ke <code>undefined</code>, maka akan menggunakan <code>options.timeout</code>. Jika header <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"><code>Retry-After</code></a> lebih besar dari <code>maxRetryAfter</code>, maka akan menggunakan <code>maxRetryAfter</code>.</p>
<p>Opsi <code>backoffLimit</code> adalah batas atas dari penundaan per percobaan ulang dalam milidetik.<br>Untuk membatasi penundaan, setel <code>backoffLimit</code> ke 1000, misalnya.<br>Secara default, penundaan dihitung dengan <code>0.3 * (2 ** (attemptCount - 1)) * 1000</code>. Penundaan meningkat secara eksponensial.</p>
<p>Opsi <code>delay</code> dapat digunakan untuk mengubah cara penundaan antara percobaan ulang dihitung. Fungsi menerima satu parameter, jumlah percobaan, dimulai dari <code>1</code>.</p>
<p>Percobaan ulang tidak akan dipicu setelah terjadi <a href="#timeout">timeout</a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">retry</span>: {
		<span class="hljs-attr">limit</span>: <span class="hljs-number">10</span>,
		<span class="hljs-attr">methods</span>: [<span class="hljs-string">'get'</span>],
		<span class="hljs-attr">statusCodes</span>: [<span class="hljs-number">413</span>],
		<span class="hljs-attr">backoffLimit</span>: <span class="hljs-number">3000</span>
	}
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>timeout</h5>
<p>Tipe: <code>number | false</code><br>Default: <code>10000</code></p>
<p>Timeout dalam milidetik untuk mendapatkan respons, termasuk percobaan ulang apa pun. Tidak dapat lebih dari 2147483647.<br>Jika disetel ke <code>false</code>, maka tidak akan ada timeout.</p>
<h5>hooks</h5>
<p>Tipe: <code>object&lt;string, Function[]&gt;</code><br>Default: <code>{beforeRequest: [], beforeRetry: [], afterResponse: []}</code></p>
<p>Hooks memungkinkan modifikasi selama siklus hidup permintaan. Fungsi hook dapat bersifat async dan dijalankan secara berurutan.</p>
<h6>hooks.beforeRequest</h6>
<p>Tipe: <code>Function[]</code><br>Default: <code>[]</code></p>
<p>Hook ini memungkinkan Anda memodifikasi permintaan tepat sebelum dikirim. Ky tidak akan melakukan perubahan lebih lanjut pada permintaan setelah ini. Fungsi hook menerima <code>request</code> dan <code>options</code> sebagai argumen. Anda dapat, misalnya, memodifikasi <code>request.headers</code> di sini.</p>
<p>Hook dapat mengembalikan sebuah <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> untuk menggantikan permintaan yang akan dikirim, atau mengembalikan sebuah <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a> untuk sepenuhnya menghindari membuat permintaan HTTP. Ini dapat digunakan untuk memalsukan permintaan, memeriksa cache internal, dll. Pertimbangan <strong>penting</strong> saat mengembalikan permintaan atau respons dari hook ini adalah bahwa hook <code>beforeRequest</code> yang tersisa akan dilewati, jadi Anda mungkin hanya ingin mengembalikannya dari hook terakhir.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">extend</span>({
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: [
			<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
				request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'X-Requested-With'</span>, <span class="hljs-string">'ky'</span>);
			}
		]
	}
});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://example.com/api/users'</span>);
</code></pre>
<h6>hooks.beforeRetry</h6>
<p>Tipe: <code>Function[]</code><br>Default: <code>[]</code></p>
<p>Hook ini memungkinkan Anda memodifikasi permintaan tepat sebelum percobaan ulang. Ky tidak akan melakukan perubahan lebih lanjut pada permintaan setelah ini. Fungsi hook menerima sebuah objek dengan permintaan dan opsi yang telah dinormalisasi, instance error, dan jumlah percobaan ulang. Anda dapat, misalnya, memodifikasi <code>request.headers</code> di sini.</p>
<p>Jika permintaan menerima respons, error akan bertipe <code>HTTPError</code> dan objek <code>Response</code> akan tersedia di <code>error.response</code>. Perlu diketahui bahwa beberapa jenis error, seperti error jaringan, secara inheren berarti respons tidak diterima. Dalam kasus tersebut, error tidak akan berupa instance <code>HTTPError</code>.</p>
<p>Anda dapat mencegah Ky mencoba ulang permintaan dengan melempar error. Ky tidak akan menangani dengan cara apa pun dan error akan diteruskan ke inisiator permintaan. Sisanya dari hook <code>beforeRetry</code> tidak akan dipanggil dalam kasus ini. Alternatifnya, Anda dapat mengembalikan simbol <a href="#kystop"><code>ky.stop</code></a> untuk melakukan hal yang sama namun tanpa meneruskan error (ini memiliki beberapa keterbatasan, lihat dokumentasi <code>ky.stop</code> untuk detailnya).</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRetry</span>: [
			<span class="hljs-keyword">async</span> ({request, options, error, retryCount}) =&gt; {
				<span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/refresh-token'</span>);
				request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">`token <span class="hljs-subst">${token}</span>`</span>);
			}
		]
	}
});
</code></pre>
<h6>hooks.beforeError</h6>
<p>Tipe: <code>Function[]</code><br>Default: <code>[]</code></p>
<p>Hook ini memungkinkan Anda memodifikasi <code>HTTPError</code> tepat sebelum dilemparkan. Fungsi hook menerima sebuah <code>HTTPError</code> sebagai argumen dan harus mengembalikan instance dari <code>HTTPError</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeError</span>: [
			<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
				<span class="hljs-keyword">const</span> {response} = error;
				<span class="hljs-keyword">if</span> (response &amp;&amp; response.<span class="hljs-property">body</span>) {
					error.<span class="hljs-property">name</span> = <span class="hljs-string">'GitHubError'</span>;
					error.<span class="hljs-property">message</span> = <span class="hljs-string">`<span class="hljs-subst">${response.body.message}</span> (<span class="hljs-subst">${response.status}</span>)`</span>;
				}

				<span class="hljs-keyword">return</span> error;
			}
		]
	}
});
</code></pre>
<h6>hooks.afterResponse</h6>
<p>Tipe: <code>Function[]</code><br>Default: <code>[]</code></p>
<p>Hook ini memungkinkan Anda membaca dan secara opsional memodifikasi respons. Fungsi hook menerima permintaan yang telah dinormalisasi, opsi, dan salinan dari respons sebagai argumen. Nilai kembali dari fungsi hook akan digunakan oleh Ky sebagai objek respons jika itu merupakan instance dari <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">afterResponse</span>: [
			<span class="hljs-function">(<span class="hljs-params">_request, _options, response</span>) =&gt;</span> {
				<span class="hljs-comment">// Anda dapat melakukan sesuatu dengan respons, misalnya, mencatat log.</span>
				<span class="hljs-title function_">log</span>(response);

				<span class="hljs-comment">// Atau mengembalikan instance `Response` untuk menimpa respons.</span>
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'A different response'</span>, {<span class="hljs-attr">status</span>: <span class="hljs-number">200</span>});
			},

			<span class="hljs-comment">// Atau mencoba ulang dengan token baru pada error 403</span>
			<span class="hljs-keyword">async</span> (request, options, response) =&gt; {
				<span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> === <span class="hljs-number">403</span>) {
					<span class="hljs-comment">// Dapatkan token baru</span>
					<span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/token'</span>).<span class="hljs-title function_">text</span>();

					<span class="hljs-comment">// Coba ulang dengan token</span>
					request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">`token <span class="hljs-subst">${token}</span>`</span>);

					<span class="hljs-keyword">return</span> <span class="hljs-title function_">ky</span>(request);
				}
			}
		]
	}
});
</code></pre>
<h5>throwHttpErrors</h5>
<p>Tipe: <code>boolean</code><br>Default: <code>true</code></p>
<p>Melempar <code>HTTPError</code> ketika, setelah mengikuti redirect, respons memiliki kode status non-2xx. Untuk juga melempar pada redirect daripada mengikutinya, atur opsi <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters"><code>redirect</code></a> ke <code>'manual'</code>.</p>
<p>Menyetel ini ke <code>false</code> mungkin berguna jika Anda memeriksa ketersediaan sumber daya dan mengharapkan respons error.</p>
<p>Catatan: Jika <code>false</code>, respons error dianggap berhasil dan permintaan tidak akan dicoba ulang.</p>
<h5>onDownloadProgress</h5>
<p>Tipe: <code>Function</code></p>
<p>Handler event progres unduhan.</p>
<p>Fungsi menerima argumen berikut:</p>
<ul>
<li><code>progress</code> adalah objek dengan properti berikut:</li>
<li><ul>
<li><code>percent</code> adalah angka antara 0 dan 1 yang merepresentasikan persentase progres.</li>
</ul>
</li>
<li><ul>
<li><code>transferredBytes</code> adalah jumlah byte yang telah ditransfer sejauh ini.</li>
</ul>
</li>
<li><ul>
<li><code>totalBytes</code> adalah total byte yang akan ditransfer. Ini adalah estimasi dan mungkin 0 jika ukuran total tidak dapat ditentukan.</li>
</ul>
</li>
<li><code>chunk</code> adalah instance dari <code>Uint8Array</code> yang berisi data yang telah dikirim. Catatan: Ini kosong pada pemanggilan pertama.</li>
</ul>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">onDownloadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress, chunk</span>) =&gt;</span> {
		<span class="hljs-comment">// Contoh output:</span>
		<span class="hljs-comment">// `0% - 0 dari 1271 bytes`</span>
		<span class="hljs-comment">// `100% - 1271 dari 1271 bytes`</span>
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${progress.percent * <span class="hljs-number">100</span>}</span>% - <span class="hljs-subst">${progress.transferredBytes}</span> dari <span class="hljs-subst">${progress.totalBytes}</span> bytes`</span>);
	}
});
</code></pre>
<h5>onUploadProgress</h5>
<p>Tipe: <code>Function</code><br>Penanganan event progress upload.</p>
<p>Fungsi ini menerima argumen berikut:</p>
<ul>
<li><code>progress</code> adalah objek dengan properti berikut:</li>
<li><ul>
<li><code>percent</code> adalah angka antara 0 dan 1 yang merepresentasikan persentase progres.</li>
</ul>
</li>
<li><ul>
<li><code>transferredBytes</code> adalah jumlah byte yang telah ditransfer sejauh ini.</li>
</ul>
</li>
<li><ul>
<li><code>totalBytes</code> adalah total byte yang akan ditransfer. Ini merupakan estimasi dan bisa saja 0 jika ukuran total tidak dapat ditentukan.</li>
</ul>
</li>
<li><code>chunk</code> adalah instance dari <code>Uint8Array</code> yang berisi data yang telah dikirimkan. Catatan: Kosong pada pemanggilan terakhir.</li>
</ul>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com/upload'</span>, {
	<span class="hljs-attr">body</span>: largeFile,
	<span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress, chunk</span>) =&gt;</span> {
		<span class="hljs-comment">// Contoh output:</span>
		<span class="hljs-comment">// `0% - 0 dari 1271 byte`</span>
		<span class="hljs-comment">// `100% - 1271 dari 1271 byte`</span>
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${progress.percent * <span class="hljs-number">100</span>}</span>% - <span class="hljs-subst">${progress.transferredBytes}</span> dari <span class="hljs-subst">${progress.totalBytes}</span> byte`</span>);
	}
});
</code></pre>
<h5>parseJson</h5>
<p>Tipe: <code>Function</code><br>Default: <code>JSON.parse()</code></p>
<p>Fungsi parsing JSON yang didefinisikan oleh pengguna.</p>
<p>Contoh penggunaan:</p>
<ol>
<li>Parsing JSON menggunakan paket <a href="https://github.com/hapijs/bourne"><code>bourne</code></a> untuk melindungi dari prototype pollution.</li>
<li>Parsing JSON dengan opsi <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>reviver</code> dari <code>JSON.parse()</code></a>.</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> bourne <span class="hljs-keyword">from</span> <span class="hljs-string">'@hapijs/bourne'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">parseJson</span>: <span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> <span class="hljs-title function_">bourne</span>(text)
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>stringifyJson</h5>
<p>Tipe: <code>Function</code><br>Default: <code>JSON.stringify()</code></p>
<p>Fungsi untuk mengubah objek ke string JSON yang didefinisikan oleh pengguna.</p>
<p>Contoh penggunaan:</p>
<ol>
<li>Melakukan stringify JSON dengan fungsi <code>replacer</code> kustom.</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">DateTime</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'luxon'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">stringifyJson</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> {
		<span class="hljs-keyword">if</span> (key.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'_at'</span>)) {
			<span class="hljs-keyword">return</span> <span class="hljs-title class_">DateTime</span>.<span class="hljs-title function_">fromISO</span>(value).<span class="hljs-title function_">toSeconds</span>();
		}

		<span class="hljs-keyword">return</span> value;
	})
}).<span class="hljs-title function_">json</span>();
</code></pre>
<h5>fetch</h5>
<p>Tipe: <code>Function</code><br>Default: <code>fetch</code></p>
<p>Fungsi <code>fetch</code> yang didefinisikan oleh pengguna.<br>Harus sepenuhnya kompatibel dengan standar <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a>.</p>
<p>Contoh penggunaan:</p>
<ol>
<li>Menggunakan implementasi <code>fetch</code> kustom seperti <a href="https://www.npmjs.com/package/isomorphic-unfetch"><code>isomorphic-unfetch</code></a>.</li>
<li>Menggunakan fungsi pembungkus <code>fetch</code> yang disediakan oleh beberapa framework yang menggunakan server-side rendering (SSR).</li>
</ol>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;
<span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'isomorphic-unfetch'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, {fetch}).<span class="hljs-title function_">json</span>();
</code></pre>
<h3>ky.extend(defaultOptions)</h3>
<p>Membuat instance <code>ky</code> baru dengan beberapa default yang diganti dengan milik Anda sendiri.</p>
<p>Berbeda dengan <code>ky.create()</code>, <code>ky.extend()</code> mewarisi default dari induknya.</p>
<p>Anda dapat memberikan header sebagai instance <code>Headers</code> atau objek biasa.</p>
<p>Anda dapat menghapus header dengan <code>.extend()</code> dengan memberikan header tersebut dengan nilai <code>undefined</code>.<br>Memberikan <code>undefined</code> sebagai string hanya akan menghapus header jika berasal dari instance <code>Headers</code>.</p>
<p>Demikian juga, Anda dapat menghapus entri <code>hooks</code> yang sudah ada dengan melakukan extend hook tersebut secara eksplisit dengan <code>undefined</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> url = <span class="hljs-string">'https://sindresorhus.com'</span>;

<span class="hljs-keyword">const</span> original = ky.<span class="hljs-title function_">create</span>({
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-attr">rainbow</span>: <span class="hljs-string">'rainbow'</span>,
		<span class="hljs-attr">unicorn</span>: <span class="hljs-string">'unicorn'</span>
	},
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'before 1'</span>) ],
		<span class="hljs-attr">afterResponse</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'after 1'</span>) ],
	},
});

<span class="hljs-keyword">const</span> extended = original.<span class="hljs-title function_">extend</span>({
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-attr">rainbow</span>: <span class="hljs-literal">undefined</span>
	},
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRequest</span>: <span class="hljs-literal">undefined</span>,
		<span class="hljs-attr">afterResponse</span>: [ <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'after 2'</span>) ],
	}
});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">extended</span>(url).<span class="hljs-title function_">json</span>();
<span class="hljs-comment">//=&gt; after 1</span>
<span class="hljs-comment">//=&gt; after 2</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'rainbow'</span> <span class="hljs-keyword">in</span> response);
<span class="hljs-comment">//=&gt; false</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'unicorn'</span> <span class="hljs-keyword">in</span> response);
<span class="hljs-comment">//=&gt; true</span>
</code></pre>
<p>Anda juga dapat merujuk ke default induk dengan memberikan fungsi pada <code>.extend()</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">create</span>({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://example.com/api'</span>});

<span class="hljs-keyword">const</span> usersApi = api.<span class="hljs-title function_">extend</span>(<span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> ({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">`<span class="hljs-subst">${options.prefixUrl}</span>/users`</span>}));

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> usersApi.<span class="hljs-title function_">get</span>(<span class="hljs-string">'123'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/users/123'</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'version'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/version'</span>
</code></pre>
<h3>ky.create(defaultOptions)</h3>
<p>Membuat instance Ky baru dengan default yang benar-benar baru.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// Pada https://my-site.com</span>

<span class="hljs-keyword">const</span> api = ky.<span class="hljs-title function_">create</span>({<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">'https://example.com/api'</span>});

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'users/123'</span>);
<span class="hljs-comment">//=&gt; 'https://example.com/api/users/123'</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/status'</span>, {<span class="hljs-attr">prefixUrl</span>: <span class="hljs-string">''</span>});
<span class="hljs-comment">//=&gt; 'https://my-site.com/status'</span>
</code></pre>
<h4>defaultOptions</h4>
<p>Tipe: <code>object</code></p>
<h3>ky.stop</h3>
<p>Sebuah <code>Symbol</code> yang dapat dikembalikan oleh hook <code>beforeRetry</code> untuk menghentikan proses retry. Ini juga akan memotong sisa hook <code>beforeRetry</code> yang tersisa.</p>
<p>Catatan: Mengembalikan simbol ini membuat Ky membatalkan dan mengembalikan respons dengan nilai <code>undefined</code>. Pastikan untuk memeriksa respons sebelum mengakses properti apa pun di dalamnya atau gunakan <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">optional chaining</a>. Ini juga tidak kompatibel dengan metode body seperti <code>.json()</code> atau <code>.text()</code>, karena tidak ada respons untuk diparse. Secara umum, kami menyarankan untuk melempar error daripada mengembalikan simbol ini, karena itu akan membuat Ky membatalkan dan kemudian melempar error, yang menghindari keterbatasan ini.</p>
<p>Contoh penggunaan yang valid untuk <code>ky.stop</code> adalah untuk mencegah retry ketika melakukan permintaan yang bersifat side effect, di mana data yang dikembalikan tidak penting. Misalnya, mencatat aktivitas klien ke server.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> options = {
	<span class="hljs-attr">hooks</span>: {
		<span class="hljs-attr">beforeRetry</span>: [
			<span class="hljs-keyword">async</span> ({request, options, error, retryCount}) =&gt; {
				<span class="hljs-keyword">const</span> shouldStopRetry = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com/api'</span>);
				<span class="hljs-keyword">if</span> (shouldStopRetry) {
					<span class="hljs-keyword">return</span> ky.<span class="hljs-property">stop</span>;
				}
			}
		]
	}
};
</code></pre>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// Perhatikan bahwa response akan bernilai `undefined` jika `ky.stop` dikembalikan.</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, options);

<span class="hljs-comment">// Penggunaan `.text()` atau metode body lainnya tidak didukung.</span>
<span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>, options).<span class="hljs-title function_">text</span>();
</code></pre>
<h3>HTTPError</h3>
<p>Diekspos untuk pengecekan <code>instanceof</code>. Error ini memiliki properti <code>response</code> dengan <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">objek <code>Response</code></a>, properti <code>request</code> dengan <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">objek <code>Request</code></a>, dan properti <code>options</code> dengan opsi yang sudah dinormalisasi (baik yang diberikan ke <code>ky</code> saat membuat instance dengan <code>ky.create()</code> atau langsung saat melakukan request).</p>
<p>Perlu diketahui bahwa beberapa tipe error, seperti error jaringan, secara inheren berarti response tidak diterima. Dalam kasus tersebut, error tidak akan menjadi instance dari HTTPError dan tidak akan memiliki properti <code>response</code>.</p>
<p>Jika Anda perlu membaca response aktual ketika terjadi <code>HTTPError</code>, panggil metode parser yang sesuai pada objek response. Contohnya:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">try</span> {
	<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://example.com'</span>).<span class="hljs-title function_">json</span>();
} <span class="hljs-keyword">catch</span> (error) {
	<span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">'HTTPError'</span>) {
		<span class="hljs-keyword">const</span> errorJson = <span class="hljs-keyword">await</span> error.<span class="hljs-property">response</span>.<span class="hljs-title function_">json</span>();
	}
}
</code></pre>
<p>⌨️ <strong>TypeScript:</strong> Menerima <a href="https://www.typescriptlang.org/docs/handbook/2/generics.html">parameter tipe</a> opsional, yang secara default adalah <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown"><code>unknown</code></a>, dan diteruskan ke tipe pengembalian dari <code>error.response.json()</code>.</p>
<h3>TimeoutError</h3>
<p>Error yang dilemparkan saat permintaan melebihi waktu tunggu. Memiliki properti <code>request</code> dengan <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">objek <code>Request</code></a>.</p>
<h2>Tips</h2>
<h3>Mengirim form data</h3>
<p>Mengirim form data di Ky sama persis dengan <code>fetch</code>. Cukup berikan instance <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>FormData</code></a> ke opsi <code>body</code>. Header <code>Content-Type</code> akan otomatis disetel ke <code>multipart/form-data</code>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// `multipart/form-data`</span>
<span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'food'</span>, <span class="hljs-string">'fries'</span>);
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'drink'</span>, <span class="hljs-string">'icetea'</span>);

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(url, {<span class="hljs-attr">body</span>: formData});
</code></pre>
<p>Jika Anda ingin mengirim data dalam format <code>application/x-www-form-urlencoded</code>, Anda perlu mengenkode data tersebut dengan <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-comment">// `application/x-www-form-urlencoded`</span>
<span class="hljs-keyword">const</span> searchParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>();
searchParams.<span class="hljs-title function_">set</span>(<span class="hljs-string">'food'</span>, <span class="hljs-string">'fries'</span>);
searchParams.<span class="hljs-title function_">set</span>(<span class="hljs-string">'drink'</span>, <span class="hljs-string">'icetea'</span>);

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(url, {<span class="hljs-attr">body</span>: searchParams});
</code></pre>
<h3>Menyetel <code>Content-Type</code> kustom</h3>
<p>Ky secara otomatis menyetel header <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><code>Content-Type</code></a> yang sesuai untuk setiap permintaan berdasarkan data di body permintaan. Namun, beberapa API membutuhkan tipe konten kustom, seperti <code>application/x-amz-json-1.1</code>. Dengan opsi <code>headers</code>, Anda dapat menimpa tipe konten secara manual.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> ky.<span class="hljs-title function_">post</span>(<span class="hljs-string">'https://example.com'</span>, {
	<span class="hljs-attr">headers</span>: {
		<span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
	},
	<span class="hljs-attr">json</span>: {
		<span class="hljs-attr">foo</span>: <span class="hljs-literal">true</span>
	},
}).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">//=&gt; {data: '🦄'}</span>
</code></pre>
<h3>Pembatalan</h3>
<p>Fetch (dan juga Ky) memiliki dukungan bawaan untuk pembatalan permintaan melalui <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController">API <code>AbortController</code></a>. <a href="https://developers.google.com/web/updates/2017/09/abortable-fetch">Baca selengkapnya.</a></p>
<p>Contoh:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'ky'</span>;

<span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
<span class="hljs-keyword">const</span> {signal} = controller;

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
	controller.<span class="hljs-title function_">abort</span>();
}, <span class="hljs-number">5000</span>);

<span class="hljs-keyword">try</span> {
	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(url, {signal}).<span class="hljs-title function_">text</span>());
} <span class="hljs-keyword">catch</span> (error) {
	<span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">'AbortError'</span>) {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Fetch dibatalkan'</span>);
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error Fetch:'</span>, error);
	}
}
</code></pre>
<h2>FAQ</h2>
<h4>Bagaimana cara menggunakan ini di Node.js?</h4>
<p>Node.js 18 dan yang lebih baru sudah mendukung <code>fetch</code> secara native, jadi Anda bisa langsung menggunakan package ini.</p>
<h4>Bagaimana cara menggunakan ini dengan web app (React, Vue.js, dll.) yang menggunakan server-side rendering (SSR)?</h4>
<p>Sama seperti di atas.</p>
<h4>Bagaimana cara menguji pustaka browser yang menggunakan ini?</h4>
<p>Gunakan test runner yang bisa berjalan di browser, seperti Mocha, atau gunakan <a href="https://avajs.dev">AVA</a> dengan <code>ky-universal</code>. <a href="https://github.com/sindresorhus/ky-universal#faq">Baca selengkapnya.</a></p>
<h4>Bagaimana cara menggunakan ini tanpa bundler seperti Webpack?</h4>
<p>Pastikan kode Anda berjalan sebagai modul JavaScript (ESM), misalnya dengan menggunakan tag <code>&lt;script type="module"&gt;</code> di dokumen HTML Anda. Maka Ky bisa diimpor langsung oleh modul tersebut tanpa bundler atau alat lain.</p>
<pre><code class="language-html hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">'https://unpkg.com/ky/distribution/index.js'</span>;

<span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ky</span>(<span class="hljs-string">'https://jsonplaceholder.typicode.com/todos/1'</span>).<span class="hljs-title function_">json</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json.<span class="hljs-property">title</span>);
<span class="hljs-comment">//=&gt; 'delectus aut autem'</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>Apa perbedaannya dengan <a href="https://github.com/sindresorhus/got"><code>got</code></a></h4>
<p>Lihat jawaban saya <a href="https://twitter.com/sindresorhus/status/1037406558945042432">di sini</a>. Got dikelola oleh orang yang sama dengan Ky.</p>
<h4>Apa perbedaannya dengan <a href="https://github.com/axios/axios"><code>axios</code></a>?</h4>
<p>Lihat jawaban saya <a href="https://twitter.com/sindresorhus/status/1037763588826398720">di sini</a>.</p>
<h4>Apa perbedaannya dengan <a href="https://github.com/mikeal/r2"><code>r2</code></a>?</h4>
<p>Lihat jawaban saya di <a href="https://github.com/sindresorhus/ky/issues/10">#10</a>.</p>
<h4>Apa arti <code>ky</code>?</h4>
<p>Ini hanya nama package npm pendek acak yang berhasil saya dapatkan. Namun, kata ini memang punya arti dalam bahasa Jepang:</p>
<blockquote>
<p>Sebuah bentuk slang yang bisa diketik, KY adalah singkatan dari 空気読めない (kuuki yomenai), yang secara harfiah berarti “tidak bisa membaca suasana.” Ini adalah frasa yang digunakan untuk orang yang tidak menangkap makna implisit.</p>
</blockquote>
<h2>Dukungan browser</h2>
<p>Versi terbaru Chrome, Firefox, dan Safari.</p>
<h2>Dukungan Node.js</h2>
<p>Node.js 18 ke atas.</p>
<h2>Terkait</h2>
<ul>
<li><a href="https://github.com/sindresorhus/fetch-extras">fetch-extras</a> - Utilitas berguna untuk bekerja dengan Fetch</li>
<li><a href="https://github.com/alice-health/ky-hooks-change-case">ky-hooks-change-case</a> - Hook Ky untuk mengubah case pada permintaan dan respons objek</li>
</ul>
<h2>Pemelihara</h2>
<ul>
<li><a href="https://github.com/sindresorhus">Sindre Sorhus</a></li>
<li><a href="https://github.com/sholladay">Seth Holladay</a></li>
<li><a href="https://github.com/szmarczak">Szymon Marczak</a></li>
</ul>
<pre><code class="hljs language-yaml">

<span class="hljs-meta">---

</span>
<span class="hljs-string">Tranlated</span> <span class="hljs-string">By</span> [<span class="hljs-string">Open</span> <span class="hljs-string">Ai</span> <span class="hljs-string">Tx</span>]<span class="hljs-string">(https://github.com/OpenAiTx/OpenAiTx)</span> <span class="hljs-string">|</span> <span class="hljs-attr">Last indexed:</span> <span class="hljs-number">2025-06-11</span>


<span class="hljs-meta">---
</span></code></pre>
</div>
    </div>

    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async=""></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
    <script src="view.js?v=20250613"></script>


</body></html>