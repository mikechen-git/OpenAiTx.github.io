<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fluid-img - VoiceNGO/fluid-img zh-TW</title>
    <meta name="title" content="fluid-img - VoiceNGO/fluid-img zh-TW | 流動影像網頁元件 能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。 超小！：7kb 已壓縮與 gzip 用法 &lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt; &lt;fluid-img src=&quot;image.jpg&quot;&gt;&l...">
    <meta name="description" content="VoiceNGO/fluid-img - GitHub repository zh-TW documentation and information | 流動影像網頁元件 能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。 超小！：7kb 已壓縮與 gzip 用法 &lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt; &lt;fluid-img src=&quot;image.jpg&quot;&gt;&l...">
    <meta name="keywords" content="VoiceNGO, fluid-img, GitHub, repository, zh-TW documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/VoiceNGO/fluid-img/README-zh-TW.html">
    <meta property="og:title" content="fluid-img - VoiceNGO/fluid-img zh-TW | 流動影像網頁元件 能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。 超小！：7kb 已壓縮與 gzip 用法 &lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt; &lt;fluid-img src=&quot;image.jpg&quot;&gt;&l...">
    <meta property="og:description" content="VoiceNGO/fluid-img - GitHub repository zh-TW documentation and information | 流動影像網頁元件 能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。 超小！：7kb 已壓縮與 gzip 用法 &lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt; &lt;fluid-img src=&quot;image.jpg&quot;&gt;&l...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/VoiceNGO/fluid-img" id="githubRepoLink" target="_blank">VoiceNGO/fluid-img</a>
<h1 style="display: none;">流動影像網頁元件 能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。 超小！：7kb 已壓縮與 gzip 用法 &lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt; &lt;fluid-img src=&quot;image.jpg&quot;&gt;&l...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>流動影像網頁元件</h1>
<p>能夠智慧調整至任何所需尺寸（在合理範圍內）的圖片。</p>
<p><img src="https://raw.githubusercontent.com/VoiceNGO/fluid-img/refs/heads/main/resources/images/responsive-images.jpg" alt="流動影像" /></p>
<p><strong>超小！</strong>：7kb 已壓縮與 gzip</p>
<h2>用法</h2>
<pre><code class="language-html">&lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt;
&lt;fluid-img src=&quot;image.jpg&quot;&gt;&lt;/fluid-img&gt;
</code></pre>
<p>就這樣。隨意縮放圖片，它們會自動適應。</p>
<h2>範例</h2>
<p><a href="https://voicengo.github.io/fluid-img/public/fluid-demo.html">範例在此</a></p>
<p>也有一個可供<a href="https://voicengo.github.io/fluid-img/public">自行測試圖片的遊樂場</a>可用。</p>
<h2>安裝</h2>
<h3>用戶端程式庫</h3>
<pre><code class="language-sh">npm install fluid-img
</code></pre>
<p>然後在您的專案中導入 <code>fluid-img</code>，它會提供並註冊網頁元件：</p>
<pre><code class="language-ts">import 'fluid-img';
</code></pre>
<p>或者從 jsdelivr 或 unpkg 引入腳本：</p>
<pre><code class="language-html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/fluid-img@latest/dist/fluid-img.js&quot; /&gt;

&lt;!-- 或 --&gt;

&lt;script src=&quot;https://unpkg.com/fluid-img@latest/dist/fluid-img.js&quot; /&gt;
</code></pre>
<h3>注意事項</h3>
<p>流體影像元件最適用於在原始尺寸約 0.5 倍至 1.5 倍範圍內，對圖片進行水平或垂直縮放。雖然它可以處理更大或更小的縮放比例，但視覺品質可能會迅速下降。不建議用於像素精確度要求極高的圖片，例如人像、圖表或細節豐富的技術繪圖，因為接縫雕刻會造成變形。強烈建議您在不同尺寸下測試您的圖片，以確保其符合您的視覺預期。</p>
<h4>CORS</h4>
<p>由於瀏覽器安全性限制，從與網頁不同來源（網域、協定或埠口）載入的圖片會觸發跨來源資源共享（CORS）錯誤。此元件需要存取圖片的原始像素資料，而這會受到 CORS 的限制。</p>
<p>若要使用來自不同來源的圖片，託管圖片的伺服器必須設定適當的 CORS 標頭（例如：<code>Access-Control-Allow-Origin: *</code> 或 <code>Access-Control-Allow-Origin: your-domain.com</code>）。沒有這些標頭，元件將無法處理圖片。</p>
<p>（僅供參考，imgur 上的任何圖片都具備必要的 CORS 標頭，可用於測試）</p>
<h4>備援機制</h4>
<p>若元件無法載入或處理圖片，或發生內部錯誤，將會自動降級為在 <code>&lt;fluid-img&gt;</code> 元件中插入一個標準的 <code>&lt;img&gt;</code> 標籤，並設為 100% 寬度與高度，確保圖片仍能顯示。</p>
<h2>選項</h2>
<p>用法：<code>&lt;fluid-img src=&quot;image.jpg&quot; generator=&quot;random&quot; max-carve-up-scale=&quot;5&quot;&gt;&lt;/fluid-img&gt;</code></p>
<p>預設情況下，使用 <code>random</code> 產生器，因為它最快。</p>
<p>| 選項                           | 可用值                            | 預設值        | 說明                                                                                                              |
| ------------------------------ | ---------------------------------- | ------------- | --------------------------------------------------------------------------------------------------------------- |
| <code>src</code>                          | URL                                |               | 要處理的圖片 URL。                                                                                              |
| <code>generator</code>                    | <code>random</code>、<code>predictive</code>             | <code>predictive</code>  | 要使用的接縫雕刻產生器。<code>random</code> 較快但品質較低。                                                                |
| <code>scaling-axis</code>                 | <code>horizontal</code>、<code>vertical</code>、<code>auto</code>   | <code>horizontal</code>  | 縮放方向。<code>auto</code> 會根據長寬比的變化選擇水平或垂直縮放。                                                          |
| <code>mask</code>                         | URL                                |               | 遮罩圖片的 URL。遮罩圖的黑色區域能量較低，更容易被保留。                                                          |
| <code>carving-priority</code>             | 數字（0-1，例如 <code>0.5</code>）            | <code>1</code>           | 用接縫雕刻與傳統圖片縮放進行縮放的比例百分比。                                                                   |
| <code>max-carve-up-seam-percentage</code> | 數字（0-1，例如 <code>0.5</code>）            | <code>0.6</code>         | 放大時最大可插入接縫的百分比。限制新增接縫數量以保護圖片品質。                                                    |
| <code>max-carve-up-scale</code>           | 數字（例如 <code>3</code>）                   | <code>3</code>           | 使用接縫雕刻最大放大倍數。超過此數值後將改用傳統縮放。                                                           |
| <code>max-carve-down-scale</code>         | 數字（0-1，例如 <code>0.7</code>）            | <code>0.7</code>         | 縮小時可用接縫雕刻移除的最大百分比。                                                                             |</p>
<h3>產生器專屬選項</h3>
<p>產生器專屬選項會加到 <code>&lt;fluid-img&gt;</code> 元件上，但只有在同時設定對應的 <code>generator</code> 屬性時才有效。</p>
<h4>隨機與預測產生器選項</h4>
<p>| 選項                | 值                        | 預設值 | 說明                                         |
| ------------------- | ------------------------- | ------ | --------------------------------------------- |
| <code>batch-percentage</code>  | 數值 (0-1，例如 0.1)      | 0.1    | 每批次要產生的縫線百分比                      |
| <code>min-batch-size</code>    | 數值 (例如 <code>10</code>)          | 10     | 每批次要產生的最小縫線數量                    |</p>
<h2>運作原理</h2>
<p>縫線雕刻是一種內容感知的圖片調整技術，能夠智能地移除或新增像素，使圖片在調整大小時不會扭曲重要內容。欲了解更多資訊，請參見<a href="https://zh.wikipedia.org/wiki/%E7%BA%A4%E7%BA%BF%E9%9B%95%E5%88%BB">維基百科文章</a>。</p>
<p>過去，縫線雕刻對計算資源的需求過高，不適合於網頁瀏覽器中即時使用。不過，這項限制可以藉由使用運算負擔較小、且在多數情境下效果良好的替代演算法來克服。</p>
<p>縫線雕刻產生器有兩種實作方式：</p>
<h3>隨機雕刻</h3>
<p>隨機縫線雕刻方法捨棄了傳統的縫線雕刻演算法，因為傳統方法在瀏覽器即時執行時過於緩慢。</p>
<p>相反地，它會產生一組隨機縫線，這些縫線透過將每一列的每個像素連接到下一列的鄰近像素，從而提供 100% 的圖像覆蓋率。接著它會遍歷每一條縫線，計算其能量，並丟棄一批能量最低的縫線。這個過程會重複進行，直到達到所需的縫線數量。這種方法對於許多圖像來說，能產生出乎意料的良好結果。</p>
<h3>預測式雕刻</h3>
<p>與隨機雕刻類似，此方法會產生能量圖並批次生成縫線。它同時也會為每一批次產生最小能量圖。核心理念是同時建立「好」縫線與「壞」縫線。好縫線具有較低的能量，會被保留。壞縫線則包含高能量像素，方便之後被過濾掉。</p>
<p>從第一列開始，它將像素對連接到下一列中對應的像素對。進行運算時，會將低能量縫線與最小能量圖中的低能量縫線連接起來。</p>
<p>結果會得到一條真正最佳的縫線、許多「非常好」的縫線、許多「非常壞」的縫線，以及很多普通的縫線。我們會選擇一批「好」縫線，丟棄其餘的，並重複此過程。</p>
<h2></h2>
<h2>TODO</h2>
<h3>高優先順序</h3>
<ul>
<li>[x] Web 元件</li>
<li>[x] 可從產生器取得資料並可縮放至任意尺寸的渲染器</li>
<li>[x] 隨機產生器</li>
<li>[x] 垂直雕刻</li>
<li>[x] 預測式產生器</li>
<li>[ ] 所有產生器皆支援 Web workers</li>
</ul>
<h3>低優先順序</h3>
<ul>
<li>[x] 遮罩</li>
<li>[ ] 臉部辨識</li>
</ul>
<h3>遙不可及的夢想</h3>
<ul>
<li>[ ] 2D 雕刻</li>
</ul>
<h2>授權條款</h2>
<p>本軟體依據 Fluid-Img 限制收益授權條款授權。</p>
<p><strong>免費使用</strong>：僅限年總營收低於 10,000,000 美元的個人與組織。</p>
<p><strong>需商業授權</strong>：年營收達 1,000 萬美元以上的組織需另行申請商業授權。請聯絡 [licensing@voice.ngo] 以洽詢商業授權條款。</p>
<p>完整條款請參閱 <a href="./LICENSE">LICENSE</a> 檔案。</p>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-07-11</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>