<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fluid-img - VoiceNGO/fluid-img ru</title>
    <meta name="title" content="fluid-img - VoiceNGO/fluid-img ru | Fluid Image Web Component Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах). Очень маленький! 7 КБ в минифиц...">
    <meta name="description" content="VoiceNGO/fluid-img - GitHub repository ru documentation and information | Fluid Image Web Component Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах). Очень маленький! 7 КБ в минифиц...">
    <meta name="keywords" content="VoiceNGO, fluid-img, GitHub, repository, ru documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/VoiceNGO/fluid-img/README-ru.html">
    <meta property="og:title" content="fluid-img - VoiceNGO/fluid-img ru | Fluid Image Web Component Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах). Очень маленький! 7 КБ в минифиц...">
    <meta property="og:description" content="VoiceNGO/fluid-img - GitHub repository ru documentation and information | Fluid Image Web Component Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах). Очень маленький! 7 КБ в минифиц...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/VoiceNGO/fluid-img" id="githubRepoLink" target="_blank">VoiceNGO/fluid-img</a>
<h1 style="display: none;">Fluid Image Web Component Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах). Очень маленький! 7 КБ в минифиц...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>Fluid Image Web Component</h1>
<p>Изображения, которые масштабируются интеллектуально до любого желаемого размера (в разумных пределах).</p>
<p><img src="https://raw.githubusercontent.com/VoiceNGO/fluid-img/refs/heads/main/resources/images/responsive-images.jpg" alt="Fluid Images" /></p>
<p><strong>Очень маленький!</strong> 7 КБ в минифицированном и сжатом виде (gzipped)</p>
<h2>Использование</h2>
<pre><code class="language-html">&lt;script src=&quot;fluid-img.js&quot;&gt;&lt;/script&gt;
&lt;fluid-img src=&quot;image.jpg&quot;&gt;&lt;/fluid-img&gt;
</code></pre>
<p>Вот и всё. Масштабируйте изображения как хотите, и они будут работать как надо.</p>
<h2>Демонстрация</h2>
<p><a href="https://voicengo.github.io/fluid-img/public/fluid-demo.html">Демонстрация здесь</a></p>
<p>Также доступна песочница для <a href="https://voicengo.github.io/fluid-img/public">экспериментов с вашими собственными изображениями</a>.</p>
<h2>Установка</h2>
<h3>Клиентская библиотека</h3>
<pre><code class="language-sh">npm install fluid-img
</code></pre>
<p>Затем импортируйте <code>fluid-img</code> в ваш проект, который предоставляет и регистрирует веб-компонент:</p>
<pre><code class="language-ts">import 'fluid-img';
</code></pre>
<p>Или подключите скрипт с jsdelivr или unpkg:</p>
<pre><code class="language-html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/fluid-img@latest/dist/fluid-img.js&quot; /&gt;

&lt;!-- или --&gt;

&lt;script src=&quot;https://unpkg.com/fluid-img@latest/dist/fluid-img.js&quot; /&gt;
</code></pre>
<h3>Предупреждения</h3>
<p>Компонент fluid image лучше всего работает для горизонтального или вертикального масштабирования изображений в диапазоне примерно от 0.5x до 1.5x от их исходного размера. Хотя он способен обрабатывать более крупные или меньшие масштабы, визуальное качество может быстро ухудшаться. Не рекомендуется использовать для изображений, где критически важна точная целостность пикселей, таких как портреты, графики или детализированные технические чертежи, поскольку seam carving вносит искажения. Настоятельно рекомендуется тестировать ваши изображения в различных размерах, чтобы убедиться, что они соответствуют вашим визуальным ожиданиям.</p>
<h4>CORS</h4>
<p>Из-за ограничений безопасности браузера, изображения, загруженные с другого источника (домена, протокола или порта), чем веб-страница, вызовут ошибку Cross-Origin Resource Sharing (CORS). Для работы этого компонента требуется доступ к исходным пиксельным данным изображения, который ограничивается CORS.</p>
<p>Для использования изображений с другого источника сервер, размещающий изображения, должен быть настроен на отправку соответствующих CORS-заголовков (например, <code>Access-Control-Allow-Origin: *</code> или <code>Access-Control-Allow-Origin: your-domain.com</code>). Без этих заголовков компонент не сможет обработать изображение.</p>
<p>(Для справки: для тестирования любые изображения на imgur уже имеют необходимые CORS-заголовки)</p>
<h4>Резервное отображение</h4>
<p>Если компонент не сможет загрузить или обработать изображение, или произойдет внутренняя ошибка, произойдет плавный откат к вставке стандартного тега <code>&lt;img&gt;</code> в компонент <code>&lt;fluid-img&gt;</code>, с шириной и высотой 100%, что гарантирует отображение изображения.</p>
<h2>Опции</h2>
<p>Использование: <code>&lt;fluid-img src=&quot;image.jpg&quot; generator=&quot;random&quot; max-carve-up-scale=&quot;5&quot;&gt;&lt;/fluid-img&gt;</code></p>
<p>По умолчанию используется генератор <code>random</code>, так как он самый быстрый.</p>
<p>| Опция                          | Значения                         | По умолчанию | Описание                                                                                                               |
| ------------------------------ | -------------------------------- | ------------ | ---------------------------------------------------------------------------------------------------------------------- |
| <code>src</code>                          | URL                              |              | URL изображения для обработки.                                                                                        |
| <code>generator</code>                    | <code>random</code>, <code>predictive</code>           | <code>predictive</code> | Генератор seam carving. <code>random</code> быстрее, но качество ниже.                                                            |
| <code>scaling-axis</code>                 | <code>horizontal</code>, <code>vertical</code>, <code>auto</code> | <code>horizontal</code> | Ось масштабирования. <code>auto</code> выбирает горизонтальное или вертикальное масштабирование в зависимости от изменения соотношения сторон. |
| <code>mask</code>                         | URL                              |              | URL маски. Черные области маски имеют меньшую энергию и с большей вероятностью будут сохранены.                        |
| <code>carving-priority</code>             | Число (0-1, например, <code>0.5</code>)     | <code>1</code>          | Процент масштабирования, выполняемого методом seam carving, по сравнению с традиционным масштабированием.              |
| <code>max-carve-up-seam-percentage</code> | Число (0-1, например, <code>0.5</code>)     | <code>0.6</code>        | Максимальный процент вставляемых seam при увеличении. Ограничивает создание новых seam для сохранения качества.         |
| <code>max-carve-up-scale</code>           | Число (например, <code>3</code>)            | <code>3</code>          | Максимальный коэффициент увеличения с использованием seam carving. После этого применяется традиционное масштабирование. |
| <code>max-carve-down-scale</code>         | Число (0-1, например, <code>0.7</code>)     | <code>0.7</code>        | Максимальный процент изображения, который может быть удален методом seam carving при уменьшении.                        |</p>
<h3>Специфические опции генератора</h3>
<p>Специфические опции генератора добавляются к компоненту <code>&lt;fluid-img&gt;</code>, но действительны только тогда, когда также установлен соответствующий атрибут <code>generator</code>.</p>
<h4>Опции случайного и предсказательного генераторов</h4>
<p>| Опция              | Значения              | По умолчанию | Описание                                           |
| ------------------ | --------------------- | ------------ | -------------------------------------------------- |
| <code>batch-percentage</code> | Число (0-1, напр. 0.1)| 0.1          | Процент швов для генерации за одну партию          |
| <code>min-batch-size</code>   | Число (напр. <code>10</code>)    | 10           | Минимальное количество швов для генерации за партию |</p>
<h2>Как это работает</h2>
<p>Seam carving — это технология изменения размера изображений с учетом содержимого, которая интеллектуально удаляет или добавляет пиксели, позволяя изменять размер изображения без искажения важного контента. Для получения дополнительной информации смотрите <a href="https://en.wikipedia.org/wiki/Seam_carving">статью в Википедии</a> по этой теме.</p>
<p>Исторически seam carving был слишком ресурсоёмким для использования в реальном времени в веб-браузерах. Однако эту проблему можно решить с помощью альтернативных алгоритмов, которые менее требовательны и хорошо работают во многих сценариях.</p>
<p>Существует две реализации генератора seam carving:</p>
<h3>Случайное вырезание</h3>
<p>Метод случайного вырезания швов отказывается от традиционного алгоритма вырезания швов, который слишком медленный для выполнения в реальном времени в браузере.</p>
<p>Вместо этого он генерирует набор случайных швов, которые обеспечивают 100% покрытие изображения, соединяя каждый пиксель в строке с соседним пикселем в следующей. Затем он проходит по каждому шву, вычисляет его энергию и отбрасывает группу швов с наименьшей энергией. Этот процесс повторяется до тех пор, пока не будет достигнуто нужное количество швов. Этот метод дает удивительно хорошие результаты для многих изображений.</p>
<h3>Предиктивное вырезание</h3>
<p>Аналогично случайному вырезанию, этот метод создает карту энергии и формирует швы пакетами. Также для каждого пакета генерируется карта минимальной энергии. Основная идея заключается в создании как «хороших», так и «плохих» швов. Хорошие швы имеют низкую энергию и сохраняются. Плохие швы включают пиксели с высокой энергией, что позволяет их отфильтровать позже.</p>
<p>Начиная с первой строки, он соединяет пары пикселей с соответствующими парами в следующей строке. Шов с меньшей энергией из текущего расчета соединяется с швом с меньшей энергией из карты минимальной энергии.</p>
<p>Результатом является один действительно оптимальный шов, много «очень хороших» швов, много «очень плохих» швов и большое количество посредственных. Мы выбираем партию «хороших» швов, отбрасываем остальные и повторяем процесс.</p>
<h2></h2>
<h2>TODO</h2>
<h3>Высокий приоритет</h3>
<ul>
<li>[x] Веб-компонент</li>
<li>[x] Рендерер, который принимает данные от генераторов и масштабируется до любого размера</li>
<li>[x] Случайный генератор</li>
<li>[x] Вертикальное вырезание</li>
<li>[x] Предиктивный генератор</li>
<li>[ ] Веб-воркеры для всех генераторов</li>
</ul>
<h3>Низкий приоритет</h3>
<ul>
<li>[x] Маскирование</li>
<li>[ ] Распознавание лиц</li>
</ul>
<h3>Мечта</h3>
<ul>
<li>[ ] 2D-гравировка</li>
</ul>
<h2>Лицензирование</h2>
<p>Это программное обеспечение лицензировано по лицензии Fluid-Img Revenue-Limited License.</p>
<p><strong>Бесплатное использование</strong> для частных лиц и организаций с годовым валовым доходом менее $10,000,000 USD.</p>
<p><strong>Требуется коммерческая лицензия</strong> для организаций с годовыми доходами $10M+.
Свяжитесь с [licensing@voice.ngo] для получения условий коммерческого лицензирования.</p>
<p>См. файл <a href="./LICENSE">LICENSE</a> для полного текста условий.</p>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-07-11</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>