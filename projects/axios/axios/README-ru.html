<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axios - axios/axios ru</title>
    <meta name="title" content="axios - axios/axios ru | 🥇 Золотые спонсоры Аутентификация, авторизация и предотвращение мошенничества на основе API-first Веб-сайт | Документация | Node.js Нас объединяет одна цель: п...">
    <meta name="description" content="axios/axios - GitHub repository ru documentation and information | 🥇 Золотые спонсоры Аутентификация, авторизация и предотвращение мошенничества на основе API-first Веб-сайт | Документация | Node.js Нас объединяет одна цель: п...">
    <meta name="keywords" content="axios, axios, GitHub, repository, ru documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/axios/axios/README-ru.html">
    <meta property="og:title" content="axios - axios/axios ru | 🥇 Золотые спонсоры Аутентификация, авторизация и предотвращение мошенничества на основе API-first Веб-сайт | Документация | Node.js Нас объединяет одна цель: п...">
    <meta property="og:description" content="axios/axios - GitHub repository ru documentation and information | 🥇 Золотые спонсоры Аутентификация, авторизация и предотвращение мошенничества на основе API-first Веб-сайт | Документация | Node.js Нас объединяет одна цель: п...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/axios/axios" id="githubRepoLink" target="_blank">axios/axios</a>
<h1 style="display: none;">🥇 Золотые спонсоры Аутентификация, авторизация и предотвращение мошенничества на основе API-first Веб-сайт | Документация | Node.js Нас объединяет одна цель: п...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h3 align="center"> 🥇 Золотые спонсоры <br> </h3> <table align="center" width="100%"><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="38px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/stytch_white.png"> <img width="200px" height="38px" src="https://axios-http.com/assets/sponsors/stytch.png" alt="Stytch"/> </picture> </a> <p align="center" title="API-first authentication, authorization, and fraud prevention">Аутентификация, авторизация и предотвращение мошенничества на основе API-first</p> <p align="center"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http"><b>Веб-сайт</b></a> | <a href="https://stytch.com/docs?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;docs-link&amp;utm_campaign&#x3D;axios-http"><b>Документация</b></a> | <a href="https://github.com/stytchauth/stytch-node?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;node-sdk&amp;utm_campaign&#x3D;axios-http"><b>Node.js</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="133px" height="43px" src="https://axios-http.com/assets/sponsors/principal.svg" alt="Principal Financial Group"/> </a> <p align="center" title="We’re bound by one common purpose: to give you the financial tools, resources and information you need to live your best life.">Нас объединяет одна цель: предоставить вам финансовые инструменты, ресурсы и информацию, необходимые для лучшей жизни.</p> <p align="center"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.principal.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="85px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buy-instagram-followers-twicsy.png" alt="Buy Instagram Followers Twicsy"/> </a> <p align="center" title="Buy real Instagram followers from Twicsy starting at only $2.97. Twicsy has been voted the best site to buy followers from the likes of US Magazine.">Покупайте настоящих подписчиков Instagram от Twicsy начиная всего с $2.97. Twicsy был признан лучшим сайтом для покупки подписчиков по версии US Magazine.</p> <p align="center"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>twicsy.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="52px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/descope_white.png"> <img width="200px" height="52px" src="https://axios-http.com/assets/sponsors/descope.png" alt="Descope"/> </picture> </a> <p align="center" title="Hi, we&#x27;re Descope! We are building something in the authentication space for app developers and can’t wait to place it in your hands.">Привет, мы Descope! Мы создаём новый продукт в области аутентификации для разработчиков приложений и с нетерпением ждём, чтобы представить его вам.</p> <p align="center"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>Веб-сайт</b></a> | <a href="https://docs.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>Документация</b></a> | <a href="https://www.descope.com/community?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>Сообщество</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="62px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buzzoid-buy-instagram-followers.png" alt="Buzzoid - Buy Instagram Followers"/> </a> <p align="center" title="At Buzzoid, you can buy Instagram followers quickly, safely, and easily with just a few clicks. Rated world&#x27;s #1 IG service since 2012.">В Buzzoid вы можете купить подписчиков Instagram быстро, безопасно и легко всего в несколько кликов. Признан сервисом №1 в мире с 2012 года.</p> <p align="center"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>buzzoid.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/famety-buy-instagram-followers.png" alt="Famety - Buy Instagram Followers"/> </a> <p align="center" title="At Famety, you can grow your social media following quickly, safely, and easily with just a few clicks. Rated the world’s #1 social media service since 2013.">В Famety вы можете быстро, безопасно и легко увеличить количество подписчиков в социальных сетях всего в несколько кликов. Признан сервисом №1 в мире с 2013 года.</p> <p align="center"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.famety.net</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/instagram-likes.png" alt="Poprey - Buy Instagram Likes"/> </a> <p align="center" title="Buy Instagram Likes">Купить лайки в Instagram</p> <p align="center"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>poprey.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/youtube-subscribers-ssmarket.png" alt="Buy Youtube Subscribers"/> </a> <p align="center" title="SS Market offers professional social media services that rapidly increase your YouTube subscriber count, elevating your channel to a powerful position.">SS Market предлагает профессиональные услуги в социальных сетях, которые быстро увеличивают количество подписчиков на вашем YouTube-канале, выводя его на новый уровень.</p> <p align="center"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>ssmarket.net</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="200px" height="56px" src="https://axios-http.com/assets/sponsors/opencollective/smmpanelserver123.png" alt="smmpanelserver"/> </a> <p align="center" title="smmpanelserver - Best and Cheapest Smm Panel">smmpanelserver — Лучший и самый доступный SMM-панель</p> <p align="center"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>smmpanelserver.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 Стать спонсором</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 Стать спонсором</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 Стать спонсором</a>
</td></tr></table>
<!--<div>marker</div>-->
<p><br><br></p>
<div align="center">
   <a href="https://axios-http.com"><img src="https://axios-http.com/assets/logo.svg" /></a><br>
</div>
<p align="center">HTTP-клиент на основе Promise для браузера и node.js</p>
<p align="center">
    <a href="https://axios-http.com/"><b>Веб-сайт</b></a> •
    <a href="https://axios-http.com/docs/intro"><b>Документация</b></a>
</p>
<div align="center">
<p><a href="https://www.npmjs.org/package/axios"><img src="https://img.shields.io/npm/v/axios.svg?style=flat-square" alt="npm version" /></a>
<a href="https://cdnjs.com/libraries/axios"><img src="https://img.shields.io/cdnjs/v/axios.svg?style=flat-square" alt="CDNJS" /></a>
<a href="https://github.com/axios/axios/actions/workflows/ci.yml"><img src="https://img.shields.io/github/actions/workflow/status/axios/axios/ci.yml?branch=v1.x&amp;label=CI&amp;logo=github&amp;style=flat-square" alt="Build status" /></a>
<a href="https://gitpod.io/#https://github.com/axios/axios"><img src="https://img.shields.io/badge/Gitpod-Ready--to--Code-blue?logo=gitpod&amp;style=flat-square" alt="Gitpod Ready-to-Code" /></a>
<a href="https://coveralls.io/r/mzabriskie/axios"><img src="https://img.shields.io/coveralls/mzabriskie/axios.svg?style=flat-square" alt="code coverage" /></a>
<a href="https://packagephobia.now.sh/result?p=axios"><img src="https://img.shields.io/badge/dynamic/json?url=https://packagephobia.com/v2/api.json?p=axios&amp;query=$.install.pretty&amp;label=install%20size&amp;style=flat-square" alt="install size" /></a>
<a href="https://bundlephobia.com/package/axios@latest"><img src="https://img.shields.io/bundlephobia/minzip/axios?style=flat-square" alt="npm bundle size" /></a>
<a href="https://npm-stat.com/charts.html?package=axios"><img src="https://img.shields.io/npm/dm/axios.svg?style=flat-square" alt="npm downloads" /></a>
<a href="https://gitter.im/mzabriskie/axios"><img src="https://img.shields.io/gitter/room/mzabriskie/axios.svg?style=flat-square" alt="gitter chat" /></a>
<a href="https://www.codetriage.com/axios/axios"><img src="https://www.codetriage.com/axios/axios/badges/users.svg" alt="code helpers" /></a>
<a href="https://snyk.io/test/npm/axios"><img src="https://snyk.io/test/npm/axios/badge.svg" alt="Known Vulnerabilities" /></a></p>
</div>
<h2>Оглавление</h2>
<ul>
<li><a href="#features">Возможности</a></li>
<li><a href="#browser-support">Поддержка браузеров</a></li>
<li><a href="#installing">Установка</a>
<ul>
<li><a href="#package-manager">Пакетный менеджер</a></li>
<li><a href="#cdn">CDN</a></li>
</ul>
</li>
<li><a href="#example">Пример</a></li>
<li><a href="#axios-api">Axios API</a></li>
<li><a href="#request-method-aliases">Алиасы методов запроса</a></li>
<li><a href="#concurrency-deprecated">Параллелизм 👎</a></li>
<li><a href="#creating-an-instance">Создание экземпляра</a></li>
<li><a href="#instance-methods">Методы экземпляра</a></li>
<li><a href="#request-config">Конфигурация запроса</a></li>
<li><a href="#response-schema">Схема ответа</a></li>
<li><a href="#config-defaults">Настройки по умолчанию</a>
<ul>
<li><a href="#global-axios-defaults">Глобальные настройки axios</a></li>
<li><a href="#custom-instance-defaults">Пользовательские настройки экземпляра</a></li>
<li><a href="#config-order-of-precedence">Порядок приоритета настроек</a></li>
</ul>
</li>
<li><a href="#interceptors">Перехватчики</a>
<ul>
<li><a href="#multiple-interceptors">Несколько перехватчиков</a></li>
</ul>
</li>
<li><a href="#handling-errors">Обработка ошибок</a></li>
<li><a href="#cancellation">Отмена</a>
<ul>
<li><a href="#abortcontroller">AbortController</a></li>
<li><a href="#canceltoken-deprecated">CancelToken 👎</a></li>
</ul>
</li>
<li><a href="#using-applicationx-www-form-urlencoded-format">Использование формата application/x-www-form-urlencoded</a>
<ul>
<li><a href="#urlsearchparams">URLSearchParams</a></li>
<li><a href="#query-string-older-browsers">Query string</a></li>
<li><a href="#-automatic-serialization-to-urlsearchparams">🆕 Автоматическая сериализация</a></li>
</ul>
</li>
<li><a href="#using-multipartform-data-format">Использование формата multipart/form-data</a>
<ul>
<li><a href="#formdata">FormData</a></li>
<li><a href="#-automatic-serialization-to-formdata">🆕 Автоматическая сериализация</a></li>
</ul>
</li>
<li><a href="#files-posting">Отправка файлов</a></li>
<li><a href="#-html-form-posting-browser">Отправка HTML-форм</a></li>
<li><a href="#-progress-capturing">🆕 Отслеживание прогресса</a></li>
<li><a href="#-progress-capturing">🆕 Ограничение скорости</a></li>
<li><a href="#-axiosheaders">🆕 AxiosHeaders</a></li>
<li><a href="#-fetch-adapter">🔥 Адаптер Fetch</a></li>
<li><a href="#semver">Semver</a></li>
<li><a href="#promises">Промисы</a></li>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#resources">Ресурсы</a></li>
<li><a href="#credits">Благодарности</a></li>
<li><a href="#license">Лицензия</a></li>
</ul>
<h2>Возможности</h2>
<ul>
<li>Выполнение <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a> из браузера</li>
<li>Выполнение <a href="https://nodejs.org/api/http.html">http</a> запросов из node.js</li>
<li>Поддержка API <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></li>
<li>Перехват запроса и ответа</li>
<li>Трансформация данных запроса и ответа</li>
<li>Отмена запросов</li>
<li>Автоматическое преобразование для данных <a href="https://www.json.org/json-en.html">JSON</a></li>
<li>🆕 Автоматическая сериализация объектов данных в кодировки тела <code>multipart/form-data</code> и <code>x-www-form-urlencoded</code></li>
<li>Поддержка на стороне клиента для защиты от <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li>
</ul>
<h2>Поддержка браузеров</h2>
<p><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png" alt="Chrome" /> | <img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png" alt="Firefox" /> | <img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari_48x48.png" alt="Safari" /> | <img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/opera/opera_48x48.png" alt="Opera" /> | <img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_48x48.png" alt="Edge" /> |
--- | --- | --- | --- | --- |
Последняя ✔ | Последняя ✔ | Последняя ✔ | Последняя ✔ | Последняя ✔ | 11 ✔ |</p>
<p><a href="https://saucelabs.com/u/axios"><img src="https://saucelabs.com/open_sauce/build_matrix/axios.svg" alt="Browser Matrix" /></a></p>
<h2>Установка</h2>
<h3>Менеджер пакетов</h3>
<p>Используя npm:</p>
<pre><code class="language-bash">$ npm install axios
</code></pre>
<p>Используя bower:</p>
<pre><code class="language-bash">$ bower install axios
</code></pre>
<p>Используя yarn:</p>
<pre><code class="language-bash">$ yarn add axios
</code></pre>
<p>Используя pnpm:</p>
<pre><code class="language-bash">$ pnpm add axios
</code></pre>
<p>Используя bun:</p>
<pre><code class="language-bash">$ bun add axios
</code></pre>
<p>После установки пакета вы можете импортировать библиотеку, используя подход <code>import</code> или <code>require</code>:</p>
<pre><code class="language-js">import axios, {isCancel, AxiosError} from 'axios';
</code></pre>
<p>Вы также можете использовать экспорт по умолчанию, так как именованный экспорт — это просто реэкспорт из фабрики Axios:</p>
<pre><code class="language-js">import axios from 'axios';

console.log(axios.isCancel('something'));
</code></pre>
<p>Если вы используете <code>require</code> для импорта, <strong>доступен только экспорт по умолчанию</strong>:</p>
<pre><code class="language-js">const axios = require('axios');

console.log(axios.isCancel('something'));
</code></pre>
<p>Для некоторых сборщиков и некоторых ES6 линтеров может понадобиться следующее:</p>
<pre><code class="language-js">import { default as axios } from 'axios';
</code></pre>
<p>В случаях, когда что-то пошло не так при попытке импортировать модуль в пользовательскую или устаревшую среду,
вы можете попробовать импортировать пакет модуля напрямую:</p>
<pre><code class="language-js">const axios = require('axios/dist/browser/axios.cjs'); // browser commonJS bundle (ES2017)
// const axios = require('axios/dist/node/axios.cjs'); // node commonJS bundle (ES2017)
</code></pre>
<h3>CDN</h3>
<p>Используя jsDelivr CDN (ES5 UMD модуль для браузера):</p>
<pre><code class="language-html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>Используя unpkg CDN:</p>
<pre><code class="language-html">&lt;script src=&quot;https://unpkg.com/axios@1.6.7/dist/axios.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h2>Пример</h2>
<blockquote>
<p><strong>Примечание</strong>: Использование CommonJS<br />
Для получения типизации TypeScript (для intellisense / автодополнения) при использовании CommonJS-импорта с <code>require()</code>, используйте следующий подход:</p>
</blockquote>
<pre><code class="language-js">import axios from 'axios';
//const axios = require('axios'); // устаревший способ

// Выполнить запрос для пользователя с заданным ID
axios.get('/user?ID=12345')
  .then(function (response) {
    // обработка успеха
    console.log(response);
  })
  .catch(function (error) {
    // обработка ошибки
    console.log(error);
  })
  .finally(function () {
    // всегда выполняется
  });

// При желании вышеуказанный запрос можно выполнить так
axios.get('/user', {
    params: {
      ID: 12345
    }
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  })
  .finally(function () {
    // всегда выполняется
  });

// Хотите использовать async/await? Добавьте ключевое слово `async` к вашей внешней функции/методу.
async function getUser() {
  try {
    const response = await axios.get('/user?ID=12345');
    console.log(response);
  } catch (error) {
    console.error(error);
  }
}
</code></pre>
<blockquote>
<p><strong>Примечание</strong>: <code>async/await</code> является частью ECMAScript 2017 и не поддерживается в Internet
Explorer и старых браузерах, поэтому используйте с осторожностью.</p>
</blockquote>
<p>Выполнение <code>POST</code> запроса</p>
<pre><code class="language-js">axios.post('/user', {
    firstName: 'Fred',
    lastName: 'Flintstone'
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
</code></pre>
<p>Выполнение нескольких параллельных запросов</p>
<pre><code class="language-js">function getUserAccount() {
  return axios.get('/user/12345');
}

function getUserPermissions() {
  return axios.get('/user/12345/permissions');
}

Promise.all([getUserAccount(), getUserPermissions()])
  .then(function (results) {
    const acct = results[0];
    const perm = results[1];
  });
</code></pre>
<h2>axios API</h2>
<p>Запросы могут быть выполнены путем передачи соответствующего конфига в <code>axios</code>.</p>
<h5>axios(config)</h5>
<pre><code class="language-js">// Отправить POST-запрос
axios({
  method: 'post',
  url: '/user/12345',
  data: {
    firstName: 'Fred',
    lastName: 'Flintstone'
  }
});
</code></pre>
<pre><code class="language-js">// GET-запрос для удалённого изображения в node.js
axios({
  method: 'get',
  url: 'https://bit.ly/2mTM3nY',
  responseType: 'stream'
})
  .then(function (response) {
    response.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))
  });
</code></pre>
<h5>axios(url[, config])</h5>
<pre><code class="language-js">// Отправить GET-запрос (метод по умолчанию)
axios('/user/12345');
</code></pre>
<h3>Алиасы методов запроса</h3>
<p>Для удобства предоставлены алиасы для всех распространённых методов запросов.</p>
<h5>axios.request(config)</h5>
<h5>axios.get(url[, config])</h5>
<h5>axios.delete(url[, config])</h5>
<h5>axios.head(url[, config])</h5>
<h5>axios.options(url[, config])</h5>
<h5>axios.post(url[, data[, config]])</h5>
<h5>axios.put(url[, data[, config]])</h5>
<h5>axios.patch(url[, data[, config]])</h5>
<h6>ПРИМЕЧАНИЕ</h6>
<p>При использовании алиасов методы <code>url</code>, <code>method</code> и <code>data</code> не нужно указывать в config.</p>
<h3>Конкурентность (Устарело)</h3>
<p>Пожалуйста, используйте <code>Promise.all</code> вместо функций ниже.</p>
<p>Вспомогательные функции для работы с параллельными запросами.</p>
<p>axios.all(iterable)
axios.spread(callback)</p>
<h3>Создание экземпляра</h3>
<p>Вы можете создать новый экземпляр axios с пользовательским конфигом.</p>
<h5>axios.create([config])</h5>
<pre><code class="language-js">const instance = axios.create({
  baseURL: 'https://some-domain.com/api/',
  timeout: 1000,
  headers: {'X-Custom-Header': 'foobar'}
});
</code></pre>
<h3>Методы экземпляра</h3>
<p>Доступные методы экземпляра перечислены ниже. Указанный config будет объединён с конфигом экземпляра.</p>
<h5>axios#request(config)</h5>
<h5>axios#get(url[, config])</h5>
<h5>axios#delete(url[, config])</h5>
<h5>axios#head(url[, config])</h5>
<h5>axios#options(url[, config])</h5>
<h5>axios#post(url[, data[, config]])</h5>
<h5>axios#put(url[, data[, config]])</h5>
<h5>axios#patch(url[, data[, config]])</h5>
<h5>axios#getUri([config])</h5>
<h2>Конфигурация запроса</h2>
<p>Это доступные параметры конфигурации для выполнения запросов. Только <code>url</code> является обязательным. Если <code>method</code> не указан, запросы по умолчанию будут использовать <code>GET</code>.</p>
<pre><code class="language-js">{
  // `url` — это URL сервера, который будет использоваться для запроса
  url: '/user',

  // `method` — это HTTP-метод, который будет использоваться при выполнении запроса
  method: 'get', // по умолчанию

  // `baseURL` будет добавлен в начало `url`, если `url` не абсолютный и опция `allowAbsoluteUrls` установлена в true.
  // Удобно задавать `baseURL` для экземпляра axios, чтобы передавать относительные URL
  // в методы этого экземпляра.
  baseURL: 'https://some-domain.com/api/',

  // `allowAbsoluteUrls` определяет, будут ли абсолютные URL переопределять настроенный `baseUrl`.
  // Если установлено в true (по умолчанию), абсолютные значения для `url` будут переопределять `baseUrl`.
  // Если установлено в false, абсолютные значения для `url` всегда будут иметь префикс `baseUrl`.
  allowAbsoluteUrls: true,

  // `transformRequest` позволяет изменять данные запроса перед их отправкой на сервер
  // Применяется только для методов 'PUT', 'POST', 'PATCH' и 'DELETE'
  // Последняя функция в массиве должна возвращать строку или экземпляр Buffer, ArrayBuffer,
  // FormData или Stream
  // Вы можете модифицировать объект заголовков.
  transformRequest: [function (data, headers) {
    // Выполните любые преобразования данных
</code></pre>
<pre><code>return data;
</code></pre>
<p>}],</p>
<p>// <code>transformResponse</code> позволяет изменять данные ответа до того,
// как они будут переданы в then/catch
transformResponse: [function (data) {
// Выполните любые необходимые преобразования данных</p>
<pre><code>return data;
</code></pre>
<p>}],</p>
<p>// <code>headers</code> — это пользовательские заголовки, которые будут отправлены
headers: {'X-Requested-With': 'XMLHttpRequest'},</p>
<p>// <code>params</code> — это параметры URL, которые будут отправлены с запросом
// Должен быть простым объектом или объектом URLSearchParams
params: {
ID: 12345
},</p>
<p>// <code>paramsSerializer</code> — это необязательная настройка, позволяющая кастомизировать сериализацию <code>params</code>.
paramsSerializer: {</p>
<pre><code>// Пользовательская функция кодирования, отправляющая пары ключ/значение итеративно.
encode?: (param: string): string =&gt; { /* Выполните необходимые операции и верните преобразованную строку */ }, 

// Пользовательская функция сериализации для всех параметров. Позволяет пользователю имитировать поведение до версии 1.x.
serialize?: (params: Record&lt;string, any&gt;, options?: ParamsSerializerOptions ), 

// Конфигурация для форматирования индексов массивов в параметрах.
indexes: false // Доступны три варианта: (1) indexes: null (без скобок), (2) (по умолчанию) indexes: false (пустые скобки), (3) indexes: true (скобки с индексами).    
</code></pre>
<p>},</p>
<p>// <code>data</code> — это данные, которые будут отправлены в теле запроса
// Применяется только для методов запросов 'PUT', 'POST', 'DELETE' и 'PATCH'
// Если <code>transformRequest</code> не задан, должен быть одним из следующих типов:
// - строка, простой объект, ArrayBuffer, ArrayBufferView, URLSearchParams
// - Только для браузера: FormData, File, Blob
// - Только для Node: Stream, Buffer, FormData (пакет form-data)
data: {
firstName: 'Fred'
},</p>
<p>// альтернативный синтаксис для отправки данных в тело запроса
// метод post
// отправляется только значение, а не ключ
data: 'Country=Brasil&amp;City=Belo Horizonte',</p>
<p>// <code>timeout</code> задает количество миллисекунд до истечения времени ожидания запроса.
// Если запрос занимает больше времени, чем указано в <code>timeout</code>, он будет прерван.
timeout: 1000, // по умолчанию <code>0</code> (без тайм-аута)</p>
<p>// <code>withCredentials</code> указывает, должны ли кросс-сайтовые запросы Access-Control
// выполняться с использованием учетных данных
withCredentials: false, // по умолчанию</p>
<p>// <code>adapter</code> позволяет реализовать пользовательскую обработку запросов, что облегчает тестирование.
// Верните promise и предоставьте допустимый ответ (см. lib/adapters/README.md)
adapter: function (config) {
/* ... */
},
// Также можно указать имя встроенного адаптера или предоставить массив с их именами,
// чтобы выбрать первый доступный в окружении
adapter: 'xhr', // 'fetch' | 'http' | ['xhr', 'http', 'fetch']</p>
<p>// <code>auth</code> указывает, что должна использоваться HTTP Basic аутентификация, и предоставляет учетные данные.
// Это установит заголовок <code>Authorization</code>, перезаписав любые другие заголовки
// <code>Authorization</code>, которые вы устанавливали через <code>headers</code>.
// Обратите внимание, что только HTTP Basic auth настраивается через этот параметр.
// Для Bearer-токенов и других случаев используйте пользовательские заголовки <code>Authorization</code>.
auth: {
username: 'janedoe',
password: 's00pers3cret'
},</p>
<p>// <code>responseType</code> указывает тип данных, с которыми сервер ответит
// варианты: 'arraybuffer', 'document', 'json', 'text', 'stream'
//   только для браузера: 'blob'
responseType: 'json', // по умолчанию</p>
<p>// <code>responseEncoding</code> указывает кодировку для декодирования ответов (только Node.js)
// Примечание: игнорируется для <code>responseType</code> со значением 'stream' или клиентских запросов
// варианты: 'ascii', 'ASCII', 'ansi', 'ANSI', 'binary', 'BINARY', 'base64', 'BASE64', 'base64url',
// 'BASE64URL', 'hex', 'HEX', 'latin1', 'LATIN1', 'ucs-2', 'UCS-2', 'ucs2', 'UCS2', 'utf-8', 'UTF-8',
// 'utf8', 'UTF8', 'utf16le', 'UTF16LE'
responseEncoding: 'utf8', // по умолчанию</p>
<p>// <code>xsrfCookieName</code> — имя cookie, используемого в качестве значения xsrf-токена
xsrfCookieName: 'XSRF-TOKEN', // по умолчанию</p>
<p>// <code>xsrfHeaderName</code> — имя HTTP-заголовка, который содержит значение xsrf-токена
xsrfHeaderName: 'X-XSRF-TOKEN', // по умолчанию</p>
<p>// <code>undefined</code> (по умолчанию) — устанавливать XSRF-заголовок только для запросов к тому же источнику
withXSRFToken: boolean | undefined | ((config: InternalAxiosRequestConfig) =&gt; boolean | undefined),</p>
<p>// <code>onUploadProgress</code> позволяет обрабатывать события прогресса загрузки
// браузер и node.js
onUploadProgress: function ({loaded, total, progress, bytes, estimated, rate, upload = true}) {</p>
<pre><code class="language-markdown">    // Делайте что угодно с событием прогресса Axios
  },

  // `onDownloadProgress` позволяет обрабатывать события прогресса для загрузок
  // browser &amp; node.js
  onDownloadProgress: function ({loaded, total, progress, bytes, estimated, rate, download = true}) {
    // Делайте что угодно с событием прогресса Axios
  },

  // `maxContentLength` определяет максимальный размер содержимого http-ответа в байтах, разрешённый в node.js
  maxContentLength: 2000,

  // `maxBodyLength` (только для Node) определяет максимальный размер содержимого http-запроса в байтах, разрешённый
  maxBodyLength: 2000,

  // `validateStatus` определяет, разрешать или отклонять промис для данного
  // кода статуса HTTP-ответа. Если `validateStatus` возвращает `true` (или установлен в `null`
  // или `undefined`), промис будет разрешён; иначе промис будет
  // отклонён.
  validateStatus: function (status) {
    return status &gt;= 200 &amp;&amp; status &lt; 300; // по умолчанию
  },

  // `maxRedirects` определяет максимальное количество перенаправлений для следования в node.js.
  // Если установлено в 0, перенаправления не будут выполняться.
  maxRedirects: 21, // по умолчанию

  // `beforeRedirect` определяет функцию, которая будет вызвана перед перенаправлением.
  // Используйте это для изменения опций запроса при перенаправлении,
  // для просмотра последних заголовков ответа,
  // или для отмены запроса путём генерации ошибки
  // Если maxRedirects установлен в 0, `beforeRedirect` не используется.
  beforeRedirect: (options, { headers }) =&gt; {
    if (options.hostname === &quot;example.com&quot;) {
      options.auth = &quot;user:password&quot;;
    }
  },

  // `socketPath` определяет UNIX Socket, который будет использоваться в node.js.
  // например, '/var/run/docker.sock' для отправки запросов к демону docker.
  // Можно указать либо `socketPath`, либо `proxy`.
  // Если указаны оба, используется `socketPath`.
  socketPath: null, // по умолчанию
  
  // `transport` определяет транспортный метод, который будет использоваться для выполнения запроса.
  // Если определён, будет использоваться он. Иначе, если `maxRedirects` равен 0,
  // будет использоваться стандартная библиотека `http` или `https` в зависимости от протокола, указанного в `protocol`.
  // В противном случае будет использоваться библиотека `httpFollow` или `httpsFollow` в зависимости от протокола,
  // которые могут обрабатывать перенаправления.
  transport: undefined, // по умолчанию

  // `httpAgent` и `httpsAgent` определяют пользовательский агент, который будет использоваться при выполнении http
  // и https-запросов соответственно в node.js. Это позволяет добавлять такие опции, как
  // `keepAlive`, которые по умолчанию не включены до Node.js v19.0.0. После Node.js
  // v19.0.0 больше не нужно настраивать агент для включения `keepAlive`, потому что
  // `http.globalAgent` имеет `keepAlive` включённым по умолчанию.
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),

  // `proxy` определяет имя хоста, порт и протокол прокси-сервера.
  // Вы также можете определить свой прокси с помощью стандартных переменных окружения `http_proxy` и
  // `https_proxy`. Если вы используете переменные окружения
  // для конфигурации прокси, вы также можете определить переменную окружения `no_proxy`
  // как список доменов через запятую, которые не должны проксироваться.
  // Используйте `false` для отключения прокси, игнорируя переменные окружения.
  // `auth` указывает, что для подключения к прокси должен использоваться HTTP Basic auth, и
  // предоставляет учётные данные.
  // Это установит заголовок `Proxy-Authorization`, перезаписывая все существующие
  // пользовательские заголовки `Proxy-Authorization`, которые вы установили с помощью `headers`.
  // Если прокси-сервер использует HTTPS, то необходимо установить протокол в `https`.
  proxy: {
    protocol: 'https',
    host: '127.0.0.1',
    // hostname: '127.0.0.1' // имеет приоритет над 'host', если оба определены
    port: 9000,
    auth: {
      username: 'mikeymike',
      password: 'rapunz3l'
    }
  },

  // `cancelToken` указывает токен отмены, который может быть использован для отмены запроса
  // (см. раздел Отмена ниже для подробностей)
  cancelToken: new CancelToken(function (cancel) {
  }),

  // альтернативный способ отмены запросов Axios с помощью AbortController
  signal: new AbortController().signal,

  // `decompress` указывает, должен ли ответ автоматически декомпрессироваться.
  // Если установлено в `true`, также будет удалён заголовок 'content-encoding'
  // из объектов всех декомпрессированных ответов
  // - только для Node (XHR не может отключить декомпрессию)
  decompress: true, // по умолчанию

  // `insecureHTTPParser` булево значение.
  // Указывает, использовать ли незащищённый HTTP-парсер, который принимает некорректные HTTP-заголовки.
  // Это может позволить взаимодействие с нестандартными HTTP-реализациями.
  // Использование незащищённого парсера следует избегать.
  // см. опции https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_http_request_url_options_callback
</code></pre>
<pre><code class="language-js">  // см. также https://nodejs.org/en/blog/vulnerability/february-2020-security-releases/#strict-http-header-parsing-none
  insecureHTTPParser: undefined, // по умолчанию

  // переходные опции для обратной совместимости, которые могут быть удалены в новых версиях
  transitional: {
    // тихий режим парсинга JSON
    // `true`  - игнорировать ошибки парсинга JSON и устанавливать response.data в null, если парсинг не удался (старое поведение)
    // `false` - выбрасывать SyntaxError, если парсинг JSON не удался (Примечание: responseType должен быть установлен в 'json')
    silentJSONParsing: true, // значение по умолчанию для текущей версии Axios

    // пытаться парсить строку ответа как JSON, даже если `responseType` не 'json'
    forcedJSONParsing: true,

    // выбрасывать ошибку ETIMEDOUT вместо общей ECONNABORTED при тайм-ауте запроса
    clarifyTimeoutError: false,
  },

  env: {
    // Класс FormData, который будет использоваться для автоматической сериализации данных запроса в объект FormData
    FormData: window?.FormData || global?.FormData
  },

  formSerializer: {
      visitor: (value, key, path, helpers) =&gt; {}, // пользовательская функция-обходчик для сериализации значений формы
      dots: boolean, // использовать точки вместо формата скобок
      metaTokens: boolean, // сохранять специальные окончания, такие как {} в ключе параметра
      indexes: boolean, // формат индексов массива: null - без скобок, false - пустые скобки, true - скобки с индексами
  },

  // только для http-адаптера (node.js)
  maxRate: [
    100 * 1024, // лимит загрузки 100КБ/с,
    100 * 1024  // лимит скачивания 100КБ/с
  ]
}
</code></pre>
<h2>Схема ответа</h2>
<p>Ответ на запрос содержит следующую информацию.</p>
<pre><code class="language-js">{
  // `data` — это ответ, предоставленный сервером
  data: {},

  // `status` — HTTP-код статуса из ответа сервера
  status: 200,

  // `statusText` — HTTP-сообщение статуса из ответа сервера
  statusText: 'OK',

  // `headers` — HTTP-заголовки, с которыми ответил сервер
  // Все имена заголовков в нижнем регистре и доступны через скобочную нотацию.
  // Пример: `response.headers['content-type']`
  headers: {},

  // `config` — конфигурация, переданная в `axios` для этого запроса
  config: {},

  // `request` — запрос, который сгенерировал этот ответ
  // Это последний экземпляр ClientRequest в node.js (при редиректах)
  // и экземпляр XMLHttpRequest в браузере
  request: {}
}
</code></pre>
<p>При использовании <code>then</code> вы получите ответ следующим образом:</p>
<pre><code class="language-js">axios.get('/user/12345')
  .then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
  });
</code></pre>
<p>При использовании <code>catch</code> или передачи <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then">обработчика отклонения</a> в качестве второго параметра метода <code>then</code>, ответ будет доступен через объект <code>error</code>, как описано в разделе <a href="#handling-errors">Обработка ошибок</a>.</p>
<h2>Значения по умолчанию для конфигурации</h2>
<p>Вы можете указать значения конфигурации по умолчанию, которые будут применяться ко всем запросам.</p>
<h3>Глобальные значения по умолчанию для axios</h3>
<pre><code class="language-js">axios.defaults.baseURL = 'https://api.example.com';

// Важно: если axios используется с несколькими доменами, AUTH_TOKEN будет отправляться на все из них.
// См. ниже пример использования пользовательских значений по умолчанию для экземпляра.
axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;

axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
</code></pre>
<h3>Пользовательские значения по умолчанию для экземпляра</h3>
<pre><code>```js
// Установить значения конфигурации по умолчанию при создании экземпляра
const instance = axios.create({
  baseURL: 'https://api.example.com'
});

// Изменить значения по умолчанию после создания экземпляра
instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;
</code></pre>
<h3>Порядок приоритета конфигураций</h3>
<p>Конфигурация будет объединяться с учетом порядка приоритета. Сначала используются значения по умолчанию библиотеки, определённые в <a href="https://github.com/axios/axios/blob/main/lib/defaults/index.js#L49">lib/defaults/index.js</a>, затем свойство <code>defaults</code> экземпляра, и, наконец, аргумент <code>config</code> для запроса. Последний имеет приоритет над предыдущими. Вот пример.</p>
<pre><code class="language-js">// Создать экземпляр, используя значения конфигурации по умолчанию, предоставленные библиотекой
// На этом этапе значение timeout равно `0`, как и по умолчанию для библиотеки
const instance = axios.create();

// Переопределить значение timeout по умолчанию для библиотеки
// Теперь все запросы, использующие этот экземпляр, будут ожидать 2.5 секунды перед истечением времени ожидания
instance.defaults.timeout = 2500;

// Переопределить timeout для этого запроса, так как известно, что он занимает много времени
instance.get('/longRequest', {
  timeout: 5000
});
</code></pre>
<h2>Перехватчики (Interceptors)</h2>
<p>Вы можете перехватывать запросы или ответы до того, как ими займутся <code>then</code> или <code>catch</code>.</p>
<pre><code class="language-js">
const instance = axios.create();

// Добавить перехватчик запроса
instance.interceptors.request.use(function (config) {
    // Выполнить действия перед отправкой запроса
    return config;
  }, function (error) {
    // Обработка ошибки запроса
    return Promise.reject(error);
  });

// Добавить перехватчик ответа
instance.interceptors.response.use(function (response) {
    // Любой код статуса в диапазоне 2xx вызовет выполнение этой функции
    // Обработка данных ответа
    return response;
  }, function (error) {
    // Любой код статуса вне диапазона 2xx вызовет выполнение этой функции
    // Обработка ошибки ответа
    return Promise.reject(error);
  });
</code></pre>
<p>Если вам нужно позже удалить перехватчик, вы можете это сделать.</p>
<pre><code class="language-js">const instance = axios.create();
const myInterceptor = instance.interceptors.request.use(function () {/*...*/});
axios.interceptors.request.eject(myInterceptor);
</code></pre>
<p>Вы также можете удалить все перехватчики для запросов или ответов.</p>
<pre><code class="language-js">const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
instance.interceptors.request.clear(); // Удаляет перехватчики запросов
instance.interceptors.response.use(function () {/*...*/});
instance.interceptors.response.clear(); // Удаляет перехватчики ответов
</code></pre>
<p>Вы можете добавить перехватчики к своему собственному экземпляру axios.</p>
<pre><code class="language-js">const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
</code></pre>
<p>Когда вы добавляете перехватчики запросов, по умолчанию считается, что они асинхронные. Это может вызвать задержку
в выполнении вашего axios-запроса, если главный поток заблокирован (под капотом для
перехватчика создаётся promise, и ваш запрос помещается в конец стека вызовов). Если ваши перехватчики запросов синхронные, вы можете добавить флаг
в объект опций, который укажет axios выполнять код синхронно и избежать любых задержек при выполнении запроса.</p>
<pre><code class="language-js">axios.interceptors.request.use(function (config) {
  config.headers.test = 'I am only a header!';
  return config;
}, null, { synchronous: true });
</code></pre>
<p>Если вы хотите выполнить определённый перехватчик на основе проверки во время выполнения,
вы можете добавить функцию <code>runWhen</code> в объект опций. Перехватчик запроса не будет выполнен <strong>только если</strong> возвращаемое значение
<code>runWhen</code> — <code>false</code>. Функция будет вызвана с объектом config
(не забывайте, что вы также можете привязать к ней свои собственные аргументы). Это может быть полезно, если у вас есть
асинхронный перехватчик запросов, который должен выполняться только в определённых случаях.</p>
<pre><code>```js
function onGetCall(config) {
  return config.method === 'get';
}
axios.interceptors.request.use(function (config) {
  config.headers.test = 'special get headers';
  return config;
}, null, { runWhen: onGetCall });
</code></pre>
<blockquote>
<p><strong>Примечание:</strong> параметр options (содержащий свойства <code>synchronous</code> и <code>runWhen</code>) в данный момент поддерживается только для запросных перехватчиков.</p>
</blockquote>
<h3>Несколько перехватчиков</h3>
<p>Если вы добавляете несколько перехватчиков ответа
и когда ответ был успешно получен</p>
<ul>
<li>тогда каждый перехватчик выполняется</li>
<li>затем они выполняются в том порядке, в каком были добавлены</li>
<li>затем возвращается только результат последнего перехватчика</li>
<li>затем каждый перехватчик получает результат своего предшественника</li>
<li>и если перехватчик-обработчик успешного ответа выбрасывает исключение
<ul>
<li>следующий обработчик успешного ответа не вызывается</li>
<li>затем вызывается следующий обработчик ошибки</li>
<li>после обработки исключения опять вызывается следующий обработчик успешного ответа (аналогично цепочке промисов).</li>
</ul>
</li>
</ul>
<p>Посмотрите <a href="https://raw.githubusercontent.com/axios/axios/v1.x/./test/specs/interceptors.spec.js">тесты перехватчиков</a>, чтобы увидеть всё это в коде.</p>
<h2>Типы ошибок</h2>
<p>Существует множество различных сообщений об ошибках axios, которые могут предоставить основную информацию о деталях ошибки и потенциальных возможностях для отладки.</p>
<p>Общая структура ошибок axios выглядит следующим образом:
| Свойство  | Описание  |
| -------- | ----------  |
| message  | Краткое описание сообщения об ошибке и статус, с которым произошёл сбой. |
| name     | Определяет, откуда возникла ошибка. Для axios всегда будет 'AxiosError'. |
| stack    | Содержит трассировку стека ошибки. |
| config   | Объект конфигурации axios с конкретными настройками экземпляра, определёнными пользователем при выполнении запроса |
| code     | Представляет идентифицированную axios ошибку. В таблице ниже приведены конкретные определения внутренних ошибок axios.  |
| status   | Код состояния HTTP-ответа. См. <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">здесь</a> значения распространённых кодов состояния HTTP.</p>
<p>Ниже приведён список возможных ошибок, идентифицированных axios:</p>
<p>| Код                      | Описание                                                                                                                                                                                                                                                                                                                                                                                     |
| --- | --- |
| ERR_BAD_OPTION_VALUE      | Указано недопустимое значение в конфигурации axios.                                                                                                                                                                                                                                                                                                                                         |
| ERR_BAD_OPTION            | Указана недопустимая опция в конфигурации axios.                                                                                                                                                                                                                                                                                                                                            |
| ERR_NOT_SUPPORT           | Функция или метод не поддерживаются в текущем окружении axios.                                                                                                                                                                                                                                                                                                                             |
| ERR_DEPRECATED            | Использована устаревшая функция или метод в axios.                                                                                                                                                                                                                                                                                                                                          |
| ERR_INVALID_URL           | Указан некорректный URL для запроса axios.                                                                                                                                                                                                                                                                                                                                                  |
| ECONNABORTED              | Обычно указывает, что запрос был прерван по тайм-ауту (если не установлен <code>transitional.clarifyTimeoutError</code>), либо был прерван браузером или его плагином.                                                                                                                                                                                                                                |
| ERR_CANCELED              | Функция или метод явно отменены пользователем с помощью AbortSignal (или CancelToken).                                                                                                                                                                                                                                                               |
| ETIMEDOUT                 | Запрос прерван по тайм-ауту из-за превышения лимита времени по умолчанию в axios. Для этого должна быть установлена опция <code>transitional.clarifyTimeoutError</code> в значение <code>true</code>, иначе будет выброшена стандартная ошибка <code>ECONNABORTED</code>.                                                                                                            |
| ERR_NETWORK               | Проблема, связанная с сетью. В браузере эта ошибка также может быть вызвана нарушением <a href="https://developer.mozilla.org/ru/docs/Web/HTTP/Guides/CORS">CORS</a> или <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content">Mixed Content</a> политики. Браузер не позволяет JS-коду уточнить причину ошибки, связанной с проблемами безопасности, поэтому проверьте консоль. |
| ERR_FR_TOO_MANY_REDIRECTS | Запрос был переадресован слишком много раз; превышено максимальное количество редиректов, указанное в конфигурации axios.                                                                                                                                                                                                                                                                   |
| ERR_BAD_RESPONSE          | Ответ не может быть корректно разобран или находится в неожиданном формате. Обычно связано с ответом со статусом <code>5xx</code>.                                                                                                                                                                                                                                                                     |
| ERR_BAD_REQUEST           | Запрос имеет неожиданную структуру или отсутствуют необходимые параметры. Обычно связано с ответом со статусом <code>4xx</code>.                                                                                                                                                                                                                                |</p>
<h2>Обработка ошибок</h2>
<p>По умолчанию каждый ответ с кодом состояния вне диапазона 2xx отклоняется и обрабатывается как ошибка.</p>
<pre><code class="language-js">axios.get('/user/12345')
  .catch(function (error) {
    if (error.response) {
      // Запрос был выполнен, и сервер ответил с кодом состояния,
      // который выходит за пределы диапазона 2xx
      console.log(error.response.data);
      console.log(error.response.status);
      console.log(error.response.headers);
    } else if (error.request) {
      // Запрос был отправлен, но ответа не получено
      // `error.request` — это экземпляр XMLHttpRequest в браузере и экземпляр
      // http.ClientRequest в node.js
      console.log(error.request);
    } else {
      // Произошла ошибка при настройке запроса
      console.log('Error', error.message);
    }
    console.log(error.config);
  });
</code></pre>
<p>Используя опцию конфигурации <code>validateStatus</code>, вы можете переопределить стандартное условие (status &gt;= 200 &amp;&amp; status &lt; 300) и определить HTTP-коды, при которых будет выбрасываться ошибка.</p>
<pre><code class="language-js">axios.get('/user/12345', {
  validateStatus: function (status) {
    return status &lt; 500; // Резолвить только если код состояния меньше 500
  }
})
</code></pre>
<p>Используя <code>toJSON</code>, вы получите объект с дополнительной информацией об HTTP-ошибке.</p>
<pre><code class="language-js">axios.get('/user/12345')
  .catch(function (error) {
    console.log(error.toJSON());
</code></pre>
<pre><code class="language-markdown">  });
</code></pre>
<h2>Отмена</h2>
<h3>AbortController</h3>
<p>Начиная с версии <code>v0.22.0</code> Axios поддерживает AbortController для отмены запросов по принципу fetch API:</p>
<pre><code class="language-js">const controller = new AbortController();

axios.get('/foo/bar', {
   signal: controller.signal
}).then(function(response) {
   //...
});
// отменить запрос
controller.abort()
</code></pre>
<h3>CancelToken <code>👎устарело</code></h3>
<p>Вы также можете отменить запрос, используя <em>CancelToken</em>.</p>
<blockquote>
<p>API токена отмены в axios основан на отозванном <a href="https://github.com/tc39/proposal-cancelable-promises">предложении отменяемых промисов</a>.</p>
</blockquote>
<blockquote>
<p>Этот API устарел с версии v0.22.0 и не должен использоваться в новых проектах</p>
</blockquote>
<p>Вы можете создать токен отмены с помощью фабрики <code>CancelToken.source</code>, как показано ниже:</p>
<pre><code class="language-js">const CancelToken = axios.CancelToken;
const source = CancelToken.source();

axios.get('/user/12345', {
  cancelToken: source.token
}).catch(function (thrown) {
  if (axios.isCancel(thrown)) {
    console.log('Запрос отменён', thrown.message);
  } else {
    // обработка ошибки
  }
});

axios.post('/user/12345', {
  name: 'new name'
}, {
  cancelToken: source.token
})

// отменить запрос (параметр message не обязателен)
source.cancel('Операция отменена пользователем.');
</code></pre>
<p>Вы также можете создать токен отмены, передав функцию-исполнитель в конструктор <code>CancelToken</code>:</p>
<pre><code class="language-js">const CancelToken = axios.CancelToken;
let cancel;

axios.get('/user/12345', {
  cancelToken: new CancelToken(function executor(c) {
    // Функция-исполнитель получает функцию отмены в качестве параметра
    cancel = c;
  })
});

// отменить запрос
cancel();
</code></pre>
<blockquote>
<p><strong>Примечание:</strong> вы можете отменить несколько запросов с помощью одного токена отмены/abort controller.
Если токен отмены уже отменён на момент начала запроса Axios, то запрос отменяется немедленно, без каких-либо попыток выполнить реальный запрос.</p>
</blockquote>
<blockquote>
<p>В переходный период вы можете использовать оба API отмены, даже для одного и того же запроса:</p>
</blockquote>
<h2>Использование формата <code>application/x-www-form-urlencoded</code></h2>
<h3>URLSearchParams</h3>
<p>По умолчанию axios сериализует JavaScript-объекты в <code>JSON</code>. Чтобы отправить данные в формате <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST"><code>application/x-www-form-urlencoded</code></a>, вы можете использовать API <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>, которое <a href="http://www.caniuse.com/#feat=urlsearchparams">поддерживается</a> в большинстве браузеров и <a href="https://nodejs.org/api/url.html#url_class_urlsearchparams">Node</a>, начиная с версии v10 (выпущенной в 2018 году).</p>
<pre><code class="language-js">const params = new URLSearchParams({ foo: 'bar' });
params.append('extraparam', 'value');
axios.post('/foo', params);
</code></pre>
<h3>Query string (старые браузеры)</h3>
<p>Для совместимости с очень старыми браузерами доступен <a href="https://github.com/WebReflection/url-search-params">polyfill</a> (убедитесь, что вы добавили полифилл в глобальное окружение).</p>
<p>В качестве альтернативы вы можете кодировать данные с помощью библиотеки <a href="https://github.com/ljharb/qs"><code>qs</code></a>:</p>
<pre><code class="language-js">const qs = require('qs');
axios.post('/foo', qs.stringify({ 'bar': 123 }));
</code></pre>
<pre><code>Или другим способом (ES6),

```js
import qs from 'qs';
const data = { 'bar': 123 };
const options = {
  method: 'POST',
  headers: { 'content-type': 'application/x-www-form-urlencoded' },
  data: qs.stringify(data),
  url,
};
axios(options);
</code></pre>
<h3>Старые версии Node.js</h3>
<p>Для старых движков Node.js вы можете использовать модуль <a href="https://nodejs.org/api/querystring.html"><code>querystring</code></a> следующим образом:</p>
<pre><code class="language-js">const querystring = require('querystring');
axios.post('https://something.com/', querystring.stringify({ foo: 'bar' }));
</code></pre>
<p>Вы также можете использовать библиотеку <a href="https://github.com/ljharb/qs"><code>qs</code></a>.</p>
<blockquote>
<p><strong>Примечание</strong>: Библиотека <code>qs</code> предпочтительнее, если вам нужно сериализовать вложенные объекты, так как метод <code>querystring</code> имеет <a href="https://github.com/nodejs/node-v0.x-archive/issues/1665">известные проблемы</a> с этим случаем использования.</p>
</blockquote>
<h3>🆕 Автоматическая сериализация в URLSearchParams</h3>
<p>Axios автоматически сериализует объект data в urlencoded формат, если заголовок content-type установлен как &quot;application/x-www-form-urlencoded&quot;.</p>
<pre><code class="language-js">const data = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
};

await axios.postForm('https://postman-echo.com/post', data,
  {headers: {'content-type': 'application/x-www-form-urlencoded'}}
);
</code></pre>
<p>Сервер обработает это как:</p>
<pre><code class="language-js">  {
    x: '1',
    'arr[]': [ '1', '2', '3' ],
    'arr2[0]': '1',
    'arr2[1][0]': '2',
    'arr2[2]': '3',
    'arr3[]': [ '1', '2', '3' ],
    'users[0][name]': 'Peter',
    'users[0][surname]': 'griffin',
    'users[1][name]': 'Thomas',
    'users[1][surname]': 'Anderson'
  }
</code></pre>
<p>Если ваш backend body-parser (например, <code>body-parser</code> из <code>express.js</code>) поддерживает декодирование вложенных объектов, вы получите тот же объект на стороне сервера автоматически</p>
<pre><code class="language-js">  var app = express();

  app.use(bodyParser.urlencoded({ extended: true })); // поддержка кодированных тел

  app.post('/', function (req, res, next) {
     // выводим тело запроса как JSON
     res.send(JSON.stringify(req.body));
  });

  server = app.listen(3000);
</code></pre>
<h2>Использование формата <code>multipart/form-data</code></h2>
<h3>FormData</h3>
<p>Чтобы отправить данные как <code>multipart/formdata</code>, необходимо передать экземпляр formData в качестве полезной нагрузки.
Устанавливать заголовок <code>Content-Type</code> не требуется, так как Axios определяет его на основе типа payload.</p>
<pre><code class="language-js">const formData = new FormData();
formData.append('foo', 'bar');

axios.post('https://httpbin.org/post', formData);
</code></pre>
<p>В node.js вы можете использовать библиотеку <a href="https://github.com/form-data/form-data"><code>form-data</code></a> следующим образом:</p>
<pre><code class="language-js">const FormData = require('form-data');

const form = new FormData();
form.append('my_field', 'my value');
form.append('my_buffer', new Buffer(10));
form.append('my_file', fs.createReadStream('/foo/bar.jpg'));
</code></pre>
<p>axios.post('https://example.com', form)</p>
<pre><code>
### 🆕 Автоматическая сериализация в FormData

Начиная с версии `v0.27.0`, Axios поддерживает автоматическую сериализацию объекта в объект FormData, если заголовок запроса `Content-Type`
установлен в `multipart/form-data`.

Следующий запрос отправит данные в формате FormData (Browser &amp; Node.js):

```js
import axios from 'axios';

axios.post('https://httpbin.org/post', {x: 1}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) =&gt; console.log(data));
</code></pre>
<p>В сборке для <code>node.js</code> по умолчанию используется полифил (<a href="https://github.com/form-data/form-data"><code>form-data</code></a>).</p>
<p>Вы можете переопределить класс FormData, установив переменную конфигурации <code>env.FormData</code>,
но в большинстве случаев это, скорее всего, не потребуется:</p>
<pre><code class="language-js">const axios = require('axios');
var FormData = require('form-data');

axios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) =&gt; console.log(data));
</code></pre>
<p>Сериализатор Axios FormData поддерживает некоторые специальные окончания для выполнения следующих операций:</p>
<ul>
<li><code>{}</code> - сериализация значения с помощью JSON.stringify</li>
<li><code>[]</code> - разворачивание массивоподобного объекта как отдельных полей с одинаковым ключом</li>
</ul>
<blockquote>
<p><strong>Примечание</strong>: операция разворачивания/расширения будет использоваться по умолчанию для массивов и объектов FileList</p>
</blockquote>
<p>Сериализатор FormData поддерживает дополнительные опции через свойство <code>config.formSerializer: object</code> для обработки редких случаев:</p>
<ul>
<li><p><code>visitor: Function</code> — пользовательская функция-обходчик, которая будет рекурсивно вызвана для сериализации объекта данных
в объект <code>FormData</code> по индивидуальным правилам.</p>
</li>
<li><p><code>dots: boolean = false</code> — использовать точечную нотацию вместо скобок для сериализации массивов и объектов;</p>
</li>
<li><p><code>metaTokens: boolean = true</code> — добавлять специальное окончание (например, <code>user{}: '{&quot;name&quot;: &quot;John&quot;}'</code>) в ключ FormData.
Парсер тела на сервере может использовать эту метаинформацию для автоматического разбора значения как JSON.</p>
</li>
<li><p><code>indexes: null|false|true = false</code> — управляет тем, как индексы будут добавляться к развёрнутым ключам массивоподобных объектов.</p>
<ul>
<li><code>null</code> — не добавлять скобки (<code>arr: 1</code>, <code>arr: 2</code>, <code>arr: 3</code>)</li>
<li><code>false</code>(по умолчанию) — добавлять пустые скобки (<code>arr[]: 1</code>, <code>arr[]: 2</code>, <code>arr[]: 3</code>)</li>
<li><code>true</code> — добавлять скобки с индексами  (<code>arr[0]: 1</code>, <code>arr[1]: 2</code>, <code>arr[2]: 3</code>)</li>
</ul>
</li>
</ul>
<p>Допустим, у нас есть такой объект:</p>
<pre><code class="language-js">const obj = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
  'obj2{}': [{x:1}]
};
</code></pre>
<p>Следующие шаги будут выполнены сериализатором Axios внутренне:</p>
<pre><code class="language-js">const formData = new FormData();
formData.append('x', '1');
formData.append('arr[]', '1');
formData.append('arr[]', '2');
formData.append('arr[]', '3');
formData.append('arr2[0]', '1');
formData.append('arr2[1][0]', '2');
formData.append('arr2[2]', '3');
formData.append('users[0][name]', 'Peter');
formData.append('users[0][surname]', 'Griffin');
formData.append('users[1][name]', 'Thomas');
formData.append('users[1][surname]', 'Anderson');
formData.append('obj2{}', '[{&quot;x&quot;:1}]');
</code></pre>
<p>Axios поддерживает следующие сокращённые методы: <code>postForm</code>, <code>putForm</code>, <code>patchForm</code>,
которые представляют собой соответствующие http-методы с предустановленным заголовком <code>Content-Type: multipart/form-data</code>.</p>
<h2>Отправка файлов</h2>
<p>Вы можете легко отправить один файл:</p>
<pre><code class="language-js">await axios.postForm('https://httpbin.org/post', {
  'myVar' : 'foo',
  'file': document.querySelector('#fileInput').files[0]
});
</code></pre>
<p>или несколько файлов как <code>multipart/form-data</code>:</p>
<pre><code class="language-js">await axios.postForm('https://httpbin.org/post', {
  'files[]': document.querySelector('#fileInput').files
});
</code></pre>
<p>Объект <code>FileList</code> можно передать напрямую:</p>
<pre><code class="language-js">await axios.postForm('https://httpbin.org/post', document.querySelector('#fileInput').files)
</code></pre>
<p>Все файлы будут отправлены с одинаковыми именами полей: <code>files[]</code>.</p>
<h2>🆕 Отправка HTML-формы (в браузере)</h2>
<p>Передайте элемент HTML-формы в качестве полезной нагрузки, чтобы отправить его как содержимое <code>multipart/form-data</code>.</p>
<pre><code class="language-js">await axios.postForm('https://httpbin.org/post', document.querySelector('#htmlForm'));
</code></pre>
<p>Объекты <code>FormData</code> и <code>HTMLForm</code> также могут быть отправлены как <code>JSON</code>, если явно указать заголовок <code>Content-Type</code> со значением <code>application/json</code>:</p>
<pre><code class="language-js">await axios.post('https://httpbin.org/post', document.querySelector('#htmlForm'), {
  headers: {
    'Content-Type': 'application/json'
  }
})
</code></pre>
<p>Например, форма</p>
<pre><code class="language-html">&lt;form id=&quot;form&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;1&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;deep.prop&quot; value=&quot;2&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;deep prop spaced&quot; value=&quot;3&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;baz&quot; value=&quot;4&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;baz&quot; value=&quot;5&quot;&gt;

  &lt;select name=&quot;user.age&quot;&gt;
    &lt;option value=&quot;value1&quot;&gt;Value 1&lt;/option&gt;
    &lt;option value=&quot;value2&quot; selected&gt;Value 2&lt;/option&gt;
    &lt;option value=&quot;value3&quot;&gt;Value 3&lt;/option&gt;
  &lt;/select&gt;

  &lt;input type=&quot;submit&quot; value=&quot;Сохранить&quot;&gt;
&lt;/form&gt;
</code></pre>
<p>будет отправлена как следующий JSON-объект:</p>
<pre><code class="language-js">{
  &quot;foo&quot;: &quot;1&quot;,
  &quot;deep&quot;: {
    &quot;prop&quot;: {
      &quot;spaced&quot;: &quot;3&quot;
    }
  },
  &quot;baz&quot;: [
    &quot;4&quot;,
    &quot;5&quot;
  ],
  &quot;user&quot;: {
    &quot;age&quot;: &quot;value2&quot;
  }
}
</code></pre>
<p>Отправка <code>Blobs</code>/<code>Files</code> как JSON (<code>base64</code>) в настоящее время не поддерживается.</p>
<h2>🆕 Отслеживание прогресса</h2>
<p>Axios поддерживает как браузерную, так и node-среду для отслеживания прогресса загрузки/выгрузки запросов.
Частота событий о прогрессе принудительно ограничена до <code>3</code> раз в секунду.</p>
<pre><code class="language-js">await axios.post(url, data, {
  onUploadProgress: function (axiosProgressEvent) {
    /*{
      loaded: number;
      total?: number;
      progress?: number; // в диапазоне [0..1]
      bytes: number; // сколько байт было передано с момента последнего вызова (дельта)
      estimated?: number; // оценочное время в секундах
      rate?: number; // скорость загрузки в байтах
      upload: true; // признак загрузки
    }*/
  },

  onDownloadProgress: function (axiosProgressEvent) {
    /*{
      loaded: number;
      total?: number;
      progress?: number;
      bytes: number; 
      estimated?: number;
      rate?: number; // скорость загрузки в байтах
      download: true; // признак загрузки
    }*/
  }
});  
</code></pre>
<p>Вы также можете отслеживать прогресс загрузки/выгрузки потока в node.js:</p>
<pre><code class="language-js">const {data} = await axios.post(SERVER_URL, readableStream, {
   onUploadProgress: ({progress}) =&gt; {
     console.log((progress * 100).toFixed(2));
   },
  
   headers: {
    'Content-Length': contentLength
   },

   maxRedirects: 0 // чтобы избежать буферизации всего потока
});
</code></pre>
<blockquote>
<p><strong>Примечание:</strong>
Отслеживание прогресса загрузки FormData в настоящее время не поддерживается в средах node.js.</p>
</blockquote>
<blockquote>
<p><strong>⚠️ Предупреждение</strong>
Рекомендуется отключить редиректы, установив maxRedirects: 0 для загрузки потока в <strong>node.js</strong>,
так как пакет follow-redirects будет буферизовать весь поток в оперативной памяти без соблюдения алгоритма &quot;backpressure&quot;.</p>
</blockquote>
<h2>🆕 Ограничение скорости</h2>
<p>Ограничения скорости загрузки и выгрузки можно устанавливать только для http-адаптера (node.js):</p>
<pre><code class="language-js">const {data} = await axios.post(LOCAL_SERVER_URL, myBuffer, {
  onUploadProgress: ({progress, rate}) =&gt; {
    console.log(`Upload [${(progress*100).toFixed(2)}%]: ${(rate / 1024).toFixed(2)}KB/s`)
  },
   
  maxRate: [100 * 1024], // лимит 100KB/s
});
</code></pre>
<h2>🆕 AxiosHeaders</h2>
<p>Axios имеет собственный класс <code>AxiosHeaders</code> для управления заголовками с помощью API, похожего на Map, что гарантирует работу без учёта регистра.
Хотя HTTP не чувствителен к регистру в заголовках, Axios сохраняет регистр оригинального заголовка из соображений стиля
и для обхода ошибок, когда серверы ошибочно учитывают регистр заголовка.
Старый способ прямого изменения объекта headers всё ещё доступен, но устарел и не рекомендуется для дальнейшего использования.</p>
<h3>Работа с заголовками</h3>
<p>Экземпляр объекта AxiosHeaders может содержать различные типы внутренних значений, которые управляют логикой установки и слияния.
Окончательный объект заголовков со строковыми значениями формируется Axios при вызове метода <code>toJSON</code>.</p>
<blockquote>
<p>Примечание: Под JSON здесь понимается объект, состоящий только из строковых значений, предназначенных для передачи по сети.</p>
</blockquote>
<p>Значение заголовка может быть одним из следующих типов:</p>
<ul>
<li><code>string</code> — обычное строковое значение, которое будет отправлено на сервер</li>
<li><code>null</code> — пропустить заголовок при преобразовании в JSON</li>
<li><code>false</code> — пропустить заголовок при преобразовании в JSON, дополнительно указывает, что метод <code>set</code> должен быть вызван с опцией <code>rewrite: true</code>
для перезаписи этого значения (Axios использует это внутренне, чтобы позволить пользователям отказаться от установки определённых заголовков, таких как <code>User-Agent</code> или <code>Content-Type</code>)</li>
<li><code>undefined</code> — значение не установлено</li>
</ul>
<blockquote>
<p>Примечание: Значение заголовка считается установленным, если оно не равно undefined.</p>
</blockquote>
<p>Объект headers всегда инициализируется внутри перехватчиков (interceptors) и трансформеров:</p>
<pre><code class="language-ts">  axios.interceptors.request.use((request: InternalAxiosRequestConfig) =&gt; {
      request.headers.set('My-header', 'value');

      request.headers.set({
        &quot;My-set-header1&quot;: &quot;my-set-value1&quot;,
        &quot;My-set-header2&quot;: &quot;my-set-value2&quot;
      });
      
      request.headers.set('User-Agent', false); // отключить последующую установку этого заголовка в Axios

      request.headers.setContentType('text/plain');
    
      request.headers['My-set-header2'] = 'newValue' // прямой доступ устарел
    
      return request;
    }
  );
</code></pre>
<p>Вы можете итерировать экземпляр <code>AxiosHeaders</code> с помощью оператора <code>for...of</code>:</p>
<pre><code class="language-js">const headers = new AxiosHeaders({
  foo: '1',
</code></pre>
<p>bar: '2',
baz: '3'
});</p>
<p>for(const [header, value] of headers) {
console.log(header, value);
}</p>
<p>// foo 1
// bar 2
// baz 3</p>
<pre><code>
### new AxiosHeaders(headers?)

Создаёт новый экземпляр `AxiosHeaders`.

```
constructor(headers?: RawAxiosHeaders | AxiosHeaders | string);
```

Если объект заголовков передан как строка, он будет разобран как RAW HTTP заголовки.

````js
const headers = new AxiosHeaders(`
Host: www.bing.com
User-Agent: curl/7.54.0
Accept: */*`);

console.log(headers);

// Object [AxiosHeaders] {
//   host: 'www.bing.com',
//   'user-agent': 'curl/7.54.0',
//   accept: '*/*'
// }
</code></pre>
<h3>AxiosHeaders#set</h3>
<pre><code class="language-ts">set(headerName, value: Axios, rewrite?: boolean);
set(headerName, value, rewrite?: (this: AxiosHeaders, value: string, name: string, headers: RawAxiosHeaders) =&gt; boolean);
set(headers?: RawAxiosHeaders | AxiosHeaders | string, rewrite?: boolean);
</code></pre>
<p>Аргумент <code>rewrite</code> управляет поведением перезаписи:</p>
<ul>
<li><code>false</code> — не перезаписывать, если значение заголовка уже установлено (не <code>undefined</code>)</li>
<li><code>undefined</code> (по умолчанию) — перезаписать заголовок, если его значение не установлено как <code>false</code></li>
<li><code>true</code> — перезаписать в любом случае</li>
</ul>
<p>Опция также может принимать пользовательскую функцию, определяющую, следует ли перезаписывать значение.</p>
<p>Возвращает <code>this</code>.</p>
<h3>AxiosHeaders#get(header)</h3>
<pre><code>  get(headerName: string, matcher?: true | AxiosHeaderMatcher): AxiosHeaderValue;
  get(headerName: string, parser: RegExp): RegExpExecArray | null;
</code></pre>
<p>Возвращает внутреннее значение заголовка. Может принимать дополнительный аргумент для разбора значения заголовка с помощью <code>RegExp.exec</code>,
функции-сопоставителя или внутреннего парсера ключ-значение.</p>
<pre><code class="language-ts">const headers = new AxiosHeaders({
  'Content-Type': 'multipart/form-data; boundary=Asrf456BGe4h'
});

console.log(headers.get('Content-Type')); 
// multipart/form-data; boundary=Asrf456BGe4h

console.log(headers.get('Content-Type', true)); // разбирает пары ключ-значение из строки, разделённой символами \s,;= :
// [Object: null prototype] {
//   'multipart/form-data': undefined,
//    boundary: 'Asrf456BGe4h'
// }


console.log(headers.get('Content-Type', (value, name, headers) =&gt; {
  return String(value).replace(/a/g, 'ZZZ');
}));
// multipZZZrt/form-dZZZtZZZ; boundZZZry=Asrf456BGe4h

console.log(headers.get('Content-Type', /boundary=(\w+)/)?.[0]);
// boundary=Asrf456BGe4h

</code></pre>
<p>Возвращает значение заголовка.</p>
<h3>AxiosHeaders#has(header, matcher?)</h3>
<pre><code>has(header: string, matcher?: AxiosHeaderMatcher): boolean;
</code></pre>
<p>Возвращает <code>true</code>, если заголовок установлен (значение не <code>undefined</code>).</p>
<pre><code>### AxiosHeaders#delete(header, matcher?)

```
delete(header: string | string[], matcher?: AxiosHeaderMatcher): boolean;
```

Возвращает `true`, если хотя бы один заголовок был удалён.

### AxiosHeaders#clear(matcher?)

```
clear(matcher?: AxiosHeaderMatcher): boolean;
```

Удаляет все заголовки.  
В отличие от метода `delete`, этот необязательный matcher будет использоваться для сопоставления с именем заголовка, а не со значением.

```ts
const headers = new AxiosHeaders({
  'foo': '1',
  'x-foo': '2',
  'x-bar': '3',
});

console.log(headers.clear(/^x-/)); // true

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1' }
```

Возвращает `true`, если хотя бы один заголовок был удалён.

### AxiosHeaders#normalize(format);

Если объект заголовков был изменён напрямую, он может содержать дубликаты с одинаковыми именами, но в разном регистре.
Этот метод нормализует объект заголовков, объединяя дублирующиеся ключи в один.
Axios использует этот метод внутренне после вызова каждого перехватчика.
Установите `format` в true для преобразования имени заголовка в нижний регистр и капитализации начальных букв (`cOntEnt-type` =&gt; `Content-Type`)

```js
const headers = new AxiosHeaders({
  'foo': '1',
});

headers.Foo = '2';
headers.FOO = '3';

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1', Foo: '2', FOO: '3' }
console.log(headers.normalize().toJSON()); // [Object: null prototype] { foo: '3' }
console.log(headers.normalize(true).toJSON()); // [Object: null prototype] { Foo: '3' }
```

Возвращает `this`.

### AxiosHeaders#concat(...targets)

```
concat(...targets: Array&lt;AxiosHeaders | RawAxiosHeaders | string | undefined | null&gt;): AxiosHeaders;
```

Объединяет экземпляр с целями в новый экземпляр `AxiosHeaders`. Если цель — это строка, она будет разобрана как RAW HTTP заголовки.

Возвращает новый экземпляр `AxiosHeaders`.

### AxiosHeaders#toJSON(asStrings?)

</code></pre>
<p>toJSON(asStrings?: boolean): RawAxiosHeaders;</p>
<pre><code>
Разрешает все внутренние значения заголовков в новый объект с null-прототипом.  
Установите `asStrings` в true, чтобы разрешить массивы как строку, содержащую все элементы, разделённые запятыми.

### AxiosHeaders.from(thing?)

</code></pre>
<p>from(thing?: AxiosHeaders | RawAxiosHeaders | string): AxiosHeaders;</p>
<pre><code>
Возвращает новый экземпляр `AxiosHeaders`, созданный из переданных raw-заголовков,  
или просто возвращает переданный объект заголовков, если это экземпляр `AxiosHeaders`.

### AxiosHeaders.concat(...targets)

</code></pre>
<p>concat(...targets: Array&lt;AxiosHeaders | RawAxiosHeaders | string | undefined | null&gt;): AxiosHeaders;</p>
<pre><code>
Возвращает новый экземпляр `AxiosHeaders`, созданный путём объединения целевых объектов.

### Ярлыки

Доступны следующие ярлыки (шорткаты):

- `setContentType`, `getContentType`, `hasContentType`

- `setContentLength`, `getContentLength`, `hasContentLength`

- `setAccept`, `getAccept`, `hasAccept`

- `setUserAgent`, `getUserAgent`, `hasUserAgent`
- `setContentEncoding`, `getContentEncoding`, `hasContentEncoding`

## 🔥 Адаптер Fetch

Адаптер Fetch был введён в версии `v1.7.0`. По умолчанию он будет использоваться, если адаптеры `xhr` и `http` недоступны в сборке
или не поддерживаются окружением.
Чтобы использовать его по умолчанию, его необходимо выбрать явно:

```js
const {data} = axios.get(url, {
  adapter: 'fetch' // по умолчанию ['xhr', 'http', 'fetch']
})
```

Вы можете создать отдельный экземпляр для этого:

```js
const fetchAxios = axios.create({
  adapter: 'fetch'
});

const {data} = fetchAxios.get(url);
```

Адаптер поддерживает тот же функционал, что и адаптер `xhr`, **включая отслеживание прогресса загрузки и скачивания**.
Также поддерживаются дополнительные типы ответов, такие как `stream` и `formdata` (если поддерживаются окружением).

## Semver

Пока axios не достигнет релиза `1.0`, изменения, нарушающие обратную совместимость, будут выпускаться с новой минорной версией. Например, `0.5.1` и `0.5.4` будут иметь один и тот же API, но `0.6.0` уже будет содержать изменения, нарушающие совместимость.

## Промисы

axios зависит от нативной реализации ES6 Promise, чтобы быть [поддерживаемым](https://caniuse.com/promises).
Если ваше окружение не поддерживает ES6 Promises, вы можете использовать [polyfill](https://github.com/jakearchibald/es6-promise).

## TypeScript

axios включает определения типов для [TypeScript](https://typescriptlang.org) и type guard для ошибок axios.

```typescript
let user: User = null;
try {
  const { data } = await axios.get('/user?ID=12345');
  user = data.userDetails;
} catch (error) {
  if (axios.isAxiosError(error)) {
    handleAxiosError(error);
  } else {
    handleUnexpectedError(error);
  }
}
```

Поскольку axios публикуется одновременно с ESM default export и CJS `module.exports`, есть некоторые нюансы.
Рекомендуемая настройка — использовать `&quot;moduleResolution&quot;: &quot;node16&quot;` (это подразумевается при `&quot;module&quot;: &quot;node16&quot;`). Обратите внимание, что для этого требуется TypeScript версии 4.7 или выше.
Если вы используете ESM, ваши настройки подходят.
Если вы компилируете TypeScript в CJS и не можете использовать `&quot;moduleResolution&quot;: &quot;node16&quot;`, необходимо включить `esModuleInterop`.
Если вы используете TypeScript для проверки типов CJS JavaScript-кода, единственный вариант — использовать `&quot;moduleResolution&quot;: &quot;node16&quot;`.

## Онлайн настройка в один клик

Вы можете использовать Gitpod, онлайн IDE (бесплатно для Open Source), чтобы вносить вклад или запускать примеры онлайн.

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/axios/axios/blob/main/examples/server.js)


## Ресурсы

* [Changelog](https://github.com/axios/axios/blob/v1.x/CHANGELOG.md)
* [Ecosystem](https://github.com/axios/axios/blob/v1.x/ECOSYSTEM.md)
* [Contributing Guide](https://github.com/axios/axios/blob/v1.x/CONTRIBUTING.md)
* [Code of Conduct](https://github.com/axios/axios/blob/v1.x/CODE_OF_CONDUCT.md)

## Благодарности

axios сильно вдохновлён [$http сервисом](https://docs.angularjs.org/api/ng/service/$http), предоставляемым в [AngularJS](https://angularjs.org/). В конечном итоге axios — это попытка предоставить самостоятельный сервис, похожий на `$http`, для использования вне AngularJS.

## Лицензия

[MIT](LICENSE)



---


Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-30


---
</code></pre>

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>