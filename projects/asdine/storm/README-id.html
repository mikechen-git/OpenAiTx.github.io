<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storm - asdine/storm</title>
    <meta name="title" content="storm - asdine/storm">
    <meta name="description" content="asdine/storm - GitHub repository id documentation and informationStorm Storm adalah toolkit sederhana dan kuat untuk BoltDB. Pada dasarnya, Storm menyediakan indeks, berbagai metode untuk menyimpan dan mengambil data, sistem ...">
    <meta name="keywords" content="asdine, storm, GitHub, repository, id documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/asdine/storm/README-id.html">
    <meta property="og:title" content="storm - asdine/storm">
    <meta property="og:description" content="asdine/storm - GitHub repository id documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/asdine/storm" id="githubRepoLink" target="_blank">asdine/storm</a>
<h1 style="display: none;">Storm Storm adalah toolkit sederhana dan kuat untuk BoltDB. Pada dasarnya, Storm menyediakan indeks, berbagai metode untuk menyimpan dan mengambil data, sistem ...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>Storm</h1>
<p><a href="https://travis-ci.org/asdine/storm"><img src="https://travis-ci.org/asdine/storm.svg" alt="Build Status" /></a>
<a href="https://godoc.org/github.com/asdine/storm"><img src="https://godoc.org/github.com/asdine/storm?status.svg" alt="GoDoc" /></a></p>
<p>Storm adalah toolkit sederhana dan kuat untuk <a href="https://github.com/coreos/bbolt">BoltDB</a>. Pada dasarnya, Storm menyediakan indeks, berbagai metode untuk menyimpan dan mengambil data, sistem query yang canggih, dan masih banyak lagi.</p>
<p>Selain contoh di bawah, lihat juga <a href="https://godoc.org/github.com/asdine/storm#pkg-examples">contoh di GoDoc</a>.</p>
<p><em>Untuk query yang diperluas dan dukungan untuk <a href="https://github.com/dgraph-io/badger">Badger</a>, lihat juga <a href="https://github.com/asdine/genji">Genji</a></em></p>
<h2>Daftar Isi</h2>
<ul>
<li><a href="#getting-started">Memulai</a></li>
<li><a href="#import-storm">Impor Storm</a></li>
<li><a href="#open-a-database">Membuka database</a></li>
<li><a href="#simple-crud-system">Sistem CRUD sederhana</a>
<ul>
<li><a href="#declare-your-structures">Deklarasi struktur Anda</a></li>
<li><a href="#save-your-object">Simpan objek Anda</a>
<ul>
<li><a href="#auto-increment">Auto Increment</a></li>
</ul>
</li>
<li><a href="#simple-queries">Query sederhana</a>
<ul>
<li><a href="#fetch-one-object">Ambil satu objek</a></li>
<li><a href="#fetch-multiple-objects">Ambil beberapa objek</a></li>
<li><a href="#fetch-all-objects">Ambil semua objek</a></li>
<li><a href="#fetch-all-objects-sorted-by-index">Ambil semua objek yang diurutkan berdasarkan indeks</a></li>
<li><a href="#fetch-a-range-of-objects">Ambil rentang objek</a></li>
<li><a href="#fetch-objects-by-prefix">Ambil objek berdasarkan prefix</a></li>
<li><a href="#skip-limit-and-reverse">Skip, Limit dan Reverse</a></li>
<li><a href="#delete-an-object">Hapus sebuah objek</a></li>
<li><a href="#update-an-object">Perbarui sebuah objek</a></li>
<li><a href="#initialize-buckets-and-indexes-before-saving-an-object">Inisialisasi bucket dan indeks sebelum menyimpan objek</a></li>
<li><a href="#drop-a-bucket">Drop sebuah bucket</a></li>
<li><a href="#re-index-a-bucket">Re-index sebuah bucket</a></li>
</ul>
</li>
<li><a href="#advanced-queries">Query lanjutan</a></li>
<li><a href="#transactions">Transaksi</a></li>
<li><a href="#options">Opsi</a>
<ul>
<li><a href="#boltoptions">BoltOptions</a></li>
<li><a href="#marshalunmarshaler">MarshalUnmarshaler</a>
<ul>
<li><a href="#provided-codecs">Codec yang disediakan</a></li>
</ul>
</li>
<li><a href="#use-existing-bolt-connection">Gunakan koneksi Bolt yang sudah ada</a></li>
<li><a href="#batch-mode">Mode batch</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#nodes-and-nested-buckets">Node dan nested bucket</a>
<ul>
<li><a href="#node-options">Opsi Node</a></li>
</ul>
</li>
<li><a href="#simple-keyvalue-store">Penyimpanan Key/Value sederhana</a></li>
<li><a href="#boltdb">BoltDB</a></li>
<li><a href="#license">Lisensi</a></li>
<li><a href="#credits">Kredit</a></li>
</ul>
<h2>Memulai</h2>
<pre><code class="language-bash">GO111MODULE=on go get -u github.com/asdine/storm/v3
</code></pre>
<h2>Impor Storm</h2>
<pre><code class="language-go">import &quot;github.com/asdine/storm/v3&quot;
</code></pre>
<h2>Membuka database</h2>
<p>Cara cepat untuk membuka database</p>
<pre><code class="language-go">db, err := storm.Open(&quot;my.db&quot;)

defer db.Close()
</code></pre>
<p><code>Open</code> dapat menerima beberapa opsi untuk menyesuaikan perilakunya. Lihat <a href="#options">Opsi</a> di bawah</p>
<h2>Sistem CRUD sederhana</h2>
<h3>Deklarasi struktur Anda</h3>
<pre><code class="language-go">type User struct {
  ID int // primary key
  Group string `storm:&quot;index&quot;` // field ini akan diindeks
  Email string `storm:&quot;unique&quot;` // field ini akan diindeks dengan constraint unik
  Name string // field ini tidak akan diindeks
  Age int `storm:&quot;index&quot;`
}
</code></pre>
<p>Primary key dapat berupa tipe apapun selama nilainya bukan nol. Storm akan mencari tag <code>id</code>, jika tidak ada Storm akan mencari field bernama <code>ID</code>.</p>
<pre><code class="language-go">type User struct {
  ThePrimaryKey string `storm:&quot;id&quot;`// primary key
  Group string `storm:&quot;index&quot;` // field ini akan diindeks
  Email string `storm:&quot;unique&quot;` // field ini akan diindeks dengan constraint unik
  Name string // field ini tidak akan diindeks
}
</code></pre>
<p>Storm menangani tag pada struktur bertingkat dengan tag <code>inline</code></p>
<pre><code class="language-go">type Base struct {
  Ident bson.ObjectId `storm:&quot;id&quot;`
}

type User struct {
  Base      `storm:&quot;inline&quot;`
  Group     string `storm:&quot;index&quot;`
  Email     string `storm:&quot;unique&quot;`
  Name      string
  CreatedAt time.Time `storm:&quot;index&quot;`
}
</code></pre>
<h3>Simpan objek Anda</h3>
<pre><code class="language-go">user := User{
  ID: 10,
  Group: &quot;staff&quot;,
  Email: &quot;john@provider.com&quot;,
  Name: &quot;John&quot;,
  Age: 21,
  CreatedAt: time.Now(),
}

err := db.Save(&amp;user)
// err == nil

user.ID++
err = db.Save(&amp;user)
// err == storm.ErrAlreadyExists
</code></pre>
<p>Itu saja.</p>
<p><code>Save</code> akan membuat atau memperbarui semua indeks dan bucket yang dibutuhkan, memeriksa constraint unik dan menyimpan objek ke dalam penyimpanan.</p>
<h4>Auto Increment</h4>
<p>Storm dapat melakukan auto increment pada nilai integer sehingga Anda tidak perlu khawatir tentang hal itu saat menyimpan objek Anda. Selain itu, nilai baru secara otomatis dimasukkan ke dalam field Anda.</p>
<pre><code class="language-go">
type Product struct {
  Pk                  int `storm:&quot;id,increment&quot;` // primary key dengan auto increment
  Name                string
  IntegerField        uint64 `storm:&quot;increment&quot;`
  IndexedIntegerField uint32 `storm:&quot;index,increment&quot;`
  UniqueIntegerField  int16  `storm:&quot;unique,increment=100&quot;` // nilai awal dapat diatur
}

p := Product{Name: &quot;Vaccum Cleaner&quot;}

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 0
// 0
// 0
// 0

_ = db.Save(&amp;p)

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 1
// 1
// 1
// 100

</code></pre>
<h3>Query sederhana</h3>
<p>Objek apapun dapat diambil, terindeks atau tidak. Storm akan menggunakan indeks jika tersedia, jika tidak maka akan menggunakan <a href="#advanced-queries">sistem query</a>.</p>
<h4>Ambil satu objek</h4>
<pre><code class="language-go">var user User
err := db.One(&quot;Email&quot;, &quot;john@provider.com&quot;, &amp;user)
// err == nil

err = db.One(&quot;Name&quot;, &quot;John&quot;, &amp;user)
// err == nil

err = db.One(&quot;Name&quot;, &quot;Jack&quot;, &amp;user)
// err == storm.ErrNotFound
</code></pre>
<h4>Ambil beberapa objek</h4>
<pre><code class="language-go">var users []User
err := db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users)
</code></pre>
<h4>Mengambil semua objek</h4>
<pre><code class="language-go">var users []User
err := db.All(&amp;users)
</code></pre>
<h4>Mengambil semua objek diurutkan berdasarkan indeks</h4>
<pre><code class="language-go">var users []User
err := db.AllByIndex(&quot;CreatedAt&quot;, &amp;users)
</code></pre>
<h4>Mengambil rentang objek</h4>
<pre><code class="language-go">var users []User
err := db.Range(&quot;Age&quot;, 10, 21, &amp;users)
</code></pre>
<h4>Mengambil objek berdasarkan awalan</h4>
<pre><code class="language-go">var users []User
err := db.Prefix(&quot;Name&quot;, &quot;Jo&quot;, &amp;users)
</code></pre>
<h4>Skip, Limit dan Reverse</h4>
<pre><code class="language-go">var users []User
err := db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Skip(10))
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Limit(10))
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Reverse())
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())

err = db.All(&amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.AllByIndex(&quot;CreatedAt&quot;, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.Range(&quot;Age&quot;, 10, 21, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
</code></pre>
<h4>Menghapus sebuah objek</h4>
<pre><code class="language-go">err := db.DeleteStruct(&amp;user)
</code></pre>
<h4>Memperbarui sebuah objek</h4>
<pre><code class="language-go">// Memperbarui beberapa field
// Hanya bekerja untuk field dengan nilai non-nol (misal: Name tidak boleh &quot;&quot;, Age tidak boleh 0)
err := db.Update(&amp;User{ID: 10, Name: &quot;Jack&quot;, Age: 45})

// Memperbarui satu field
// Juga bekerja untuk field bernilai nol (0, false, &quot;&quot;, ...)
err := db.UpdateField(&amp;User{ID: 10}, &quot;Age&quot;, 0)
</code></pre>
<h4>Inisialisasi bucket dan indeks sebelum menyimpan objek</h4>
<pre><code class="language-go">err := db.Init(&amp;User{})
</code></pre>
<p>Berguna saat memulai aplikasi Anda</p>
<h4>Menghapus sebuah bucket</h4>
<p>Menggunakan struct</p>
<pre><code class="language-go">err := db.Drop(&amp;User)
</code></pre>
<p>Menggunakan nama bucket</p>
<pre><code class="language-go">err := db.Drop(&quot;User&quot;)
</code></pre>
<h4>Re-indeks sebuah bucket</h4>
<pre><code class="language-go">err := db.ReIndex(&amp;User{})
</code></pre>
<p>Berguna ketika struktur telah berubah</p>
<h3>Query tingkat lanjut</h3>
<p>Untuk query yang lebih kompleks, Anda dapat menggunakan metode <code>Select</code>.
<code>Select</code> menerima sejumlah <a href="https://godoc.org/github.com/asdine/storm/q#Matcher"><code>Matcher</code></a> dari paket <a href="https://godoc.org/github.com/asdine/storm/q"><code>q</code></a>.</p>
<p>Berikut adalah beberapa Matcher yang umum:</p>
<pre><code class="language-go">// Persamaan
q.Eq(&quot;Name&quot;, John)

// Lebih besar secara ketat
q.Gt(&quot;Age&quot;, 7)

// Kurang dari atau sama dengan
q.Lte(&quot;Age&quot;, 77)

// Regex dengan nama yang diawali huruf D
q.Re(&quot;Name&quot;, &quot;^D&quot;)

// Dalam daftar nilai tertentu
q.In(&quot;Group&quot;, []string{&quot;Staff&quot;, &quot;Admin&quot;})

// Membandingkan field
q.EqF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.LtF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.GtF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.LteF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.GteF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
</code></pre>
<p>Matcher juga dapat dikombinasikan dengan <code>And</code>, <code>Or</code> dan <code>Not</code>:</p>
<pre><code class="language-go">
// Cocok jika semua terpenuhi
q.And(
  q.Gt(&quot;Age&quot;, 7),
  q.Re(&quot;Name&quot;, &quot;^D&quot;)
)

// Cocok jika salah satu terpenuhi
q.Or(
  q.Re(&quot;Name&quot;, &quot;^A&quot;),
  q.Not(
    q.Re(&quot;Name&quot;, &quot;^B&quot;)
  ),
  q.Re(&quot;Name&quot;, &quot;^C&quot;),
  q.In(&quot;Group&quot;, []string{&quot;Staff&quot;, &quot;Admin&quot;}),
  q.And(
    q.StrictEq(&quot;Password&quot;, []byte(password)),
    q.Eq(&quot;Registered&quot;, true)
  )
)
</code></pre>
<p>Anda dapat menemukan daftar lengkapnya di <a href="https://godoc.org/github.com/asdine/storm/q#Matcher">dokumentasi</a>.</p>
<p><code>Select</code> menerima sejumlah matcher dan membungkusnya dalam <code>q.And()</code> sehingga tidak perlu menyebutkannya secara eksplisit. Fungsi ini mengembalikan tipe <a href="https://godoc.org/github.com/asdine/storm#Query"><code>Query</code></a>.</p>
<pre><code class="language-go">query := db.Select(q.Gte(&quot;Age&quot;, 7), q.Lte(&quot;Age&quot;, 77))
</code></pre>
<p>Tipe <code>Query</code> memiliki metode untuk memfilter dan mengurutkan record.</p>
<pre><code class="language-go">// Limit
query = query.Limit(10)

// Skip
query = query.Skip(20)

// Pemanggilan juga dapat dirangkai
query = query.Limit(10).Skip(20).OrderBy(&quot;Age&quot;).Reverse()
</code></pre>
<p>Juga untuk menentukan bagaimana data diambil.</p>
<pre><code class="language-go">var users []User
err = query.Find(&amp;users)

var user User
err = query.First(&amp;user)
</code></pre>
<p>Contoh dengan <code>Select</code>:</p>
<pre><code class="language-go">// Temukan semua user dengan ID antara 10 dan 100
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Find(&amp;users)

// Matcher bersarang
err = db.Select(q.Or(
  q.Gt(&quot;ID&quot;, 50),
  q.Lt(&quot;Age&quot;, 21),
  q.And(
    q.Eq(&quot;Group&quot;, &quot;admin&quot;),
    q.Gte(&quot;Age&quot;, 21),
  ),
)).Find(&amp;users)

query := db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;)

// Menemukan banyak record
err = query.Find(&amp;users)
// atau
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;).Find(&amp;users)
</code></pre>
<pre><code class="language-go">// Temukan record pertama
err = query.First(&amp;user)
// atau
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;).First(&amp;user)

// Hapus semua record yang cocok
err = query.Delete(new(User))

// Mengambil record satu per satu (berguna ketika bucket berisi banyak record)
query = db.Select(q.Gte(&quot;ID&quot;, 10),q.Lte(&quot;ID&quot;, 100)).OrderBy(&quot;Age&quot;, &quot;Name&quot;)

err = query.Each(new(User), func(record interface{}) error) {
  u := record.(*User)
  ...
  return nil
}
</code></pre>
<p>Lihat <a href="https://godoc.org/github.com/asdine/storm#Query">dokumentasi</a> untuk daftar lengkap metode.</p>
<h3>Transaksi</h3>
<pre><code class="language-go">tx, err := db.Begin(true)
if err != nil {
  return err
}
defer tx.Rollback()

accountA.Amount -= 100
accountB.Amount += 100

err = tx.Save(accountA)
if err != nil {
  return err
}

err = tx.Save(accountB)
if err != nil {
  return err
}

return tx.Commit()
</code></pre>
<h3>Opsi</h3>
<p>Opsi Storm adalah fungsi yang dapat diberikan saat membuat instance Storm Anda. Anda dapat memberikan sejumlah opsi.</p>
<h4>BoltOptions</h4>
<p>Secara default, Storm membuka database dengan mode <code>0600</code> dan timeout satu detik.
Anda dapat mengubah perilaku ini dengan menggunakan <code>BoltOptions</code></p>
<pre><code class="language-go">db, err := storm.Open(&quot;my.db&quot;, storm.BoltOptions(0600, &amp;bolt.Options{Timeout: 1 * time.Second}))
</code></pre>
<h4>MarshalUnmarshaler</h4>
<p>Untuk menyimpan data di BoltDB, Storm melakukan marshal dalam format JSON secara default. Jika Anda ingin mengubah perilaku ini Anda dapat memberikan codec yang mengimplementasikan <a href="https://godoc.org/github.com/asdine/storm/codec#MarshalUnmarshaler"><code>codec.MarshalUnmarshaler</code></a> melalui opsi <a href="https://godoc.org/github.com/asdine/storm#Codec"><code>storm.Codec</code></a>:</p>
<pre><code class="language-go">db := storm.Open(&quot;my.db&quot;, storm.Codec(myCodec))
</code></pre>
<h5>Codec yang Disediakan</h5>
<p>Anda dapat dengan mudah mengimplementasikan <code>MarshalUnmarshaler</code> sendiri, tetapi Storm sudah mendukung <a href="https://godoc.org/github.com/asdine/storm/codec/json">JSON</a> (default), <a href="https://godoc.org/github.com/asdine/storm/codec/gob">GOB</a>,  <a href="https://godoc.org/github.com/asdine/storm/codec/sereal">Sereal</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/protobuf">Protocol Buffers</a> dan <a href="https://godoc.org/github.com/asdine/storm/codec/msgpack">MessagePack</a>.</p>
<p>Codec ini dapat digunakan dengan mengimpor package yang relevan dan menggunakannya untuk mengkonfigurasi Storm. Contoh di bawah ini menunjukkan semua varian (tanpa penanganan error yang benar):</p>
<pre><code class="language-go">import (
  &quot;github.com/asdine/storm/v3&quot;
  &quot;github.com/asdine/storm/v3/codec/gob&quot;
  &quot;github.com/asdine/storm/v3/codec/json&quot;
  &quot;github.com/asdine/storm/v3/codec/sereal&quot;
  &quot;github.com/asdine/storm/v3/codec/protobuf&quot;
  &quot;github.com/asdine/storm/v3/codec/msgpack&quot;
)

var gobDb, _ = storm.Open(&quot;gob.db&quot;, storm.Codec(gob.Codec))
var jsonDb, _ = storm.Open(&quot;json.db&quot;, storm.Codec(json.Codec))
var serealDb, _ = storm.Open(&quot;sereal.db&quot;, storm.Codec(sereal.Codec))
var protobufDb, _ = storm.Open(&quot;protobuf.db&quot;, storm.Codec(protobuf.Codec))
var msgpackDb, _ = storm.Open(&quot;msgpack.db&quot;, storm.Codec(msgpack.Codec))
</code></pre>
<p><strong>Tip</strong>: Menambahkan tag Storm pada file Protobuf yang dihasilkan bisa jadi rumit. Solusi yang baik adalah menggunakan <a href="https://github.com/favadi/protoc-go-inject-tag">alat ini</a> untuk menyisipkan tag selama proses kompilasi.</p>
<h4>Menggunakan Koneksi Bolt yang Ada</h4>
<p>Anda dapat menggunakan koneksi yang sudah ada dan memberikannya ke Storm</p>
<pre><code class="language-go">bDB, _ := bolt.Open(filepath.Join(dir, &quot;bolt.db&quot;), 0600, &amp;bolt.Options{Timeout: 10 * time.Second})
db := storm.Open(&quot;my.db&quot;, storm.UseDB(bDB))
</code></pre>
<h4>Mode Batch</h4>
<p>Mode batch dapat diaktifkan untuk mempercepat penulisan secara konkuren (lihat <a href="https://github.com/coreos/bbolt#batch-read-write-transactions">Batch read-write transactions</a>)</p>
<pre><code class="language-go">db := storm.Open(&quot;my.db&quot;, storm.Batch())
</code></pre>
<h2>Node dan bucket bertingkat</h2>
<p>Storm memanfaatkan fitur bucket bertingkat BoltDB dengan menggunakan <code>storm.Node</code>.
Sebuah <code>storm.Node</code> adalah objek dasar yang digunakan oleh <code>storm.DB</code> untuk memanipulasi bucket.
Untuk membuat bucket bertingkat dan menggunakan API yang sama seperti <code>storm.DB</code>, Anda dapat menggunakan metode <code>DB.From</code>.</p>
<pre><code class="language-go">repo := db.From(&quot;repo&quot;)

err := repo.Save(&amp;Issue{
  Title: &quot;I want more features&quot;,
  Author: user.ID,
})

err = repo.Save(newRelease(&quot;0.10&quot;))

var issues []Issue
err = repo.Find(&quot;Author&quot;, user.ID, &amp;issues)

var release Release
err = repo.One(&quot;Tag&quot;, &quot;0.10&quot;, &amp;release)
</code></pre>
<p>Anda juga dapat melakukan chaining pada node untuk membuat hierarki</p>
<pre><code class="language-go">chars := db.From(&quot;characters&quot;)
heroes := chars.From(&quot;heroes&quot;)
enemies := chars.From(&quot;enemies&quot;)

items := db.From(&quot;items&quot;)
potions := items.From(&quot;consumables&quot;).From(&quot;medicine&quot;).From(&quot;potions&quot;)
</code></pre>
<p>Anda bahkan dapat memberikan seluruh hierarki sebagai argumen ke <code>From</code>:</p>
<pre><code class="language-go">privateNotes := db.From(&quot;notes&quot;, &quot;private&quot;)
workNotes :=  db.From(&quot;notes&quot;, &quot;work&quot;)
</code></pre>
<h3>Opsi Node</h3>
<p>Sebuah Node juga dapat dikonfigurasi. Mengaktifkan sebuah opsi pada Node akan membuat salinan, sehingga Node selalu thread-safe.</p>
<pre><code class="language-go">n := db.From(&quot;my-node&quot;)
</code></pre>
<p>Memberikan transaksi bolt.Tx pada Node</p>
<pre><code class="language-go">n = n.WithTransaction(tx)
</code></pre>
<p>Mengaktifkan mode batch</p>
<pre><code class="language-go">n = n.WithBatch(true)
</code></pre>
<p>Menggunakan Codec</p>
<pre><code class="language-go">n = n.WithCodec(gob.Codec)
</code></pre>
<h2>Penyimpanan Key/Value Sederhana</h2>
<p>Storm dapat digunakan sebagai key/value store yang sederhana, tangguh, dan dapat menyimpan apa saja.
Key dan value bisa dari tipe apa saja asalkan key bukan nilai nol.</p>
<p>Menyimpan data :</p>
<pre><code class="language-go">db.Set(&quot;logs&quot;, time.Now(), &quot;Saya sedang sarapan&quot;)
db.Set(&quot;sessions&quot;, bson.NewObjectId(), &amp;someUser)
db.Set(&quot;weird storage&quot;, &quot;754-3010&quot;, map[string]interface{}{
  &quot;hair&quot;: &quot;blonde&quot;,
  &quot;likes&quot;: []string{&quot;cheese&quot;, &quot;star wars&quot;},
})
</code></pre>
<p>Mengambil data :</p>
<pre><code class="language-go">user := User{}
db.Get(&quot;sessions&quot;, someObjectId, &amp;user)

var details map[string]interface{}
db.Get(&quot;weird storage&quot;, &quot;754-3010&quot;, &amp;details)
</code></pre>
<pre><code>db.Get(&quot;sessions&quot;, someObjectId, &amp;details)
</code></pre>
<p>Menghapus data :</p>
<pre><code class="language-go">db.Delete(&quot;sessions&quot;, someObjectId)
db.Delete(&quot;weird storage&quot;, &quot;754-3010&quot;)
</code></pre>
<p>Anda dapat menemukan metode berguna lainnya di <a href="https://godoc.org/github.com/asdine/storm#KeyValueStore">dokumentasi</a>.</p>
<h2>BoltDB</h2>
<p>BoltDB masih dapat diakses dengan mudah dan dapat digunakan seperti biasa</p>
<pre><code class="language-go">db.Bolt.View(func(tx *bolt.Tx) error {
  bucket := tx.Bucket([]byte(&quot;my bucket&quot;))
  val := bucket.Get([]byte(&quot;any id&quot;))
  fmt.Println(string(val))
  return nil
})
</code></pre>
<p>Transaksi juga dapat diteruskan ke Storm</p>
<pre><code class="language-go">db.Bolt.Update(func(tx *bolt.Tx) error {
  ...
  dbx := db.WithTransaction(tx)
  err = dbx.Save(&amp;user)
  ...
  return nil
})
</code></pre>
<h2>Lisensi</h2>
<p>MIT</p>
<h2>Kredit</h2>
<ul>
<li><a href="https://github.com/asdine">Asdine El Hrychy</a></li>
<li><a href="https://github.com/bep">Bjørn Erik Pedersen</a></li>
</ul>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-11</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>