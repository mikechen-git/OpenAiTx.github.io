<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storm - asdine/storm nl</title>
    <meta name="title" content="storm - asdine/storm nl | Storm Storm is een eenvoudig en krachtig hulpmiddel voor BoltDB. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, ...">
    <meta name="description" content="asdine/storm - GitHub repository nl documentation and information | Storm Storm is een eenvoudig en krachtig hulpmiddel voor BoltDB. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, ...">
    <meta name="keywords" content="asdine, storm, GitHub, repository, nl documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/asdine/storm/README-nl.html">
    <meta property="og:title" content="storm - asdine/storm nl | Storm Storm is een eenvoudig en krachtig hulpmiddel voor BoltDB. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, ...">
    <meta property="og:description" content="asdine/storm - GitHub repository nl documentation and information | Storm Storm is een eenvoudig en krachtig hulpmiddel voor BoltDB. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, ...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/asdine/storm" id="githubRepoLink" target="_blank">asdine/storm</a>
<h1 style="display: none;">Storm Storm is een eenvoudig en krachtig hulpmiddel voor BoltDB. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, ...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>Storm</h1>
<p><a href="https://travis-ci.org/asdine/storm"><img src="https://travis-ci.org/asdine/storm.svg" alt="Build Status" /></a>
<a href="https://godoc.org/github.com/asdine/storm"><img src="https://godoc.org/github.com/asdine/storm?status.svg" alt="GoDoc" /></a></p>
<p>Storm is een eenvoudig en krachtig hulpmiddel voor <a href="https://github.com/coreos/bbolt">BoltDB</a>. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, een geavanceerd query-systeem en nog veel meer.</p>
<p>Naast de onderstaande voorbeelden, zie ook de <a href="https://godoc.org/github.com/asdine/storm#pkg-examples">voorbeelden in de GoDoc</a>.</p>
<p><em>Voor uitgebreide queries en ondersteuning voor <a href="https://github.com/dgraph-io/badger">Badger</a>, zie ook <a href="https://github.com/asdine/genji">Genji</a></em></p>
<h2>Inhoudsopgave</h2>
<ul>
<li><a href="#getting-started">Aan de slag</a></li>
<li><a href="#import-storm">Importeer Storm</a></li>
<li><a href="#open-a-database">Open een database</a></li>
<li><a href="#simple-crud-system">Eenvoudig CRUD-systeem</a>
<ul>
<li><a href="#declare-your-structures">Declareer je structuren</a></li>
<li><a href="#save-your-object">Sla je object op</a>
<ul>
<li><a href="#auto-increment">Auto Increment</a></li>
</ul>
</li>
<li><a href="#simple-queries">Eenvoudige queries</a>
<ul>
<li><a href="#fetch-one-object">Haal één object op</a></li>
<li><a href="#fetch-multiple-objects">Haal meerdere objecten op</a></li>
<li><a href="#fetch-all-objects">Haal alle objecten op</a></li>
<li><a href="#fetch-all-objects-sorted-by-index">Haal alle objecten gesorteerd op index op</a></li>
<li><a href="#fetch-a-range-of-objects">Haal een reeks objecten op</a></li>
<li><a href="#fetch-objects-by-prefix">Haal objecten op via prefix</a></li>
<li><a href="#skip-limit-and-reverse">Skip, Limit en Reverse</a></li>
<li><a href="#delete-an-object">Verwijder een object</a></li>
<li><a href="#update-an-object">Update een object</a></li>
<li><a href="#initialize-buckets-and-indexes-before-saving-an-object">Initialiseer buckets en indexen voordat je een object opslaat</a></li>
<li><a href="#drop-a-bucket">Verwijder een bucket</a></li>
<li><a href="#re-index-a-bucket">Herindexeer een bucket</a></li>
</ul>
</li>
<li><a href="#advanced-queries">Geavanceerde queries</a></li>
<li><a href="#transactions">Transacties</a></li>
<li><a href="#options">Opties</a>
<ul>
<li><a href="#boltoptions">BoltOptions</a></li>
<li><a href="#marshalunmarshaler">MarshalUnmarshaler</a>
<ul>
<li><a href="#provided-codecs">Geleverde codecs</a></li>
</ul>
</li>
<li><a href="#use-existing-bolt-connection">Gebruik bestaande Bolt-verbinding</a></li>
<li><a href="#batch-mode">Batchmodus</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#nodes-and-nested-buckets">Nodes en geneste buckets</a>
<ul>
<li><a href="#node-options">Node-opties</a></li>
</ul>
</li>
<li><a href="#simple-keyvalue-store">Eenvoudige Key/Value store</a></li>
<li><a href="#boltdb">BoltDB</a></li>
<li><a href="#license">Licentie</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2>Aan de slag</h2>
<pre><code class="language-bash">GO111MODULE=on go get -u github.com/asdine/storm/v3
</code></pre>
<h2>Importeer Storm</h2>
<pre><code class="language-go">import &quot;github.com/asdine/storm/v3&quot;
</code></pre>
<h2>Open een database</h2>
<p>Snelle manier om een database te openen</p>
<pre><code class="language-go">db, err := storm.Open(&quot;my.db&quot;)

defer db.Close()
</code></pre>
<p><code>Open</code> kan meerdere opties ontvangen om het gedrag aan te passen. Zie <a href="#options">Opties</a> hieronder</p>
<h2>Eenvoudig CRUD-systeem</h2>
<h3>Declareer je structuren</h3>
<pre><code class="language-go">type User struct {
  ID int // primaire sleutel
  Group string `storm:&quot;index&quot;` // dit veld wordt geïndexeerd
  Email string `storm:&quot;unique&quot;` // dit veld wordt geïndexeerd met een unieke beperking
  Name string // dit veld wordt niet geïndexeerd
  Age int `storm:&quot;index&quot;`
}
</code></pre>
<p>De primaire sleutel kan elk type zijn zolang het geen nulwaarde is. Storm zoekt naar de tag <code>id</code>, als deze niet aanwezig is zoekt Storm naar een veld genaamd <code>ID</code>.</p>
<pre><code class="language-go">type User struct {
  ThePrimaryKey string `storm:&quot;id&quot;`// primaire sleutel
  Group string `storm:&quot;index&quot;` // dit veld wordt geïndexeerd
  Email string `storm:&quot;unique&quot;` // dit veld wordt geïndexeerd met een unieke beperking
  Name string // dit veld wordt niet geïndexeerd
}
</code></pre>
<p>Storm behandelt tags in geneste structuren met de <code>inline</code> tag</p>
<pre><code class="language-go">type Base struct {
  Ident bson.ObjectId `storm:&quot;id&quot;`
}

type User struct {
  Base      `storm:&quot;inline&quot;`
  Group     string `storm:&quot;index&quot;`
  Email     string `storm:&quot;unique&quot;`
  Name      string
  CreatedAt time.Time `storm:&quot;index&quot;`
}
</code></pre>
<h3>Sla je object op</h3>
<pre><code class="language-go">user := User{
  ID: 10,
  Group: &quot;staff&quot;,
  Email: &quot;john@provider.com&quot;,
  Name: &quot;John&quot;,
  Age: 21,
  CreatedAt: time.Now(),
}

err := db.Save(&amp;user)
// err == nil

user.ID++
err = db.Save(&amp;user)
// err == storm.ErrAlreadyExists
</code></pre>
<p>Dat is alles.</p>
<p><code>Save</code> maakt of werkt alle benodigde indexen en buckets bij, controleert de unieke beperkingen en slaat het object op in de store.</p>
<h4>Auto Increment</h4>
<p>Storm kan integerwaarden automatisch verhogen zodat je je daar geen zorgen over hoeft te maken bij het opslaan van je objecten. Ook wordt de nieuwe waarde automatisch in je veld geplaatst.</p>
<pre><code class="language-go">
type Product struct {
  Pk                  int `storm:&quot;id,increment&quot;` // primaire sleutel met auto increment
  Name                string
  IntegerField        uint64 `storm:&quot;increment&quot;`
  IndexedIntegerField uint32 `storm:&quot;index,increment&quot;`
  UniqueIntegerField  int16  `storm:&quot;unique,increment=100&quot;` // de startwaarde kan worden ingesteld
}

p := Product{Name: &quot;Vaccum Cleaner&quot;}

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 0
// 0
// 0
// 0

_ = db.Save(&amp;p)

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 1
// 1
// 1
// 100

</code></pre>
<h3>Eenvoudige queries</h3>
<p>Elk object kan worden opgehaald, geïndexeerd of niet. Storm gebruikt indexen wanneer die beschikbaar zijn, anders gebruikt het het <a href="#advanced-queries">query-systeem</a>.</p>
<h4>Haal één object op</h4>
<pre><code class="language-go">var user User
err := db.One(&quot;Email&quot;, &quot;john@provider.com&quot;, &amp;user)
// err == nil

err = db.One(&quot;Name&quot;, &quot;John&quot;, &amp;user)
// err == nil

err = db.One(&quot;Name&quot;, &quot;Jack&quot;, &amp;user)
// err == storm.ErrNotFound
</code></pre>
<h4>Haal meerdere objecten op</h4>
<pre><code class="language-go">var users []User
err := db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users)
</code></pre>
<h4>Haal alle objecten op</h4>
<pre><code class="language-go">var users []User
err := db.All(&amp;users)
</code></pre>
<h4>Haal alle objecten gesorteerd op index op</h4>
<pre><code class="language-go">var users []User
err := db.AllByIndex(&quot;CreatedAt&quot;, &amp;users)
</code></pre>
<h4>Haal een reeks objecten op</h4>
<pre><code class="language-go">var users []User
err := db.Range(&quot;Age&quot;, 10, 21, &amp;users)
</code></pre>
<h4>Haal objecten op met een prefix</h4>
<pre><code class="language-go">var users []User
err := db.Prefix(&quot;Name&quot;, &quot;Jo&quot;, &amp;users)
</code></pre>
<h4>Skip, Limit en Reverse</h4>
<pre><code class="language-go">var users []User
err := db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Skip(10))
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Limit(10))
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Reverse())
err = db.Find(&quot;Group&quot;, &quot;staff&quot;, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())

err = db.All(&amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.AllByIndex(&quot;CreatedAt&quot;, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.Range(&quot;Age&quot;, 10, 21, &amp;users, storm.Limit(10), storm.Skip(10), storm.Reverse())
</code></pre>
<h4>Verwijder een object</h4>
<pre><code class="language-go">err := db.DeleteStruct(&amp;user)
</code></pre>
<h4>Werk een object bij</h4>
<pre><code class="language-go">// Werk meerdere velden bij
// Werkt alleen voor velden met een niet-nulwaarde (bijv. Name mag niet &quot;&quot;, Age mag niet 0 zijn)
err := db.Update(&amp;User{ID: 10, Name: &quot;Jack&quot;, Age: 45})

// Werk een enkel veld bij
// Werkt ook voor velden met een nulwaarde (0, false, &quot;&quot;, ...)
err := db.UpdateField(&amp;User{ID: 10}, &quot;Age&quot;, 0)
</code></pre>
<h4>Initialiseer buckets en indexen voordat een object wordt opgeslagen</h4>
<pre><code class="language-go">err := db.Init(&amp;User{})
</code></pre>
<p>Handig bij het starten van je applicatie</p>
<h4>Verwijder een bucket</h4>
<p>Met de struct</p>
<pre><code class="language-go">err := db.Drop(&amp;User)
</code></pre>
<p>Met de bucketnaam</p>
<pre><code class="language-go">err := db.Drop(&quot;User&quot;)
</code></pre>
<h4>Herindexeer een bucket</h4>
<pre><code class="language-go">err := db.ReIndex(&amp;User{})
</code></pre>
<p>Handig wanneer de structuur is gewijzigd</p>
<h3>Geavanceerde queries</h3>
<p>Voor meer complexe queries kun je de <code>Select</code>-methode gebruiken.
<code>Select</code> neemt een willekeurig aantal <a href="https://godoc.org/github.com/asdine/storm/q#Matcher"><code>Matcher</code></a> uit het <a href="https://godoc.org/github.com/asdine/storm/q"><code>q</code></a> pakket.</p>
<p>Hier zijn enkele veelvoorkomende Matchers:</p>
<pre><code class="language-go">// Gelijkheid
q.Eq(&quot;Name&quot;, John)

// Strikt groter dan
q.Gt(&quot;Age&quot;, 7)

// Kleiner dan of gelijk aan
q.Lte(&quot;Age&quot;, 77)

// Regex met naam die begint met de letter D
q.Re(&quot;Name&quot;, &quot;^D&quot;)

// In de opgegeven lijst met waarden
q.In(&quot;Group&quot;, []string{&quot;Staff&quot;, &quot;Admin&quot;})

// Velden vergelijken
q.EqF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.LtF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.GtF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.LteF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
q.GteF(&quot;FieldName&quot;, &quot;SecondFieldName&quot;)
</code></pre>
<p>Matchers kunnen ook gecombineerd worden met <code>And</code>, <code>Or</code> en <code>Not</code>:</p>
<pre><code class="language-go">
// Match als alle matchen
q.And(
  q.Gt(&quot;Age&quot;, 7),
  q.Re(&quot;Name&quot;, &quot;^D&quot;)
)

// Match als één matcht
q.Or(
  q.Re(&quot;Name&quot;, &quot;^A&quot;),
  q.Not(
    q.Re(&quot;Name&quot;, &quot;^B&quot;)
  ),
  q.Re(&quot;Name&quot;, &quot;^C&quot;),
  q.In(&quot;Group&quot;, []string{&quot;Staff&quot;, &quot;Admin&quot;}),
  q.And(
    q.StrictEq(&quot;Password&quot;, []byte(password)),
    q.Eq(&quot;Registered&quot;, true)
  )
)
</code></pre>
<p>Je vindt de complete lijst in de <a href="https://godoc.org/github.com/asdine/storm/q#Matcher">documentatie</a>.</p>
<p><code>Select</code> neemt een willekeurig aantal matchers en voegt ze samen in een <code>q.And()</code>, dus het is niet nodig om deze zelf te specificeren. Het retourneert een <a href="https://godoc.org/github.com/asdine/storm#Query"><code>Query</code></a> type.</p>
<pre><code class="language-go">query := db.Select(q.Gte(&quot;Age&quot;, 7), q.Lte(&quot;Age&quot;, 77))
</code></pre>
<p>Het <code>Query</code> type bevat methoden om de records te filteren en te ordenen.</p>
<pre><code class="language-go">// Limit
query = query.Limit(10)

// Skip
query = query.Skip(20)

// Aanroepen kunnen ook worden gekoppeld
query = query.Limit(10).Skip(20).OrderBy(&quot;Age&quot;).Reverse()
</code></pre>
<p>Maar ook om te specificeren hoe ze opgehaald moeten worden.</p>
<pre><code class="language-go">var users []User
err = query.Find(&amp;users)

var user User
err = query.First(&amp;user)
</code></pre>
<p>Voorbeelden met <code>Select</code>:</p>
<pre><code class="language-go">// Zoek alle gebruikers met een ID tussen 10 en 100
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Find(&amp;users)

// Geneste matchers
err = db.Select(q.Or(
  q.Gt(&quot;ID&quot;, 50),
  q.Lt(&quot;Age&quot;, 21),
  q.And(
    q.Eq(&quot;Group&quot;, &quot;admin&quot;),
    q.Gte(&quot;Age&quot;, 21),
  ),
)).Find(&amp;users)

query := db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;)

// Zoek meerdere records
err = query.Find(&amp;users)
// of
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;).Find(&amp;users)
</code></pre>
<pre><code class="language-go">// Vind het eerste record
err = query.First(&amp;user)
// of
err = db.Select(q.Gte(&quot;ID&quot;, 10), q.Lte(&quot;ID&quot;, 100)).Limit(10).Skip(5).Reverse().OrderBy(&quot;Age&quot;, &quot;Name&quot;).First(&amp;user)

// Verwijder alle overeenkomende records
err = query.Delete(new(User))

// Records één voor één ophalen (handig als de bucket veel records bevat)
query = db.Select(q.Gte(&quot;ID&quot;, 10),q.Lte(&quot;ID&quot;, 100)).OrderBy(&quot;Age&quot;, &quot;Name&quot;)

err = query.Each(new(User), func(record interface{}) error) {
  u := record.(*User)
  ...
  return nil
}
</code></pre>
<p>Zie de <a href="https://godoc.org/github.com/asdine/storm#Query">documentatie</a> voor een volledige lijst met methoden.</p>
<h3>Transacties</h3>
<pre><code class="language-go">tx, err := db.Begin(true)
if err != nil {
  return err
}
defer tx.Rollback()

accountA.Amount -= 100
accountB.Amount += 100

err = tx.Save(accountA)
if err != nil {
  return err
}

err = tx.Save(accountB)
if err != nil {
  return err
}

return tx.Commit()
</code></pre>
<h3>Opties</h3>
<p>Storm-opties zijn functies die je kunt meegeven bij het aanmaken van je Storm-instantie. Je kunt een willekeurig aantal opties doorgeven.</p>
<h4>BoltOptions</h4>
<p>Standaard opent Storm een database met de modus <code>0600</code> en een timeout van één seconde.
Je kunt dit gedrag aanpassen met <code>BoltOptions</code>.</p>
<pre><code class="language-go">db, err := storm.Open(&quot;my.db&quot;, storm.BoltOptions(0600, &amp;bolt.Options{Timeout: 1 * time.Second}))
</code></pre>
<h4>MarshalUnmarshaler</h4>
<p>Om gegevens op te slaan in BoltDB, wordt standaard JSON gebruikt voor marshallen in Storm. Als je dit gedrag wilt wijzigen, kun je een codec meegeven die <a href="https://godoc.org/github.com/asdine/storm/codec#MarshalUnmarshaler"><code>codec.MarshalUnmarshaler</code></a> implementeert via de <a href="https://godoc.org/github.com/asdine/storm#Codec"><code>storm.Codec</code></a> optie:</p>
<pre><code class="language-go">db := storm.Open(&quot;my.db&quot;, storm.Codec(myCodec))
</code></pre>
<h5>Geleverde Codecs</h5>
<p>Je kunt eenvoudig je eigen <code>MarshalUnmarshaler</code> implementeren, maar Storm heeft ingebouwde ondersteuning voor <a href="https://godoc.org/github.com/asdine/storm/codec/json">JSON</a> (standaard), <a href="https://godoc.org/github.com/asdine/storm/codec/gob">GOB</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/sereal">Sereal</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/protobuf">Protocol Buffers</a> en <a href="https://godoc.org/github.com/asdine/storm/codec/msgpack">MessagePack</a>.</p>
<p>Deze kun je gebruiken door het relevante pakket te importeren en deze codec te gebruiken om Storm te configureren. Het onderstaande voorbeeld toont alle varianten (zonder foutafhandeling):</p>
<pre><code class="language-go">import (
  &quot;github.com/asdine/storm/v3&quot;
  &quot;github.com/asdine/storm/v3/codec/gob&quot;
  &quot;github.com/asdine/storm/v3/codec/json&quot;
  &quot;github.com/asdine/storm/v3/codec/sereal&quot;
  &quot;github.com/asdine/storm/v3/codec/protobuf&quot;
  &quot;github.com/asdine/storm/v3/codec/msgpack&quot;
)

var gobDb, _ = storm.Open(&quot;gob.db&quot;, storm.Codec(gob.Codec))
var jsonDb, _ = storm.Open(&quot;json.db&quot;, storm.Codec(json.Codec))
var serealDb, _ = storm.Open(&quot;sereal.db&quot;, storm.Codec(sereal.Codec))
var protobufDb, _ = storm.Open(&quot;protobuf.db&quot;, storm.Codec(protobuf.Codec))
var msgpackDb, _ = storm.Open(&quot;msgpack.db&quot;, storm.Codec(msgpack.Codec))
</code></pre>
<p><strong>Tip</strong>: Het toevoegen van Storm-tags aan gegenereerde Protobuf-bestanden kan lastig zijn. Een goede oplossing is om <a href="https://github.com/favadi/protoc-go-inject-tag">deze tool</a> te gebruiken om tags toe te voegen tijdens het compileren.</p>
<h4>Bestaande Bolt-verbinding gebruiken</h4>
<p>Je kunt een bestaande verbinding gebruiken en deze aan Storm doorgeven</p>
<pre><code class="language-go">bDB, _ := bolt.Open(filepath.Join(dir, &quot;bolt.db&quot;), 0600, &amp;bolt.Options{Timeout: 10 * time.Second})
db := storm.Open(&quot;my.db&quot;, storm.UseDB(bDB))
</code></pre>
<h4>Batch-modus</h4>
<p>Batch-modus kan worden ingeschakeld om gelijktijdige schrijfacties te versnellen (zie <a href="https://github.com/coreos/bbolt#batch-read-write-transactions">Batch read-write transactions</a>)</p>
<pre><code class="language-go">db := storm.Open(&quot;my.db&quot;, storm.Batch())
</code></pre>
<h2>Nodes en geneste buckets</h2>
<p>Storm maakt gebruik van de geneste buckets-functionaliteit van BoltDB door gebruik te maken van <code>storm.Node</code>.
Een <code>storm.Node</code> is het onderliggende object dat door <code>storm.DB</code> wordt gebruikt om een bucket te manipuleren.
Om een geneste bucket aan te maken en dezelfde API als <code>storm.DB</code> te gebruiken, kun je de <code>DB.From</code>-methode gebruiken.</p>
<pre><code class="language-go">repo := db.From(&quot;repo&quot;)

err := repo.Save(&amp;Issue{
  Title: &quot;I want more features&quot;,
  Author: user.ID,
})

err = repo.Save(newRelease(&quot;0.10&quot;))

var issues []Issue
err = repo.Find(&quot;Author&quot;, user.ID, &amp;issues)

var release Release
err = repo.One(&quot;Tag&quot;, &quot;0.10&quot;, &amp;release)
</code></pre>
<p>Je kunt ook nodes koppelen om een hiërarchie te maken</p>
<pre><code class="language-go">chars := db.From(&quot;characters&quot;)
heroes := chars.From(&quot;heroes&quot;)
enemies := chars.From(&quot;enemies&quot;)

items := db.From(&quot;items&quot;)
potions := items.From(&quot;consumables&quot;).From(&quot;medicine&quot;).From(&quot;potions&quot;)
</code></pre>
<p>Je kunt zelfs de volledige hiërarchie als argumenten meegeven aan <code>From</code>:</p>
<pre><code class="language-go">privateNotes := db.From(&quot;notes&quot;, &quot;private&quot;)
workNotes :=  db.From(&quot;notes&quot;, &quot;work&quot;)
</code></pre>
<h3>Node-opties</h3>
<p>Een Node kan ook worden geconfigureerd. Het activeren van een optie op een Node maakt een kopie, dus een Node is altijd thread-safe.</p>
<pre><code class="language-go">n := db.From(&quot;my-node&quot;)
</code></pre>
<p>Geef een bolt.Tx-transactie aan de Node</p>
<pre><code class="language-go">n = n.WithTransaction(tx)
</code></pre>
<p>Batch-modus inschakelen</p>
<pre><code class="language-go">n = n.WithBatch(true)
</code></pre>
<p>Gebruik een Codec</p>
<pre><code class="language-go">n = n.WithCodec(gob.Codec)
</code></pre>
<h2>Eenvoudige Key/Value store</h2>
<p>Storm kan gebruikt worden als een eenvoudige, robuuste key/value store waarin alles kan worden opgeslagen.
De key en de value kunnen van elk type zijn, zolang de key geen zero value is.</p>
<p>Data opslaan:</p>
<pre><code class="language-go">db.Set(&quot;logs&quot;, time.Now(), &quot;I'm eating my breakfast man&quot;)
db.Set(&quot;sessions&quot;, bson.NewObjectId(), &amp;someUser)
db.Set(&quot;weird storage&quot;, &quot;754-3010&quot;, map[string]interface{}{
  &quot;hair&quot;: &quot;blond&quot;,
  &quot;likes&quot;: []string{&quot;cheese&quot;, &quot;star wars&quot;},
})
</code></pre>
<p>Data ophalen:</p>
<pre><code class="language-go">user := User{}
db.Get(&quot;sessions&quot;, someObjectId, &amp;user)

var details map[string]interface{}
db.Get(&quot;weird storage&quot;, &quot;754-3010&quot;, &amp;details)
</code></pre>
<p>db.Get(&quot;sessions&quot;, someObjectId, &amp;details)</p>
<pre><code>
Gegevens verwijderen :

```go
db.Delete(&quot;sessions&quot;, someObjectId)
db.Delete(&quot;weird storage&quot;, &quot;754-3010&quot;)
</code></pre>
<p>Je kunt andere nuttige methoden vinden in de <a href="https://godoc.org/github.com/asdine/storm#KeyValueStore">documentatie</a>.</p>
<h2>BoltDB</h2>
<p>BoltDB is nog steeds eenvoudig toegankelijk en kan zoals gebruikelijk worden gebruikt</p>
<pre><code class="language-go">db.Bolt.View(func(tx *bolt.Tx) error {
  bucket := tx.Bucket([]byte(&quot;my bucket&quot;))
  val := bucket.Get([]byte(&quot;any id&quot;))
  fmt.Println(string(val))
  return nil
})
</code></pre>
<p>Een transactie kan ook aan Storm worden doorgegeven</p>
<pre><code class="language-go">db.Bolt.Update(func(tx *bolt.Tx) error {
  ...
  dbx := db.WithTransaction(tx)
  err = dbx.Save(&amp;user)
  ...
  return nil
})
</code></pre>
<h2>Licentie</h2>
<p>MIT</p>
<h2>Credits</h2>
<ul>
<li><a href="https://github.com/asdine">Asdine El Hrychy</a></li>
<li><a href="https://github.com/bep">Bjørn Erik Pedersen</a></li>
</ul>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-11</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>