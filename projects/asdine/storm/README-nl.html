<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storm - asdine/storm</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="Storm - asdine/storm">
    <meta name="description" content="asdine/storm - GitHub repository documentation and information">
    <meta name="keywords" content="asdine, storm, GitHub, repository, documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/asdine/storm/README-nl.html">
    <meta property="og:title" content="Storm - asdine/storm">
    <meta property="og:description" content="asdine/storm - GitHub repository documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">

    <!-- Marked.js for Markdown rendering -->
    <script type="text/javascript" async="" src="https://www.statcounter.com/counter/recorder.js"></script><script src="/js/marked.min.js?v=20250613"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        /* Layout */
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .main-container {
            margin: 0 auto;
            width: 100%;
            max-width: 980px;
            padding: 0 20px;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 0 15px;
            }
        }

        /* Image size restrictions */
        .markdown-body img {
            max-width: 100%;
            height: auto;
        }

        /* Existing styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f6f8fa;
            border-bottom: 1px solid #e1e4e8;
            position: relative;
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #0366d6;
            text-decoration: none;
            display: flex;
            align-items: center;
            font-size: 14px;
            padding: 5px 10px;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            background-color: #fff;
        }

        .back-button:hover {
            background-color: #f6f8fa;
            border-color: #0366d6;
        }

        .back-button::before {
            content: "←";
            margin-right: 5px;
            font-size: 16px;
        }

        .header .links {
            margin-top: 10px;
            font-size: 16px;
        }

        .header .links a {
            color: #0366d6;
            text-decoration: none;
            margin-left: 5px;
        }

        .header .links a:hover {
            text-decoration: underline;
        }
        
        /* Language badges styles */
        .language-badges {
            margin-top: 15px;
            text-align: center;
        }
        .language-badges a {
            display: inline-block;
            margin: 2px;
            text-decoration: none;
        }
        .language-badges img {
            height: 20px;
            border-radius: 3px;
        }
        .language-badges a:hover img {
            opacity: 0.8;
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/asdine/storm" id="githubRepoLink" target="_blank">asdine/storm</a>
        </div>
        <div class="language-badges" id="languageBadges"><a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=en"><img src="https://img.shields.io/badge/EN-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=zh-CN"><img src="https://img.shields.io/badge/简中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=zh-TW"><img src="https://img.shields.io/badge/繁中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=ja"><img src="https://img.shields.io/badge/日本語-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=ko"><img src="https://img.shields.io/badge/한국어-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=th"><img src="https://img.shields.io/badge/ไทย-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=fr"><img src="https://img.shields.io/badge/Français-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=de"><img src="https://img.shields.io/badge/Deutsch-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=es"><img src="https://img.shields.io/badge/Español-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=it"><img src="https://img.shields.io/badge/Italiano-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=ru"><img src="https://img.shields.io/badge/Русский-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=pt"><img src="https://img.shields.io/badge/Português-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=nl"><img src="https://img.shields.io/badge/Nederlands-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=pl"><img src="https://img.shields.io/badge/Polski-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=ar"><img src="https://img.shields.io/badge/العربية-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=tr"><img src="https://img.shields.io/badge/Türkçe-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=vi"><img src="https://img.shields.io/badge/Tiếng Việt-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=hi"><img src="https://img.shields.io/badge/हिंदी-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=fa"><img src="https://img.shields.io/badge/فارسی-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=asdine&amp;project=storm&amp;lang=id"><img src="https://img.shields.io/badge/Bahasa Indonesia-white" alt="version"></a></div>
    </div>

    <div class="main-container">
        <div class="markdown-body" id="content"><h1>Storm</h1>
<p><a href="https://travis-ci.org/asdine/storm"><img src="https://travis-ci.org/asdine/storm.svg" alt="Build Status"></a><br><a href="https://godoc.org/github.com/asdine/storm"><img src="https://godoc.org/github.com/asdine/storm?status.svg" alt="GoDoc"></a></p>
<p>Storm is een eenvoudig en krachtig hulpmiddel voor <a href="https://github.com/coreos/bbolt">BoltDB</a>. In wezen biedt Storm indexen, een breed scala aan methoden om data op te slaan en op te halen, een geavanceerd query-systeem en nog veel meer.</p>
<p>Naast de onderstaande voorbeelden, zie ook de <a href="https://godoc.org/github.com/asdine/storm#pkg-examples">voorbeelden in de GoDoc</a>.</p>
<p><em>Voor uitgebreide queries en ondersteuning voor <a href="https://github.com/dgraph-io/badger">Badger</a>, zie ook <a href="https://github.com/asdine/genji">Genji</a></em></p>
<h2>Inhoudsopgave</h2>
<ul>
<li><a href="#getting-started">Aan de slag</a></li>
<li><a href="#import-storm">Importeer Storm</a></li>
<li><a href="#open-a-database">Open een database</a></li>
<li><a href="#simple-crud-system">Eenvoudig CRUD-systeem</a><ul>
<li><a href="#declare-your-structures">Declareer je structuren</a></li>
<li><a href="#save-your-object">Sla je object op</a><ul>
<li><a href="#auto-increment">Auto Increment</a></li>
</ul>
</li>
<li><a href="#simple-queries">Eenvoudige queries</a><ul>
<li><a href="#fetch-one-object">Haal één object op</a></li>
<li><a href="#fetch-multiple-objects">Haal meerdere objecten op</a></li>
<li><a href="#fetch-all-objects">Haal alle objecten op</a></li>
<li><a href="#fetch-all-objects-sorted-by-index">Haal alle objecten gesorteerd op index op</a></li>
<li><a href="#fetch-a-range-of-objects">Haal een reeks objecten op</a></li>
<li><a href="#fetch-objects-by-prefix">Haal objecten op via prefix</a></li>
<li><a href="#skip-limit-and-reverse">Skip, Limit en Reverse</a></li>
<li><a href="#delete-an-object">Verwijder een object</a></li>
<li><a href="#update-an-object">Update een object</a></li>
<li><a href="#initialize-buckets-and-indexes-before-saving-an-object">Initialiseer buckets en indexen voordat je een object opslaat</a></li>
<li><a href="#drop-a-bucket">Verwijder een bucket</a></li>
<li><a href="#re-index-a-bucket">Herindexeer een bucket</a></li>
</ul>
</li>
<li><a href="#advanced-queries">Geavanceerde queries</a></li>
<li><a href="#transactions">Transacties</a></li>
<li><a href="#options">Opties</a><ul>
<li><a href="#boltoptions">BoltOptions</a></li>
<li><a href="#marshalunmarshaler">MarshalUnmarshaler</a><ul>
<li><a href="#provided-codecs">Geleverde codecs</a></li>
</ul>
</li>
<li><a href="#use-existing-bolt-connection">Gebruik bestaande Bolt-verbinding</a></li>
<li><a href="#batch-mode">Batchmodus</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#nodes-and-nested-buckets">Nodes en geneste buckets</a><ul>
<li><a href="#node-options">Node-opties</a></li>
</ul>
</li>
<li><a href="#simple-keyvalue-store">Eenvoudige Key/Value store</a></li>
<li><a href="#boltdb">BoltDB</a></li>
<li><a href="#license">Licentie</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2>Aan de slag</h2>
<pre><code class="language-bash hljs">GO111MODULE=on go get -u github.com/asdine/storm/v3
</code></pre>
<h2>Importeer Storm</h2>
<pre><code class="language-go hljs"><span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/asdine/storm/v3"</span>
</code></pre>
<h2>Open een database</h2>
<p>Snelle manier om een database te openen</p>
<pre><code class="language-go hljs">db, err := storm.Open(<span class="hljs-string">"my.db"</span>)

<span class="hljs-keyword">defer</span> db.Close()
</code></pre>
<p><code>Open</code> kan meerdere opties ontvangen om het gedrag aan te passen. Zie <a href="#options">Opties</a> hieronder</p>
<h2>Eenvoudig CRUD-systeem</h2>
<h3>Declareer je structuren</h3>
<pre><code class="language-go hljs"><span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
  ID <span class="hljs-type">int</span> <span class="hljs-comment">// primaire sleutel</span>
  Group <span class="hljs-type">string</span> <span class="hljs-string">`storm:"index"`</span> <span class="hljs-comment">// dit veld wordt geïndexeerd</span>
  Email <span class="hljs-type">string</span> <span class="hljs-string">`storm:"unique"`</span> <span class="hljs-comment">// dit veld wordt geïndexeerd met een unieke beperking</span>
  Name <span class="hljs-type">string</span> <span class="hljs-comment">// dit veld wordt niet geïndexeerd</span>
  Age <span class="hljs-type">int</span> <span class="hljs-string">`storm:"index"`</span>
}
</code></pre>
<p>De primaire sleutel kan elk type zijn zolang het geen nulwaarde is. Storm zoekt naar de tag <code>id</code>, als deze niet aanwezig is zoekt Storm naar een veld genaamd <code>ID</code>.</p>
<pre><code class="language-go hljs"><span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
  ThePrimaryKey <span class="hljs-type">string</span> <span class="hljs-string">`storm:"id"`</span><span class="hljs-comment">// primaire sleutel</span>
  Group <span class="hljs-type">string</span> <span class="hljs-string">`storm:"index"`</span> <span class="hljs-comment">// dit veld wordt geïndexeerd</span>
  Email <span class="hljs-type">string</span> <span class="hljs-string">`storm:"unique"`</span> <span class="hljs-comment">// dit veld wordt geïndexeerd met een unieke beperking</span>
  Name <span class="hljs-type">string</span> <span class="hljs-comment">// dit veld wordt niet geïndexeerd</span>
}
</code></pre>
<p>Storm behandelt tags in geneste structuren met de <code>inline</code> tag</p>
<pre><code class="language-go hljs"><span class="hljs-keyword">type</span> Base <span class="hljs-keyword">struct</span> {
  Ident bson.ObjectId <span class="hljs-string">`storm:"id"`</span>
}

<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
  Base      <span class="hljs-string">`storm:"inline"`</span>
  Group     <span class="hljs-type">string</span> <span class="hljs-string">`storm:"index"`</span>
  Email     <span class="hljs-type">string</span> <span class="hljs-string">`storm:"unique"`</span>
  Name      <span class="hljs-type">string</span>
  CreatedAt time.Time <span class="hljs-string">`storm:"index"`</span>
}
</code></pre>
<h3>Sla je object op</h3>
<pre><code class="language-go hljs">user := User{
  ID: <span class="hljs-number">10</span>,
  Group: <span class="hljs-string">"staff"</span>,
  Email: <span class="hljs-string">"john@provider.com"</span>,
  Name: <span class="hljs-string">"John"</span>,
  Age: <span class="hljs-number">21</span>,
  CreatedAt: time.Now(),
}

err := db.Save(&amp;user)
<span class="hljs-comment">// err == nil</span>

user.ID++
err = db.Save(&amp;user)
<span class="hljs-comment">// err == storm.ErrAlreadyExists</span>
</code></pre>
<p>Dat is alles.</p>
<p><code>Save</code> maakt of werkt alle benodigde indexen en buckets bij, controleert de unieke beperkingen en slaat het object op in de store.</p>
<h4>Auto Increment</h4>
<p>Storm kan integerwaarden automatisch verhogen zodat je je daar geen zorgen over hoeft te maken bij het opslaan van je objecten. Ook wordt de nieuwe waarde automatisch in je veld geplaatst.</p>
<pre><code class="language-go hljs">
<span class="hljs-keyword">type</span> Product <span class="hljs-keyword">struct</span> {
  Pk                  <span class="hljs-type">int</span> <span class="hljs-string">`storm:"id,increment"`</span> <span class="hljs-comment">// primaire sleutel met auto increment</span>
  Name                <span class="hljs-type">string</span>
  IntegerField        <span class="hljs-type">uint64</span> <span class="hljs-string">`storm:"increment"`</span>
  IndexedIntegerField <span class="hljs-type">uint32</span> <span class="hljs-string">`storm:"index,increment"`</span>
  UniqueIntegerField  <span class="hljs-type">int16</span>  <span class="hljs-string">`storm:"unique,increment=100"`</span> <span class="hljs-comment">// de startwaarde kan worden ingesteld</span>
}

p := Product{Name: <span class="hljs-string">"Vaccum Cleaner"</span>}

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
<span class="hljs-comment">// 0</span>
<span class="hljs-comment">// 0</span>
<span class="hljs-comment">// 0</span>
<span class="hljs-comment">// 0</span>

_ = db.Save(&amp;p)

fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 100</span>
</code></pre>
<h3>Eenvoudige queries</h3>
<p>Elk object kan worden opgehaald, geïndexeerd of niet. Storm gebruikt indexen wanneer die beschikbaar zijn, anders gebruikt het het <a href="#advanced-queries">query-systeem</a>.</p>
<h4>Haal één object op</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> user User
err := db.One(<span class="hljs-string">"Email"</span>, <span class="hljs-string">"john@provider.com"</span>, &amp;user)
<span class="hljs-comment">// err == nil</span>

err = db.One(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"John"</span>, &amp;user)
<span class="hljs-comment">// err == nil</span>

err = db.One(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"Jack"</span>, &amp;user)
<span class="hljs-comment">// err == storm.ErrNotFound</span>
</code></pre>
<h4>Haal meerdere objecten op</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.Find(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"staff"</span>, &amp;users)
</code></pre>
<h4>Haal alle objecten op</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.All(&amp;users)
</code></pre>
<h4>Haal alle objecten gesorteerd op index op</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.AllByIndex(<span class="hljs-string">"CreatedAt"</span>, &amp;users)
</code></pre>
<h4>Haal een reeks objecten op</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.Range(<span class="hljs-string">"Age"</span>, <span class="hljs-number">10</span>, <span class="hljs-number">21</span>, &amp;users)
</code></pre>
<h4>Haal objecten op met een prefix</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.Prefix(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"Jo"</span>, &amp;users)
</code></pre>
<h4>Skip, Limit en Reverse</h4>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err := db.Find(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"staff"</span>, &amp;users, storm.Skip(<span class="hljs-number">10</span>))
err = db.Find(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"staff"</span>, &amp;users, storm.Limit(<span class="hljs-number">10</span>))
err = db.Find(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"staff"</span>, &amp;users, storm.Reverse())
err = db.Find(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"staff"</span>, &amp;users, storm.Limit(<span class="hljs-number">10</span>), storm.Skip(<span class="hljs-number">10</span>), storm.Reverse())

err = db.All(&amp;users, storm.Limit(<span class="hljs-number">10</span>), storm.Skip(<span class="hljs-number">10</span>), storm.Reverse())
err = db.AllByIndex(<span class="hljs-string">"CreatedAt"</span>, &amp;users, storm.Limit(<span class="hljs-number">10</span>), storm.Skip(<span class="hljs-number">10</span>), storm.Reverse())
err = db.Range(<span class="hljs-string">"Age"</span>, <span class="hljs-number">10</span>, <span class="hljs-number">21</span>, &amp;users, storm.Limit(<span class="hljs-number">10</span>), storm.Skip(<span class="hljs-number">10</span>), storm.Reverse())
</code></pre>
<h4>Verwijder een object</h4>
<pre><code class="language-go hljs">err := db.DeleteStruct(&amp;user)
</code></pre>
<h4>Werk een object bij</h4>
<pre><code class="language-go hljs"><span class="hljs-comment">// Werk meerdere velden bij</span>
<span class="hljs-comment">// Werkt alleen voor velden met een niet-nulwaarde (bijv. Name mag niet "", Age mag niet 0 zijn)</span>
err := db.Update(&amp;User{ID: <span class="hljs-number">10</span>, Name: <span class="hljs-string">"Jack"</span>, Age: <span class="hljs-number">45</span>})

<span class="hljs-comment">// Werk een enkel veld bij</span>
<span class="hljs-comment">// Werkt ook voor velden met een nulwaarde (0, false, "", ...)</span>
err := db.UpdateField(&amp;User{ID: <span class="hljs-number">10</span>}, <span class="hljs-string">"Age"</span>, <span class="hljs-number">0</span>)
</code></pre>
<h4>Initialiseer buckets en indexen voordat een object wordt opgeslagen</h4>
<pre><code class="language-go hljs">err := db.Init(&amp;User{})
</code></pre>
<p>Handig bij het starten van je applicatie</p>
<h4>Verwijder een bucket</h4>
<p>Met de struct</p>
<pre><code class="language-go hljs">err := db.Drop(&amp;User)
</code></pre>
<p>Met de bucketnaam</p>
<pre><code class="language-go hljs">err := db.Drop(<span class="hljs-string">"User"</span>)
</code></pre>
<h4>Herindexeer een bucket</h4>
<pre><code class="language-go hljs">err := db.ReIndex(&amp;User{})
</code></pre>
<p>Handig wanneer de structuur is gewijzigd</p>
<h3>Geavanceerde queries</h3>
<p>Voor meer complexe queries kun je de <code>Select</code>-methode gebruiken.<br><code>Select</code> neemt een willekeurig aantal <a href="https://godoc.org/github.com/asdine/storm/q#Matcher"><code>Matcher</code></a> uit het <a href="https://godoc.org/github.com/asdine/storm/q"><code>q</code></a> pakket.</p>
<p>Hier zijn enkele veelvoorkomende Matchers:</p>
<pre><code class="language-go hljs"><span class="hljs-comment">// Gelijkheid</span>
q.Eq(<span class="hljs-string">"Name"</span>, John)

<span class="hljs-comment">// Strikt groter dan</span>
q.Gt(<span class="hljs-string">"Age"</span>, <span class="hljs-number">7</span>)

<span class="hljs-comment">// Kleiner dan of gelijk aan</span>
q.Lte(<span class="hljs-string">"Age"</span>, <span class="hljs-number">77</span>)

<span class="hljs-comment">// Regex met naam die begint met de letter D</span>
q.Re(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"^D"</span>)

<span class="hljs-comment">// In de opgegeven lijst met waarden</span>
q.In(<span class="hljs-string">"Group"</span>, []<span class="hljs-type">string</span>{<span class="hljs-string">"Staff"</span>, <span class="hljs-string">"Admin"</span>})

<span class="hljs-comment">// Velden vergelijken</span>
q.EqF(<span class="hljs-string">"FieldName"</span>, <span class="hljs-string">"SecondFieldName"</span>)
q.LtF(<span class="hljs-string">"FieldName"</span>, <span class="hljs-string">"SecondFieldName"</span>)
q.GtF(<span class="hljs-string">"FieldName"</span>, <span class="hljs-string">"SecondFieldName"</span>)
q.LteF(<span class="hljs-string">"FieldName"</span>, <span class="hljs-string">"SecondFieldName"</span>)
q.GteF(<span class="hljs-string">"FieldName"</span>, <span class="hljs-string">"SecondFieldName"</span>)
</code></pre>
<p>Matchers kunnen ook gecombineerd worden met <code>And</code>, <code>Or</code> en <code>Not</code>:</p>
<pre><code class="language-go hljs">
<span class="hljs-comment">// Match als alle matchen</span>
q.And(
  q.Gt(<span class="hljs-string">"Age"</span>, <span class="hljs-number">7</span>),
  q.Re(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"^D"</span>)
)

<span class="hljs-comment">// Match als één matcht</span>
q.Or(
  q.Re(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"^A"</span>),
  q.Not(
    q.Re(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"^B"</span>)
  ),
  q.Re(<span class="hljs-string">"Name"</span>, <span class="hljs-string">"^C"</span>),
  q.In(<span class="hljs-string">"Group"</span>, []<span class="hljs-type">string</span>{<span class="hljs-string">"Staff"</span>, <span class="hljs-string">"Admin"</span>}),
  q.And(
    q.StrictEq(<span class="hljs-string">"Password"</span>, []<span class="hljs-type">byte</span>(password)),
    q.Eq(<span class="hljs-string">"Registered"</span>, <span class="hljs-literal">true</span>)
  )
)
</code></pre>
<p>Je vindt de complete lijst in de <a href="https://godoc.org/github.com/asdine/storm/q#Matcher">documentatie</a>.</p>
<p><code>Select</code> neemt een willekeurig aantal matchers en voegt ze samen in een <code>q.And()</code>, dus het is niet nodig om deze zelf te specificeren. Het retourneert een <a href="https://godoc.org/github.com/asdine/storm#Query"><code>Query</code></a> type.</p>
<pre><code class="language-go hljs">query := db.Select(q.Gte(<span class="hljs-string">"Age"</span>, <span class="hljs-number">7</span>), q.Lte(<span class="hljs-string">"Age"</span>, <span class="hljs-number">77</span>))
</code></pre>
<p>Het <code>Query</code> type bevat methoden om de records te filteren en te ordenen.</p>
<pre><code class="language-go hljs"><span class="hljs-comment">// Limit</span>
query = query.Limit(<span class="hljs-number">10</span>)

<span class="hljs-comment">// Skip</span>
query = query.Skip(<span class="hljs-number">20</span>)

<span class="hljs-comment">// Aanroepen kunnen ook worden gekoppeld</span>
query = query.Limit(<span class="hljs-number">10</span>).Skip(<span class="hljs-number">20</span>).OrderBy(<span class="hljs-string">"Age"</span>).Reverse()
</code></pre>
<p>Maar ook om te specificeren hoe ze opgehaald moeten worden.</p>
<pre><code class="language-go hljs"><span class="hljs-keyword">var</span> users []User
err = query.Find(&amp;users)

<span class="hljs-keyword">var</span> user User
err = query.First(&amp;user)
</code></pre>
<p>Voorbeelden met <code>Select</code>:</p>
<pre><code class="language-go hljs"><span class="hljs-comment">// Zoek alle gebruikers met een ID tussen 10 en 100</span>
err = db.Select(q.Gte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">10</span>), q.Lte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">100</span>)).Find(&amp;users)

<span class="hljs-comment">// Geneste matchers</span>
err = db.Select(q.Or(
  q.Gt(<span class="hljs-string">"ID"</span>, <span class="hljs-number">50</span>),
  q.Lt(<span class="hljs-string">"Age"</span>, <span class="hljs-number">21</span>),
  q.And(
    q.Eq(<span class="hljs-string">"Group"</span>, <span class="hljs-string">"admin"</span>),
    q.Gte(<span class="hljs-string">"Age"</span>, <span class="hljs-number">21</span>),
  ),
)).Find(&amp;users)

query := db.Select(q.Gte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">10</span>), q.Lte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">100</span>)).Limit(<span class="hljs-number">10</span>).Skip(<span class="hljs-number">5</span>).Reverse().OrderBy(<span class="hljs-string">"Age"</span>, <span class="hljs-string">"Name"</span>)

<span class="hljs-comment">// Zoek meerdere records</span>
err = query.Find(&amp;users)
<span class="hljs-comment">// of</span>
err = db.Select(q.Gte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">10</span>), q.Lte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">100</span>)).Limit(<span class="hljs-number">10</span>).Skip(<span class="hljs-number">5</span>).Reverse().OrderBy(<span class="hljs-string">"Age"</span>, <span class="hljs-string">"Name"</span>).Find(&amp;users)
</code></pre>
<pre><code class="language-go hljs"><span class="hljs-comment">// Vind het eerste record</span>
err = query.First(&amp;user)
<span class="hljs-comment">// of</span>
err = db.Select(q.Gte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">10</span>), q.Lte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">100</span>)).Limit(<span class="hljs-number">10</span>).Skip(<span class="hljs-number">5</span>).Reverse().OrderBy(<span class="hljs-string">"Age"</span>, <span class="hljs-string">"Name"</span>).First(&amp;user)

<span class="hljs-comment">// Verwijder alle overeenkomende records</span>
err = query.Delete(<span class="hljs-built_in">new</span>(User))

<span class="hljs-comment">// Records één voor één ophalen (handig als de bucket veel records bevat)</span>
query = db.Select(q.Gte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">10</span>),q.Lte(<span class="hljs-string">"ID"</span>, <span class="hljs-number">100</span>)).OrderBy(<span class="hljs-string">"Age"</span>, <span class="hljs-string">"Name"</span>)

err = query.Each(<span class="hljs-built_in">new</span>(User), <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(record <span class="hljs-keyword">interface</span>{})</span></span> <span class="hljs-type">error</span>) {
  u := record.(*User)
  ...
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<p>Zie de <a href="https://godoc.org/github.com/asdine/storm#Query">documentatie</a> voor een volledige lijst met methoden.</p>
<h3>Transacties</h3>
<pre><code class="language-go hljs">tx, err := db.Begin(<span class="hljs-literal">true</span>)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  <span class="hljs-keyword">return</span> err
}
<span class="hljs-keyword">defer</span> tx.Rollback()

accountA.Amount -= <span class="hljs-number">100</span>
accountB.Amount += <span class="hljs-number">100</span>

err = tx.Save(accountA)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  <span class="hljs-keyword">return</span> err
}

err = tx.Save(accountB)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  <span class="hljs-keyword">return</span> err
}

<span class="hljs-keyword">return</span> tx.Commit()
</code></pre>
<h3>Opties</h3>
<p>Storm-opties zijn functies die je kunt meegeven bij het aanmaken van je Storm-instantie. Je kunt een willekeurig aantal opties doorgeven.</p>
<h4>BoltOptions</h4>
<p>Standaard opent Storm een database met de modus <code>0600</code> en een timeout van één seconde.<br>Je kunt dit gedrag aanpassen met <code>BoltOptions</code>.</p>
<pre><code class="language-go hljs">db, err := storm.Open(<span class="hljs-string">"my.db"</span>, storm.BoltOptions(<span class="hljs-number">0600</span>, &amp;bolt.Options{Timeout: <span class="hljs-number">1</span> * time.Second}))
</code></pre>
<h4>MarshalUnmarshaler</h4>
<p>Om gegevens op te slaan in BoltDB, wordt standaard JSON gebruikt voor marshallen in Storm. Als je dit gedrag wilt wijzigen, kun je een codec meegeven die <a href="https://godoc.org/github.com/asdine/storm/codec#MarshalUnmarshaler"><code>codec.MarshalUnmarshaler</code></a> implementeert via de <a href="https://godoc.org/github.com/asdine/storm#Codec"><code>storm.Codec</code></a> optie:</p>
<pre><code class="language-go hljs">db := storm.Open(<span class="hljs-string">"my.db"</span>, storm.Codec(myCodec))
</code></pre>
<h5>Geleverde Codecs</h5>
<p>Je kunt eenvoudig je eigen <code>MarshalUnmarshaler</code> implementeren, maar Storm heeft ingebouwde ondersteuning voor <a href="https://godoc.org/github.com/asdine/storm/codec/json">JSON</a> (standaard), <a href="https://godoc.org/github.com/asdine/storm/codec/gob">GOB</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/sereal">Sereal</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/protobuf">Protocol Buffers</a> en <a href="https://godoc.org/github.com/asdine/storm/codec/msgpack">MessagePack</a>.</p>
<p>Deze kun je gebruiken door het relevante pakket te importeren en deze codec te gebruiken om Storm te configureren. Het onderstaande voorbeeld toont alle varianten (zonder foutafhandeling):</p>
<pre><code class="language-go hljs"><span class="hljs-keyword">import</span> (
  <span class="hljs-string">"github.com/asdine/storm/v3"</span>
  <span class="hljs-string">"github.com/asdine/storm/v3/codec/gob"</span>
  <span class="hljs-string">"github.com/asdine/storm/v3/codec/json"</span>
  <span class="hljs-string">"github.com/asdine/storm/v3/codec/sereal"</span>
  <span class="hljs-string">"github.com/asdine/storm/v3/codec/protobuf"</span>
  <span class="hljs-string">"github.com/asdine/storm/v3/codec/msgpack"</span>
)

<span class="hljs-keyword">var</span> gobDb, _ = storm.Open(<span class="hljs-string">"gob.db"</span>, storm.Codec(gob.Codec))
<span class="hljs-keyword">var</span> jsonDb, _ = storm.Open(<span class="hljs-string">"json.db"</span>, storm.Codec(json.Codec))
<span class="hljs-keyword">var</span> serealDb, _ = storm.Open(<span class="hljs-string">"sereal.db"</span>, storm.Codec(sereal.Codec))
<span class="hljs-keyword">var</span> protobufDb, _ = storm.Open(<span class="hljs-string">"protobuf.db"</span>, storm.Codec(protobuf.Codec))
<span class="hljs-keyword">var</span> msgpackDb, _ = storm.Open(<span class="hljs-string">"msgpack.db"</span>, storm.Codec(msgpack.Codec))
</code></pre>
<p><strong>Tip</strong>: Het toevoegen van Storm-tags aan gegenereerde Protobuf-bestanden kan lastig zijn. Een goede oplossing is om <a href="https://github.com/favadi/protoc-go-inject-tag">deze tool</a> te gebruiken om tags toe te voegen tijdens het compileren.</p>
<h4>Bestaande Bolt-verbinding gebruiken</h4>
<p>Je kunt een bestaande verbinding gebruiken en deze aan Storm doorgeven</p>
<pre><code class="language-go hljs">bDB, _ := bolt.Open(filepath.Join(dir, <span class="hljs-string">"bolt.db"</span>), <span class="hljs-number">0600</span>, &amp;bolt.Options{Timeout: <span class="hljs-number">10</span> * time.Second})
db := storm.Open(<span class="hljs-string">"my.db"</span>, storm.UseDB(bDB))
</code></pre>
<h4>Batch-modus</h4>
<p>Batch-modus kan worden ingeschakeld om gelijktijdige schrijfacties te versnellen (zie <a href="https://github.com/coreos/bbolt#batch-read-write-transactions">Batch read-write transactions</a>)</p>
<pre><code class="language-go hljs">db := storm.Open(<span class="hljs-string">"my.db"</span>, storm.Batch())
</code></pre>
<h2>Nodes en geneste buckets</h2>
<p>Storm maakt gebruik van de geneste buckets-functionaliteit van BoltDB door gebruik te maken van <code>storm.Node</code>.<br>Een <code>storm.Node</code> is het onderliggende object dat door <code>storm.DB</code> wordt gebruikt om een bucket te manipuleren.<br>Om een geneste bucket aan te maken en dezelfde API als <code>storm.DB</code> te gebruiken, kun je de <code>DB.From</code>-methode gebruiken.</p>
<pre><code class="language-go hljs">repo := db.From(<span class="hljs-string">"repo"</span>)

err := repo.Save(&amp;Issue{
  Title: <span class="hljs-string">"I want more features"</span>,
  Author: user.ID,
})

err = repo.Save(newRelease(<span class="hljs-string">"0.10"</span>))

<span class="hljs-keyword">var</span> issues []Issue
err = repo.Find(<span class="hljs-string">"Author"</span>, user.ID, &amp;issues)

<span class="hljs-keyword">var</span> release Release
err = repo.One(<span class="hljs-string">"Tag"</span>, <span class="hljs-string">"0.10"</span>, &amp;release)
</code></pre>
<p>Je kunt ook nodes koppelen om een hiërarchie te maken</p>
<pre><code class="language-go hljs">chars := db.From(<span class="hljs-string">"characters"</span>)
heroes := chars.From(<span class="hljs-string">"heroes"</span>)
enemies := chars.From(<span class="hljs-string">"enemies"</span>)

items := db.From(<span class="hljs-string">"items"</span>)
potions := items.From(<span class="hljs-string">"consumables"</span>).From(<span class="hljs-string">"medicine"</span>).From(<span class="hljs-string">"potions"</span>)
</code></pre>
<p>Je kunt zelfs de volledige hiërarchie als argumenten meegeven aan <code>From</code>:</p>
<pre><code class="language-go hljs">privateNotes := db.From(<span class="hljs-string">"notes"</span>, <span class="hljs-string">"private"</span>)
workNotes :=  db.From(<span class="hljs-string">"notes"</span>, <span class="hljs-string">"work"</span>)
</code></pre>
<h3>Node-opties</h3>
<p>Een Node kan ook worden geconfigureerd. Het activeren van een optie op een Node maakt een kopie, dus een Node is altijd thread-safe.</p>
<pre><code class="language-go hljs">n := db.From(<span class="hljs-string">"my-node"</span>)
</code></pre>
<p>Geef een bolt.Tx-transactie aan de Node</p>
<pre><code class="language-go hljs">n = n.WithTransaction(tx)
</code></pre>
<p>Batch-modus inschakelen</p>
<pre><code class="language-go hljs">n = n.WithBatch(<span class="hljs-literal">true</span>)
</code></pre>
<p>Gebruik een Codec</p>
<pre><code class="language-go hljs">n = n.WithCodec(gob.Codec)
</code></pre>
<h2>Eenvoudige Key/Value store</h2>
<p>Storm kan gebruikt worden als een eenvoudige, robuuste key/value store waarin alles kan worden opgeslagen.<br>De key en de value kunnen van elk type zijn, zolang de key geen zero value is.</p>
<p>Data opslaan:</p>
<pre><code class="language-go hljs">db.Set(<span class="hljs-string">"logs"</span>, time.Now(), <span class="hljs-string">"I'm eating my breakfast man"</span>)
db.Set(<span class="hljs-string">"sessions"</span>, bson.NewObjectId(), &amp;someUser)
db.Set(<span class="hljs-string">"weird storage"</span>, <span class="hljs-string">"754-3010"</span>, <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
  <span class="hljs-string">"hair"</span>: <span class="hljs-string">"blond"</span>,
  <span class="hljs-string">"likes"</span>: []<span class="hljs-type">string</span>{<span class="hljs-string">"cheese"</span>, <span class="hljs-string">"star wars"</span>},
})
</code></pre>
<p>Data ophalen:</p>
<pre><code class="language-go hljs">user := User{}
db.Get(<span class="hljs-string">"sessions"</span>, someObjectId, &amp;user)

<span class="hljs-keyword">var</span> details <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}
db.Get(<span class="hljs-string">"weird storage"</span>, <span class="hljs-string">"754-3010"</span>, &amp;details)
</code></pre>
<p>db.Get("sessions", someObjectId, &amp;details)</p>
<pre><code class="hljs language-css">
Gegevens verwijderen :

```go
db.<span class="hljs-built_in">Delete</span>(<span class="hljs-string">"sessions"</span>, someObjectId)
db.<span class="hljs-built_in">Delete</span>(<span class="hljs-string">"weird storage"</span>, <span class="hljs-string">"754-3010"</span>)
</code></pre>
<p>Je kunt andere nuttige methoden vinden in de <a href="https://godoc.org/github.com/asdine/storm#KeyValueStore">documentatie</a>.</p>
<h2>BoltDB</h2>
<p>BoltDB is nog steeds eenvoudig toegankelijk en kan zoals gebruikelijk worden gebruikt</p>
<pre><code class="language-go hljs">db.Bolt.View(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(tx *bolt.Tx)</span></span> <span class="hljs-type">error</span> {
  bucket := tx.Bucket([]<span class="hljs-type">byte</span>(<span class="hljs-string">"my bucket"</span>))
  val := bucket.Get([]<span class="hljs-type">byte</span>(<span class="hljs-string">"any id"</span>))
  fmt.Println(<span class="hljs-type">string</span>(val))
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
})
</code></pre>
<p>Een transactie kan ook aan Storm worden doorgegeven</p>
<pre><code class="language-go hljs">db.Bolt.Update(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(tx *bolt.Tx)</span></span> <span class="hljs-type">error</span> {
  ...
  dbx := db.WithTransaction(tx)
  err = dbx.Save(&amp;user)
  ...
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
})
</code></pre>
<h2>Licentie</h2>
<p>MIT</p>
<h2>Credits</h2>
<ul>
<li><a href="https://github.com/asdine">Asdine El Hrychy</a></li>
<li><a href="https://github.com/bep">Bjørn Erik Pedersen</a></li>
</ul>
<hr>
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-11</p>
<hr>
</div>
    </div>

    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async=""></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
    


</body></html>