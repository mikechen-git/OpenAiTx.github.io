<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>immich-all-in-one - eric-gitta-moore/immich-all-in-one</title>
    <meta name="title" content="immich-all-in-one - eric-gitta-moore/immich-all-in-one">
    <meta name="description" content="eric-gitta-moore/immich-all-in-one - GitHub repository fr documentation and informationImmich + cn-clip + RapidOCR + InsightFace ~~Plan de migrer ultérieurement vers ente-io/ente car j'ai besoin de S3 pour stocker les photos~~ ente a finalement trop peu de fonctionnalités Passage à l’utilisation de juicedata/juicefs pour monter S3 Présentation du projet Ce projet est une solution d'amélioration des capacités IA du système de gestion de photos Immich. Les fonctionnalités natives d'Immich sont principalement étendues via les composants suivants : inference-gateway : service passerelle écrit en Go, responsable de la répartition intelligente des requêtes de machine learning d’Immich mt-photos-ai : service IA basé sur Python et FastAPI, intégrant les modèles RapidOCR et cn-clip Extension des fonctions d’Immich, dont la recherche OCR, le retraitement AI unitaire des médias, le tri hybride avec les vecteurs texte OCR et CLIP Ajout de la segmentation chinoise zhparser à PostgreSQL Fonctionnalités principales 1. Reconnaissance de texte OCR et recherche Utilisation de RapidOCR pour reconnaître le texte dans...">
    <meta name="keywords" content="eric-gitta-moore, immich-all-in-one, GitHub, repository, fr documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/eric-gitta-moore/immich-all-in-one/README-fr.html">
    <meta property="og:title" content="immich-all-in-one - eric-gitta-moore/immich-all-in-one">
    <meta property="og:description" content="eric-gitta-moore/immich-all-in-one - GitHub repository fr documentation and information">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/eric-gitta-moore/immich-all-in-one" id="githubRepoLink" target="_blank">eric-gitta-moore/immich-all-in-one</a>
<br>
<h1 style="display: none;">Immich + cn-clip + RapidOCR + InsightFace ~~Plan de migrer ultérieurement vers ente-io/ente car j'ai besoin de S3 pour stocker les photos~~ ente a finalement trop peu de fonctionnalités Passage à l’utilisation de juicedata/juicefs pour monter S3 Présentation du projet Ce projet est une solution d'amélioration des capacités IA du système de gestion de photos Immich. Les fonctionnalités natives d'Immich sont principalement étendues via les composants suivants : inference-gateway : service passerelle écrit en Go, responsable de la répartition intelligente des requêtes de machine learning d’Immich mt-photos-ai : service IA basé sur Python et FastAPI, intégrant les modèles RapidOCR et cn-clip Extension des fonctions d’Immich, dont la recherche OCR, le retraitement AI unitaire des médias, le tri hybride avec les vecteurs texte OCR et CLIP Ajout de la segmentation chinoise zhparser à PostgreSQL Fonctionnalités principales 1. Reconnaissance de texte OCR et recherche Utilisation de RapidOCR pour reconnaître le texte dans...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>Immich + cn-clip + RapidOCR + InsightFace</h1>
<div style="text-align: center"><p><a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=en"><img src="https://img.shields.io/badge/EN-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=zh-CN"><img src="https://img.shields.io/badge/简中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=zh-TW"><img src="https://img.shields.io/badge/繁中-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=ja"><img src="https://img.shields.io/badge/日本語-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=ko"><img src="https://img.shields.io/badge/한국어-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=th"><img src="https://img.shields.io/badge/ไทย-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=fr"><img src="https://img.shields.io/badge/Français-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=de"><img src="https://img.shields.io/badge/Deutsch-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=es"><img src="https://img.shields.io/badge/Español-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=it"><img src="https://img.shields.io/badge/Italiano-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=ru"><img src="https://img.shields.io/badge/Русский-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=pt"><img src="https://img.shields.io/badge/Português-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=nl"><img src="https://img.shields.io/badge/Nederlands-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=pl"><img src="https://img.shields.io/badge/Polski-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=ar"><img src="https://img.shields.io/badge/العربية-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=tr"><img src="https://img.shields.io/badge/Türkçe-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=eric-gitta-moore&project=immich-all-in-one&lang=vi"><img src="https://img.shields.io/badge/Tiếng Việt-white" alt="version"></a> </p></div>
<blockquote>
<p>~~Plan de migrer ultérieurement vers ente-io/ente car j'ai besoin de S3 pour stocker les photos~~</p>
<p>ente a finalement trop peu de fonctionnalités</p>
<p>Passage à l’utilisation de juicedata/juicefs pour monter S3</p>
</blockquote>
<h2>Présentation du projet</h2>
<p>Ce projet est une solution d'amélioration des capacités IA du système de gestion de photos <a href="https://github.com/immich-app/immich">Immich</a>. Les fonctionnalités natives d'Immich sont principalement étendues via les composants suivants :</p>
<ul>
<li><strong>inference-gateway</strong> : service passerelle écrit en Go, responsable de la répartition intelligente des requêtes de machine learning d’Immich</li>
<li><strong>mt-photos-ai</strong> : service IA basé sur Python et FastAPI, intégrant les modèles RapidOCR et cn-clip</li>
<li>Extension des fonctions d’Immich, dont la recherche OCR, le retraitement AI unitaire des médias, le tri hybride avec les vecteurs texte OCR et CLIP</li>
<li>Ajout de la segmentation chinoise zhparser à PostgreSQL</li>
</ul>
<h2>Fonctionnalités principales</h2>
<h3>1. Reconnaissance de texte OCR et recherche</h3>
<ul>
<li>Utilisation de RapidOCR pour reconnaître le texte dans les images</li>
<li>Prise en charge de la reconnaissance de texte mixte chinois-anglais</li>
<li>Fonction de recherche basée sur le contenu textuel des images</li>
</ul>
<h3>2. Traitement de vecteurs d’image CLIP</h3>
<ul>
<li>Correspondance image-texte chinois plus précise basée sur le modèle cn-clip</li>
<li>Prise en charge de la recherche sémantique pour une précision accrue</li>
</ul>
<h3>3. Retraitement AI unitaire des médias</h3>
<ul>
<li>Re-génération des données OCR pour une seule image/vidéo</li>
<li>Re-génération des vecteurs CLIP pour une seule image/vidéo</li>
<li>Possibilité de rafraîchir manuellement en cas de résultats non précis</li>
</ul>
<h2>Architecture du système</h2>
<pre><code>┌─────────────┐      ┌──────────────────┐      ┌───────────────┐
│             │      │                  │      │               │
│   Immich    │─────▶│ inference-gateway│─────▶│  Immich ML    │
│   Server    │      │    (Go网关)      │      │   Server      │
│             │      │                  │      │               │
└─────────────┘      └──────────────────┘      └───────────────┘
                              │
                              │ requêtes OCR/CLIP
                              ▼
                     ┌──────────────────┐
                     │                  │
                     │   mt-photos-ai   │
                     │  (service Python)│
                     │                  │
                     └──────────────────┘
</code></pre>
<h2>Détail des composants</h2>
<h3>inference-gateway</h3>
<p>Service passerelle écrit en Go, responsabilités principales :</p>
<ul>
<li>Reçoit les requêtes ML d’Immich</li>
<li>Transfère les requêtes OCR et CLIP vers le service mt-photos-ai selon le type</li>
<li>Transfère les autres requêtes ML (ex : reconnaissance faciale) vers le service ML natif d’Immich</li>
<li>Gère l’authentification et la conversion de formats de données</li>
</ul>
<h3>mt-photos-ai</h3>
<p>Service IA écrit en Python et FastAPI, fournit :</p>
<ul>
<li>API de reconnaissance de texte OCR (basé sur RapidOCR)</li>
<li>API de traitement de vecteurs CLIP (basé sur cn-clip)</li>
<li>Prise en charge de l’accélération GPU</li>
</ul>
<h2>Guide de déploiement</h2>
<h3>Prérequis</h3>
<ul>
<li>Docker et Docker Compose</li>
<li>GPU NVIDIA (optionnel, mais recommandé pour accélérer le traitement)</li>
<li>Espace de stockage suffisant</li>
</ul>
<h3>Guide de configuration</h3>
<ol>
<li><strong>Configuration de inference-gateway</strong></li>
</ol>
<p>Principales variables d’environnement :</p>
<pre><code>IMMICH_API=http://localhost:3003  # Adresse de l’API Immich
MT_PHOTOS_API=http://localhost:8060  # Adresse du service mt-photos-ai
MT_PHOTOS_API_KEY=mt_photos_ai_extra  # Clé API
PORT=8080  # Port d’écoute de la passerelle
</code></pre>
<ol start="2">
<li><strong>Configuration de mt-photos-ai</strong></li>
</ol>
<p>Principales variables d’environnement :</p>
<pre><code>CLIP_MODEL=ViT-B-16  # Nom du modèle CLIP
CLIP_DOWNLOAD_ROOT=./models/clip  # Chemin de téléchargement du modèle
DEVICE=cuda  # ou cpu, appareil d’inférence
HTTP_PORT=8060  # Port d’écoute du service
</code></pre>
<h3>Étapes de déploiement</h3>
<ol>
<li>Cloner le dépôt :</li>
</ol>
<pre><code class="language-bash">git clone https://github.com/votre-utilisateur/immich-all-in-one.git
cd immich-all-in-one
</code></pre>
<ol start="2">
<li>Démarrer les services :</li>
</ol>
<pre><code class="language-bash">docker-compose up -d
</code></pre>
<h2>Mode d’emploi</h2>
<ol>
<li><strong>Configurer Immich pour utiliser le service ML personnalisé</strong></li>
</ol>
<p>Dans le fichier de configuration d’Immich, pointer l’adresse du service ML vers inference-gateway :</p>
<pre><code>MACHINE_LEARNING_URL=http://inference-gateway:8080
</code></pre>
<ol start="2">
<li><strong>Utilisation de la recherche OCR</strong></li>
</ol>
<ul>
<li>Dans la barre de recherche Immich, utiliser le préfixe <code>ocr:</code> pour effectuer une recherche OCR</li>
<li>Par exemple : <code>ocr:facture</code> recherchera les photos contenant le mot &quot;facture&quot; dans l’image</li>
</ul>
<ol start="3">
<li><strong>Retraitement AI unitaire des médias</strong></li>
</ol>
<ul>
<li>Sur la page de détails d’une photo, cliquer sur le menu</li>
<li>Choisir &quot;Re-générer les données OCR&quot; ou &quot;Re-générer les vecteurs CLIP&quot;</li>
<li>Le système retraitera les données AI de la photo</li>
</ul>
<h2>Guide de développement</h2>
<h3>inference-gateway (Go)</h3>
<p>Compiler et exécuter :</p>
<pre><code class="language-bash">cd inference-gateway
go build
./inference-gateway
</code></pre>
<h3>mt-photos-ai (Python)</h3>
<p>Mise en place de l’environnement de développement :</p>
<pre><code class="language-bash">cd mt-photos-ai
pip install -r requirements.txt
python -m app.main
</code></pre>
<h2>Licence</h2>
<p>Ce projet est open source sous licence MIT.</p>
<h2>Remerciements</h2>
<ul>
<li><a href="https://github.com/immich-app/immich">Immich</a> - Solution open source d’auto-hébergement pour la sauvegarde de photos et vidéos</li>
<li><a href="https://github.com/RapidAI/RapidOCR">RapidOCR</a> - Bibliothèque OCR multiplateforme basée sur PaddleOCR</li>
<li><a href="https://github.com/OFA-Sys/Chinese-CLIP">cn-clip</a> - Modèle de pré-entraînement de comparaison multimodale pour le chinois</li>
</ul>
<hr />
<p>Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx">Open Ai Tx</a> | Last indexed: 2025-06-09</p>
<hr />

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Statcounter and other scripts can be added here -->
</body>
</html>