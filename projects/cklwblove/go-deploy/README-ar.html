<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>go-deploy - cklwblove/go-deploy ar</title>
    <meta name="title" content="go-deploy - cklwblove/go-deploy ar | أداة النشر Go-Deploy أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP. الميزات الوظيفية ✅ نقل آمن: استخدام بروتوكول...">
    <meta name="description" content="cklwblove/go-deploy - GitHub repository ar documentation and information | أداة النشر Go-Deploy أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP. الميزات الوظيفية ✅ نقل آمن: استخدام بروتوكول...">
    <meta name="keywords" content="cklwblove, go-deploy, GitHub, repository, ar documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/cklwblove/go-deploy/README-ar.html">
    <meta property="og:title" content="go-deploy - cklwblove/go-deploy ar | أداة النشر Go-Deploy أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP. الميزات الوظيفية ✅ نقل آمن: استخدام بروتوكول...">
    <meta property="og:description" content="cklwblove/go-deploy - GitHub repository ar documentation and information | أداة النشر Go-Deploy أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP. الميزات الوظيفية ✅ نقل آمن: استخدام بروتوكول...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div style="position: fixed; top: 2px; left: 2px; z-index: 2000; background: rgba(255,255,255,0.95); border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 4px 14px; font-size: 15px; color: #222; font-family: 'Segoe UI', Arial, sans-serif; font-weight: 500; letter-spacing: 0.5px;">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" style="color: #0366d6; text-decoration: none; font-weight: 600;">Open AI Tx</a>
    </div>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/cklwblove/go-deploy" id="githubRepoLink" target="_blank">cklwblove/go-deploy</a>
<h1 style="display: none;">أداة النشر Go-Deploy أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP. الميزات الوظيفية ✅ نقل آمن: استخدام بروتوكول...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>أداة النشر Go-Deploy</h1>
<p>أداة نشر آلي مبنية بلغة Go، تدعم رفع نواتج البناء المحلية إلى الخادم البعيد عبر بروتوكول SFTP.</p>
<h2>الميزات الوظيفية</h2>
<ul>
<li>✅ <strong>نقل آمن</strong>: استخدام بروتوكول SFTP، يعتمد على تشفير SSH</li>
<li>✅ <strong>مزامنة الدلائل</strong>: رفع هيكلية الدليل بالكامل بشكل متكرر مع الحفاظ على بنية الملفات</li>
<li>✅ <strong>إنشاء ذكي</strong>: إنشاء هيكلية الدليل البعيد تلقائيًا</li>
<li>✅ <strong>تكيّف المسارات</strong>: حساب المسار المحلي تلقائيًا بناءً على موقع الملف التنفيذي، دون الحاجة لمعرفة دليل التنفيذ</li>
<li>✅ <strong>دعم ملفات الإعداد</strong>: يدعم ملفات إعداد بصيغة JSON، لتسهيل إدارة إعدادات البيئات المختلفة</li>
<li>✅ <strong>استثناء الملفات</strong>: يدعم أنماط البدل لاستثناء الملفات غير المراد رفعها</li>
<li>✅ <strong>نسخ احتياطي تلقائي</strong>: إمكانية عمل نسخة احتياطية للملفات البعيدة قبل الرفع تلقائيًا</li>
<li>✅ <strong>آلية إعادة المحاولة</strong>: إعادة المحاولة تلقائيًا عند فشل الرفع، لزيادة نسبة النجاح</li>
<li>✅ <strong>إحصائيات مفصلة</strong>: عرض عدد الملفات المرفوعة، حجم النقل، الوقت المستغرق والسرعة</li>
<li>✅ <strong>عرض التقدم</strong>: عرض تقدم الرفع ومعلومات الملفات بشكل لحظي</li>
<li>✅ <strong>معالجة الأخطاء</strong>: معالجة شاملة للأخطاء وإخراج السجلات</li>
</ul>
<h2>متطلبات النظام</h2>
<ul>
<li>Go 1.18 أو إصدار أعلى</li>
<li>يجب أن يدعم الخادم الهدف بروتوكول SSH/SFTP</li>
</ul>
<h2>تعليمات التثبيت</h2>
<h3>1. استنساخ المشروع</h3>
<pre><code class="language-bash">git clone &lt;your-repo-url&gt;
cd go-deploy
</code></pre>
<h3>2. تهيئة وحدة Go</h3>
<pre><code class="language-bash">go mod init go-deploy
go mod tidy
</code></pre>
<h3>3. تثبيت الاعتمادات</h3>
<p>سيقوم البرنامج تلقائيًا بتحميل الاعتمادات التالية:</p>
<ul>
<li><code>github.com/pkg/sftp</code> - عميل SFTP</li>
<li><code>golang.org/x/crypto/ssh</code> - عميل SSH</li>
</ul>
<h2>شرح الإعدادات</h2>
<p>يدعم البرنامج طريقتين للإعداد:</p>
<h3>1. استخدام ملف إعداد (موصى به)</h3>
<p>قم بنسخ <code>config.example.json</code> إلى <code>config.json</code> وعدّل الإعدادات:</p>
<pre><code class="language-bash">cp config.example.json config.json
</code></pre>
<p>ثم حرر ملف <code>config.json</code>:</p>
<pre><code class="language-json">{
  &quot;server&quot;: {
    &quot;host&quot;: &quot;your-server-ip&quot;,
    &quot;port&quot;: 22,
    &quot;username&quot;: &quot;your-username&quot;,
    &quot;password&quot;: &quot;your-password&quot;,
    &quot;timeout&quot;: 10
  },
  &quot;paths&quot;: {
    &quot;local&quot;: &quot;../../unpackage/dist/build/web&quot;,
    &quot;remote&quot;: &quot;/opt/your-path/dist&quot;
  },
  &quot;options&quot;: {
    &quot;backup&quot;: true,
    &quot;backup_suffix&quot;: &quot;.backup&quot;,
    &quot;exclude_patterns&quot;: [
      &quot;*.log&quot;,
      &quot;*.map&quot;,
      &quot;.DS_Store&quot;,
      &quot;node_modules&quot;
    ],
    &quot;max_retries&quot;: 3,
    &quot;chunk_size&quot;: 1048576
  }
}
</code></pre>
<h4>شرح عناصر الإعداد</h4>
<p><strong>إعدادات server</strong>:</p>
<ul>
<li><code>host</code>: عنوان خادم SSH</li>
<li><code>port</code>: منفذ SSH، عادة 22</li>
<li><code>username</code>: اسم مستخدم SSH</li>
<li><code>password</code>: كلمة مرور SSH (يوصى باستخدام التوثيق بالمفتاح في بيئة الإنتاج)</li>
<li><code>timeout</code>: مهلة الاتصال (بالثواني)</li>
</ul>
<p><strong>إعدادات paths</strong>:</p>
<ul>
<li><code>local</code>: مسار الدليل المحلي، يدعم المسارات النسبية والمطلقة</li>
<li><code>remote</code>: مسار الدليل البعيد، يجب أن يكون مسارًا مطلقًا</li>
</ul>
<p><strong>إعدادات options</strong>:</p>
<ul>
<li><code>backup</code>: هل يتم إنشاء نسخة احتياطية للملفات البعيدة الموجودة قبل الرفع</li>
<li><code>backup_suffix</code>: لاحقة ملفات النسخ الاحتياطي، يمكن تخصيصها، وإذا لم توجد ملفات للنسخ الاحتياطي يتم تخطي النسخ</li>
<li><code>exclude_patterns</code>: أنماط استثناء الملفات، يدعم البدل</li>
<li><code>max_retries</code>: أقصى عدد لمحاولات إعادة الرفع عند الفشل</li>
<li><code>chunk_size</code>: حجم كتلة نقل الملفات (بايت، لم يتم تفعيلها بعد)</li>
</ul>
<h3>2. الإعداد الافتراضي (وضع التوافق)</h3>
<p>إذا لم يوجد ملف <code>config.json</code> سيستخدم البرنامج الإعدادات الافتراضية المدمجة، للحفاظ على التوافق مع الإصدارات السابقة.</p>
<h4>أولوية ملفات الإعداد</h4>
<ol>
<li><strong>ملف الإعداد المحدد بسطر الأوامر</strong>: الملف المحدد عبر معامل <code>--config</code></li>
<li><strong>ملف الإعداد الافتراضي</strong>: <code>config.json</code> في الدليل الحالي</li>
<li><strong>الإعداد الافتراضي المدمج</strong>: إذا لم يوجد أي مما سبق، يستخدم البرنامج الإعدادات المدمجة</li>
</ol>
<h4>قواعد معالجة المسارات</h4>
<ul>
<li><p><strong>مسار ملف الإعداد</strong>:</p>
<ul>
<li>المسار النسبي: يعتمد على دليل الملف التنفيذي</li>
<li>المسار المطلق: يستخدم كما هو</li>
</ul>
</li>
<li><p><strong>مسار الدليل المحلي</strong>:</p>
<ul>
<li>المسار النسبي: يعتمد على دليل الملف التنفيذي</li>
<li>المسار المطلق: يستخدم كما هو</li>
</ul>
</li>
</ul>
<h2>شرح التشغيل</h2>
<h3>معلمات سطر الأوامر</h3>
<p>يدعم البرنامج معلمات سطر الأوامر التالية:</p>
<pre><code class="language-bash"># عرض معلومات المساعدة
./deploy --help

# عرض معلومات الإصدار  
./deploy --version

# استخدام ملف الإعداد الافتراضي config.json
./deploy

# استخدام ملف إعداد محدد
./deploy --config prod.json

# استخدام ملف إعداد بمسار مطلق
./deploy --config /path/to/config.json
</code></pre>
<h3>التشغيل في بيئة التطوير</h3>
<pre><code class="language-bash"># استخدام الإعداد الافتراضي
go run main.go

# استخدام ملف إعداد محدد
go run main.go --config test.json

# عرض المساعدة
go run main.go --help
</code></pre>
<h3>التشغيل بعد الترجمة</h3>
<pre><code class="language-bash"># الترجمة
go build -o deploy main.go

# التشغيل باستخدام الإعداد الافتراضي
./deploy

# التشغيل باستخدام ملف إعداد محدد
./deploy --config prod.json
</code></pre>
<h2>شرح التغليف</h2>
<h3>1. تغليف لمنصة محلية</h3>
<pre><code class="language-bash"># ترجمة ملف تنفيذي لمنصة التشغيل الحالية
go build -o deploy main.go
</code></pre>
<h3>2. تغليف عبر الأنظمة</h3>
<h4>Linux 64-بت</h4>
<pre><code class="language-bash">GOOS=linux GOARCH=amd64 go build -o deploy-linux-amd64 main.go
</code></pre>
<h4>Windows 64-بت</h4>
<pre><code class="language-bash">GOOS=windows GOARCH=amd64 go build -o deploy-windows-amd64.exe main.go
</code></pre>
<h4>macOS 64 بت</h4>
<pre><code class="language-bash">GOOS=darwin GOARCH=amd64 go build -o deploy-darwin-amd64 main.go
</code></pre>
<h4>macOS ARM64 (M1/M2)</h4>
<pre><code class="language-bash">GOOS=darwin GOARCH=arm64 go build -o deploy-darwin-arm64 main.go
</code></pre>
<h3>3. تحسين الحزمة (تقليل حجم الملف)</h3>
<pre><code class="language-bash"># إزالة معلومات التصحيح وجداول الرموز
go build -ldflags=&quot;-s -w&quot; -o deploy main.go

# ضغط باستخدام UPX (يجب تثبيت UPX أولاً)
upx --best deploy
</code></pre>
<h3>4. سكريبت تجميع متعدد الدُفعات</h3>
<p>أنشئ سكريبت <code>build.sh</code>:</p>
<pre><code class="language-bash">#!/bin/bash

# إنشاء مجلد البناء
mkdir -p builds

# بناء نسخ المنصات المختلفة
echo &quot;بناء نسخة Linux 64 بت...&quot;
GOOS=linux GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-linux-amd64 main.go

echo &quot;بناء نسخة Windows 64 بت...&quot;
GOOS=windows GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-windows-amd64.exe main.go

echo &quot;بناء نسخة macOS 64 بت...&quot;
GOOS=darwin GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-darwin-amd64 main.go

echo &quot;بناء نسخة macOS ARM64...&quot;
GOOS=darwin GOARCH=arm64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-darwin-arm64 main.go

echo &quot;اكتمل البناء!&quot;
ls -la builds/
</code></pre>
<p>تشغيل السكريبت:</p>
<pre><code class="language-bash">chmod +x build.sh
./build.sh
</code></pre>
<h2>أمثلة الاستخدام</h2>
<h3>عرض معلومات المساعدة</h3>
<pre><code class="language-bash">$ ./deploy --help
أداة النشر Go-Deploy

الاستخدام: ./deploy [خيارات]

الخيارات:
  -config string
        مسار ملف الإعدادات (default &quot;config.json&quot;)
  -help
        عرض معلومات المساعدة
  -version
        عرض معلومات الإصدار

أمثلة:
  ./deploy                           # استخدام ملف الإعدادات الافتراضي config.json
  ./deploy --config prod.json        # استخدام ملف إعدادات محدد
  ./deploy --config /path/to/config.json  # استخدام ملف إعدادات بمسار مطلق
</code></pre>
<h3>استخدام ملف إعدادات محدد</h3>
<pre><code class="language-bash">$ ./deploy --config prod.json
بدء تنفيذ برنامج النشر...
محاولة قراءة ملف الإعدادات: /path/to/go-deploy/prod.json
يتم استخدام ملف الإعدادات...
المجلد المحلي /path/to/project/dist موجود
يتم الاتصال بخادم SSH...
تم الاتصال بخادم SSH بنجاح
...
</code></pre>
<h3>استخدام ملف الإعدادات</h3>
<pre><code class="language-bash">$ ./deploy
بدء تنفيذ برنامج النشر...
محاولة قراءة ملف الإعدادات: /path/to/go-deploy/config.json
يتم استخدام ملف الإعدادات...
المجلد المحلي /path/to/project/unpackage/dist/build/web موجود
يتم الاتصال بخادم SSH...
تم الاتصال بخادم SSH بنجاح
يتم إنشاء عميل SFTP...
تم إنشاء عميل SFTP بنجاح
الاستعداد للرفع إلى المجلد البعيد: /opt/xsoft/nginx/html/app/dist
بدء رفع المجلد...
بدء استعراض المجلد المحلي: /path/to/project/unpackage/dist/build/web
إنشاء مجلد: /opt/xsoft/nginx/html/app/dist
تم استبعاد الملف static/js/app.js.map، تم تخطي الرفع
إنشاء نسخة احتياطية: /opt/xsoft/nginx/html/app/dist/index.html -&gt; /opt/xsoft/nginx/html/app/dist/index.html.backup
رفع الملف: /path/to/project/unpackage/dist/build/web/index.html -&gt; /opt/xsoft/nginx/html/app/dist/index.html
تم استبعاد الملف .DS_Store، تم تخطي الرفع
رفع الملف: /path/to/project/unpackage/dist/build/web/static/css/app.css -&gt; /opt/xsoft/nginx/html/app/dist/static/css/app.css
فشل الرفع (محاولة 1/3): خطأ في الشبكة
إعادة محاولة رفع الملف (2/3): /path/to/project/unpackage/dist/build/web/static/js/app.js
رفع الملف: /path/to/project/unpackage/dist/build/web/static/js/app.js -&gt; /opt/xsoft/nginx/html/app/dist/static/js/app.js
...
تم رفع المجلد بنجاح!
الإحصاءات:
  - عدد الملفات المرفوعة: 485
  - عدد المجلدات المنشأة: 18
  - حجم النقل: 25.8 MB
  - زمن الرفع: 38.5s
  - الزمن الكلي: 39.2s
  - سرعة النقل: 0.67 MB/s
</code></pre>
<h2>ملاحظات هامة</h2>
<ol>
<li><p><strong>الأمان</strong>:</p>
<ul>
<li>يوصى باستخدام المصادقة بمفتاح SSH في بيئة الإنتاج بدلاً من المصادقة بكلمة المرور</li>
<li>حالياً يستخدم <code>ssh.InsecureIgnoreHostKey()</code>، يجب في بيئة الإنتاج التحقق من مفتاح المضيف</li>
</ul>
</li>
<li><p><strong>الشبكة</strong>:</p>
<ul>
<li>تأكد من أن الجهاز المحلي يمكنه الوصول إلى المنفذ 22 في الخادم الهدف</li>
<li>سرعة النقل تعتمد على عرض النطاق الترددي للشبكة وأداء الخادم</li>
</ul>
</li>
<li><p><strong>الصلاحيات</strong>:</p>
<ul>
<li>تأكد أن مستخدم SSH لديه صلاحية الكتابة على المجلد الهدف</li>
<li>إذا لزم الأمر، قد تحتاج لاستخدام صلاحيات sudo</li>
</ul>
</li>
<li><p><strong>المسارات</strong>:</p>
<ul>
<li>يتم حساب المسار المحلي تلقائياً بناءً على مكان الملف التنفيذي، لا داعي للقلق بشأن مجلد التنفيذ</li>
<li>المسار البعيد يجب أن يكون مطلقاً</li>
</ul>
</li>
</ol>
<h2>استكشاف الأخطاء وإصلاحها</h2>
<h3>المشاكل الشائعة</h3>
<ol>
<li><p><strong>انتهاء مهلة الاتصال</strong></p>
<pre><code>فشل الاتصال بخادم SSH: dial tcp: i/o timeout
</code></pre>
<ul>
<li>تحقق من عنوان الخادم والمنفذ</li>
<li>تأكد من اتصال الشبكة</li>
<li>تحقق من إعدادات الجدار الناري</li>
</ul>
</li>
<li><p><strong>فشل المصادقة</strong></p>
<pre><code>فشل تسجيل الدخول: ssh: handshake failed
</code></pre>
<ul>
<li>تحقق من اسم المستخدم وكلمة المرور</li>
<li>تأكد أن خدمة SSH تعمل</li>
<li>تحقق من إعدادات SSH</li>
</ul>
</li>
<li><p><strong>خطأ في الصلاحيات</strong></p>
<pre><code>فشل إنشاء المجلد: permission denied
</code></pre>
<ul>
<li>تحقق من صلاحية المستخدم على المجلد الهدف</li>
<li>قد تحتاج لاستخدام sudo أو تغيير مالك المجلد</li>
</ul>
</li>
<li><p><strong>المجلد المحلي غير موجود</strong></p>
<pre><code>خطأ: المجلد المحلي /path/to/unpackage/dist/build/web غير موجود
</code></pre>
<ul>
<li>تأكد من إتمام البناء المحلي</li>
<li>تحقق من هيكلية مجلد المشروع</li>
<li>البرنامج سيحسب المسار تلقائياً، لا داعي لتعديل مجلد العمل يدوياً</li>
</ul>
</li>
</ol>
<h2>تعليمات التطوير</h2>
<h3>هيكلية المشروع</h3>
<pre><code>go-deploy/
├── main.go                 # ملف البرنامج الرئيسي
├── go.mod                  # ملف وحدة Go  
├── go.sum                  # ملف التحقق من الاعتمادات
</code></pre>
<p>├── README.md               # وثيقة الشرح التفصيلية<br />
├── Makefile                # أداة البناء<br />
├── build.sh                # سكريبت التجميع الدفعي<br />
├── install.sh              # سكريبت التثبيت بنقرة واحدة<br />
└── config.example.json     # نموذج ملف التكوين</p>
<pre><code>
### الدوال الرئيسية

- `main()` - الدالة الرئيسية، تعالج الاتصال واستدعاء الرفع  
- `uploadDirectory()` - رفع المجلد بشكل متكرر  
- `uploadFile()` - رفع ملف واحد  
- `mkdirAll()` - إنشاء دليل بعيد بشكل متكرر  

## الرخصة

رخصة MIT

## المساهمة

نرحب بإرسال القضايا وطلبات السحب (Pull Request)!


---


Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-19


---
</code></pre>

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>