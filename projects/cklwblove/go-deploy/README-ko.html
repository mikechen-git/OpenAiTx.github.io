<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>go-deploy - cklwblove/go-deploy ko</title>
    <meta name="title" content="go-deploy - cklwblove/go-deploy ko | Go-Deploy 배포 도구 Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다. 기능 특성 ✅ 보안 전송: SFTP 프로토콜 사용, SSH 기반 암호화 전송 ✅ 디렉터리 동기화: 전체 디렉터리 구조 재귀적 업로...">
    <meta name="description" content="cklwblove/go-deploy - GitHub repository ko documentation and information | Go-Deploy 배포 도구 Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다. 기능 특성 ✅ 보안 전송: SFTP 프로토콜 사용, SSH 기반 암호화 전송 ✅ 디렉터리 동기화: 전체 디렉터리 구조 재귀적 업로...">
    <meta name="keywords" content="cklwblove, go-deploy, GitHub, repository, ko documentation">
    <meta name="author" content="Open AI Tx">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://openaitx.github.io/projects/cklwblove/go-deploy/README-ko.html">
    <meta property="og:title" content="go-deploy - cklwblove/go-deploy ko | Go-Deploy 배포 도구 Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다. 기능 특성 ✅ 보안 전송: SFTP 프로토콜 사용, SSH 기반 암호화 전송 ✅ 디렉터리 동기화: 전체 디렉터리 구조 재귀적 업로...">
    <meta property="og:description" content="cklwblove/go-deploy - GitHub repository ko documentation and information | Go-Deploy 배포 도구 Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다. 기능 특성 ✅ 보안 전송: SFTP 프로토콜 사용, SSH 기반 암호화 전송 ✅ 디렉터리 동기화: 전체 디렉터리 구조 재귀적 업로...">
    <meta property="og:image" content="https://openaitx.github.io/logo_crop.png">
    <link rel="icon" type="image/jpeg" href="/icon.jpg">
    <link rel="apple-touch-icon" href="/icon.jpg">
    <script src="/js/marked.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/css/github.min.css?v=20250613">
    <script src="/js/highlight.min.js?v=20250613"></script>
    <link rel="stylesheet" href="/view.css?v=20250613">
    <style>
        body { display: flex; flex-direction: column; min-height: 100vh; }
        .main-container { margin: 0 auto; width: 100%; max-width: 980px; padding: 0 20px; }
        @media (max-width: 768px) { .main-container { padding: 0 15px; } }
        .markdown-body img { max-width: 100%; height: auto; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background-color: #f6f8fa; border-bottom: 1px solid #e1e4e8; position: relative; }
        .header .links { margin-top: 10px; font-size: 16px; }
        .header .links a { color: #0366d6; text-decoration: none; margin-left: 5px; }
        .header .links a:hover { text-decoration: underline; }
        .language-badges { margin-top: 15px; text-align: center; }
        .language-badges a { display: inline-block; margin: 2px; text-decoration: none; }
        .language-badges img { height: 20px; border-radius: 3px; }
        .language-badges a:hover img { opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <div class="links">
            GitHub Repository: <a href="https://github.com/cklwblove/go-deploy" id="githubRepoLink" target="_blank">cklwblove/go-deploy</a>
<h1 style="display: none;">Go-Deploy 배포 도구 Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다. 기능 특성 ✅ 보안 전송: SFTP 프로토콜 사용, SSH 기반 암호화 전송 ✅ 디렉터리 동기화: 전체 디렉터리 구조 재귀적 업로...</h1>
        </div>
        <div class="language-badges" id="languageBadges">
            <!-- You can generate language badges here if needed -->
        </div>
    </div>
    <div class="main-container">
        <div class="markdown-body" id="content">
            <h1>Go-Deploy 배포 도구</h1>
<p>Go 언어 기반으로 개발된 자동화 배포 도구로, SFTP 프로토콜을 통해 로컬 빌드 산출물을 원격 서버로 업로드할 수 있습니다.</p>
<h2>기능 특성</h2>
<ul>
<li>✅ <strong>보안 전송</strong>: SFTP 프로토콜 사용, SSH 기반 암호화 전송</li>
<li>✅ <strong>디렉터리 동기화</strong>: 전체 디렉터리 구조 재귀적 업로드, 파일 계층 유지</li>
<li>✅ <strong>지능적 생성</strong>: 원격 디렉터리 구조 자동 생성</li>
<li>✅ <strong>경로 자동 인식</strong>: 실행 파일 위치를 기준으로 로컬 경로 자동 계산, 실행 디렉터리 신경 쓸 필요 없음</li>
<li>✅ <strong>설정 파일 지원</strong>: JSON 설정 파일 지원, 다양한 환경의 설정 관리 용이</li>
<li>✅ <strong>파일 제외</strong>: 와일드카드 패턴으로 불필요한 파일 업로드 제외 가능</li>
<li>✅ <strong>자동 백업</strong>: 업로드 전 원격 파일 자동 백업 가능</li>
<li>✅ <strong>재시도 메커니즘</strong>: 업로드 실패 시 자동 재시도, 성공률 향상</li>
<li>✅ <strong>상세 통계</strong>: 업로드 파일 수, 전송 크기, 소요 시간 및 속도 표시</li>
<li>✅ <strong>진행 상태 표시</strong>: 실시간 업로드 진행 및 파일 정보 표시</li>
<li>✅ <strong>오류 처리</strong>: 완비된 오류 처리 및 로그 출력</li>
</ul>
<h2>시스템 요구 사항</h2>
<ul>
<li>Go 1.18 이상 버전</li>
<li>대상 서버는 SSH/SFTP 프로토콜 지원</li>
</ul>
<h2>설치 안내</h2>
<h3>1. 프로젝트 클론</h3>
<pre><code class="language-bash">git clone &lt;your-repo-url&gt;
cd go-deploy
</code></pre>
<h3>2. Go 모듈 초기화</h3>
<pre><code class="language-bash">go mod init go-deploy
go mod tidy
</code></pre>
<h3>3. 의존성 설치</h3>
<p>프로그램이 자동으로 아래 의존성을 다운로드합니다:</p>
<ul>
<li><code>github.com/pkg/sftp</code> - SFTP 클라이언트</li>
<li><code>golang.org/x/crypto/ssh</code> - SSH 클라이언트</li>
</ul>
<h2>설정 안내</h2>
<p>프로그램은 두 가지 방식의 설정을 지원합니다:</p>
<h3>1. 설정 파일 사용(권장)</h3>
<p><code>config.example.json</code>을 <code>config.json</code>으로 복사한 후 설정을 수정합니다:</p>
<pre><code class="language-bash">cp config.example.json config.json
</code></pre>
<p>이후 <code>config.json</code>을 편집합니다:</p>
<pre><code class="language-json">{
  &quot;server&quot;: {
    &quot;host&quot;: &quot;your-server-ip&quot;,
    &quot;port&quot;: 22,
    &quot;username&quot;: &quot;your-username&quot;,
    &quot;password&quot;: &quot;your-password&quot;,
    &quot;timeout&quot;: 10
  },
  &quot;paths&quot;: {
    &quot;local&quot;: &quot;../../unpackage/dist/build/web&quot;,
    &quot;remote&quot;: &quot;/opt/your-path/dist&quot;
  },
  &quot;options&quot;: {
    &quot;backup&quot;: true,
    &quot;backup_suffix&quot;: &quot;.backup&quot;,
    &quot;exclude_patterns&quot;: [
      &quot;*.log&quot;,
      &quot;*.map&quot;,
      &quot;.DS_Store&quot;,
      &quot;node_modules&quot;
    ],
    &quot;max_retries&quot;: 3,
    &quot;chunk_size&quot;: 1048576
  }
}
</code></pre>
<h4>설정 항목 설명</h4>
<p><strong>server 설정</strong>:</p>
<ul>
<li><code>host</code>: SSH 서버 주소</li>
<li><code>port</code>: SSH 포트, 일반적으로 22</li>
<li><code>username</code>: SSH 사용자명</li>
<li><code>password</code>: SSH 비밀번호(운영 환경에서는 키 인증 권장)</li>
<li><code>timeout</code>: 연결 타임아웃(초)</li>
</ul>
<p><strong>paths 설정</strong>:</p>
<ul>
<li><code>local</code>: 로컬 디렉터리 경로, 상대 경로 및 절대 경로 지원</li>
<li><code>remote</code>: 원격 디렉터리 경로, 반드시 절대 경로여야 함</li>
</ul>
<p><strong>options 설정</strong>:</p>
<ul>
<li><code>backup</code>: 업로드 전 원격에 이미 존재하는 파일 백업 여부</li>
<li><code>backup_suffix</code>: 백업 파일의 접미사, 백업 파일 접미사는 커스텀 가능, 백업 파일이 없으면 백업 건너뜀</li>
<li><code>exclude_patterns</code>: 파일 제외 패턴, 와일드카드 지원</li>
<li><code>max_retries</code>: 업로드 실패 시 최대 재시도 횟수</li>
<li><code>chunk_size</code>: 파일 전송 블록 크기(바이트, 미구현)</li>
</ul>
<h3>2. 기본 설정(호환 모드)</h3>
<p><code>config.json</code> 파일이 없을 경우, 프로그램은 내장된 기본 설정을 사용하여 하위 호환을 유지합니다.</p>
<h4>설정 파일 우선순위</h4>
<ol>
<li><strong>명령행으로 지정한 설정 파일</strong>: <code>--config</code> 인자로 지정한 파일</li>
<li><strong>기본 설정 파일</strong>: 현재 디렉터리의 <code>config.json</code></li>
<li><strong>내장 기본 설정</strong>: 위 파일들이 없으면 프로그램 내장 설정 사용</li>
</ol>
<h4>경로 처리 규칙</h4>
<ul>
<li><p><strong>설정 파일 경로</strong>:</p>
<ul>
<li>상대 경로: 실행 파일 위치 기준</li>
<li>절대 경로: 지정 경로 그대로 사용</li>
</ul>
</li>
<li><p><strong>로컬 디렉터리 경로</strong>:</p>
<ul>
<li>상대 경로: 실행 파일 위치 기준</li>
<li>절대 경로: 지정 경로 그대로 사용</li>
</ul>
</li>
</ul>
<h2>실행 안내</h2>
<h3>명령행 인자</h3>
<p>프로그램은 다음 명령행 인자를 지원합니다:</p>
<pre><code class="language-bash"># 도움말 표시
./deploy --help

# 버전 정보 표시  
./deploy --version

# 기본 설정 파일 config.json 사용
./deploy

# 지정한 설정 파일 사용
./deploy --config prod.json

# 절대 경로 설정 파일 사용
./deploy --config /path/to/config.json
</code></pre>
<h3>개발 환경 실행</h3>
<pre><code class="language-bash"># 기본 설정 사용
go run main.go

# 지정한 설정 파일 사용
go run main.go --config test.json

# 도움말 표시
go run main.go --help
</code></pre>
<h3>빌드 후 실행</h3>
<pre><code class="language-bash"># 빌드
go build -o deploy main.go

# 기본 설정으로 실행
./deploy

# 지정한 설정 파일로 실행
./deploy --config prod.json
</code></pre>
<h2>패키징 안내</h2>
<h3>1. 로컬 플랫폼 패키징</h3>
<pre><code class="language-bash"># 현재 플랫폼의 실행 파일 빌드
go build -o deploy main.go
</code></pre>
<h3>2. 크로스 플랫폼 패키징</h3>
<h4>Linux 64비트</h4>
<pre><code class="language-bash">GOOS=linux GOARCH=amd64 go build -o deploy-linux-amd64 main.go
</code></pre>
<h4>Windows 64비트</h4>
<pre><code class="language-bash">GOOS=windows GOARCH=amd64 go build -o deploy-windows-amd64.exe main.go
</code></pre>
<h4>macOS 64비트</h4>
<pre><code class="language-bash">GOOS=darwin GOARCH=amd64 go build -o deploy-darwin-amd64 main.go
</code></pre>
<h4>macOS ARM64 (M1/M2)</h4>
<pre><code class="language-bash">GOOS=darwin GOARCH=arm64 go build -o deploy-darwin-arm64 main.go
</code></pre>
<h3>3. 빌드 최적화(파일 크기 축소)</h3>
<pre><code class="language-bash"># 디버그 정보 및 심볼 테이블 제거
go build -ldflags=&quot;-s -w&quot; -o deploy main.go

# UPX로 압축(UPX 사전 설치 필요)
upx --best deploy
</code></pre>
<h3>4. 일괄 빌드 스크립트</h3>
<p><code>build.sh</code> 스크립트 생성:</p>
<pre><code class="language-bash">#!/bin/bash

# 빌드 디렉터리 생성
mkdir -p builds

# 각 플랫폼별 빌드
echo &quot;Linux 64비트 버전 빌드 중...&quot;
GOOS=linux GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-linux-amd64 main.go

echo &quot;Windows 64비트 버전 빌드 중...&quot;
GOOS=windows GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-windows-amd64.exe main.go

echo &quot;macOS 64비트 버전 빌드 중...&quot;
GOOS=darwin GOARCH=amd64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-darwin-amd64 main.go

echo &quot;macOS ARM64 버전 빌드 중...&quot;
GOOS=darwin GOARCH=arm64 go build -ldflags=&quot;-s -w&quot; -o builds/deploy-darwin-arm64 main.go

echo &quot;빌드 완료!&quot;
ls -la builds/
</code></pre>
<p>스크립트 실행:</p>
<pre><code class="language-bash">chmod +x build.sh
./build.sh
</code></pre>
<h2>사용 예시</h2>
<h3>도움말 표시</h3>
<pre><code class="language-bash">$ ./deploy --help
Go-Deploy 배포 도구

사용법: ./deploy [옵션]

옵션:
  -config string
        설정 파일 경로 (default &quot;config.json&quot;)
  -help
        도움말 표시
  -version
        버전 정보 표시

예시:
  ./deploy                           # 기본 설정파일 config.json 사용
  ./deploy --config prod.json        # 지정된 설정파일 사용
  ./deploy --config /path/to/config.json  # 절대경로 설정파일 사용
</code></pre>
<h3>지정된 설정파일 사용</h3>
<pre><code class="language-bash">$ ./deploy --config prod.json
배포 프로그램 실행 시작...
설정 파일 읽기 시도: /path/to/go-deploy/prod.json
설정 파일 사용 중...
로컬 디렉터리 /path/to/project/dist 존재함
SSH 서버에 연결 중...
SSH 서버 연결 성공
...
</code></pre>
<h3>설정 파일 사용</h3>
<pre><code class="language-bash">$ ./deploy
배포 프로그램 실행 시작...
설정 파일 읽기 시도: /path/to/go-deploy/config.json
설정 파일 사용 중...
로컬 디렉터리 /path/to/project/unpackage/dist/build/web 존재함
SSH 서버에 연결 중...
SSH 서버 연결 성공
SFTP 클라이언트 생성 중...
SFTP 클라이언트 생성 성공
원격 디렉터리로 업로드 준비 중: /opt/xsoft/nginx/html/app/dist
디렉터리 업로드 시작...
로컬 디렉터리 순회 시작: /path/to/project/unpackage/dist/build/web
디렉터리 생성: /opt/xsoft/nginx/html/app/dist
파일 static/js/app.js.map 제외됨, 업로드 건너뜀
백업 생성: /opt/xsoft/nginx/html/app/dist/index.html -&gt; /opt/xsoft/nginx/html/app/dist/index.html.backup
파일 업로드: /path/to/project/unpackage/dist/build/web/index.html -&gt; /opt/xsoft/nginx/html/app/dist/index.html
파일 .DS_Store 제외됨, 업로드 건너뜀
파일 업로드: /path/to/project/unpackage/dist/build/web/static/css/app.css -&gt; /opt/xsoft/nginx/html/app/dist/static/css/app.css
업로드 실패(시도 1/3): 네트워크 오류
파일 재업로드 시도(2/3): /path/to/project/unpackage/dist/build/web/static/js/app.js
파일 업로드: /path/to/project/unpackage/dist/build/web/static/js/app.js -&gt; /opt/xsoft/nginx/html/app/dist/static/js/app.js
...
디렉터리 업로드 성공!
통계 정보:
  - 업로드 파일 수: 485
  - 생성된 디렉터리 수: 18
  - 전송 크기: 25.8 MB
  - 업로드 소요 시간: 38.5s
  - 총 소요 시간: 39.2s
  - 전송 속도: 0.67 MB/s
</code></pre>
<h2>주의사항</h2>
<ol>
<li><p><strong>보안</strong>:</p>
<ul>
<li>운영 환경에서는 비밀번호 인증 대신 SSH 키 인증 권장</li>
<li>현재 <code>ssh.InsecureIgnoreHostKey()</code> 사용, 운영 환경에서는 호스트 키 검증 필요</li>
</ul>
</li>
<li><p><strong>네트워크</strong>:</p>
<ul>
<li>로컬에서 대상 서버의 22번 포트 접근 가능해야 함</li>
<li>전송 속도는 네트워크 대역폭 및 서버 성능에 따라 다름</li>
</ul>
</li>
<li><p><strong>권한</strong>:</p>
<ul>
<li>SSH 사용자가 대상 디렉터리에 쓰기 권한이 있어야 함</li>
<li>필요 시 sudo 권한 필요</li>
</ul>
</li>
<li><p><strong>경로</strong>:</p>
<ul>
<li>로컬 경로는 실행 파일 위치 기준으로 자동 계산, 실행 디렉터리 신경 쓸 필요 없음</li>
<li>원격 경로는 절대경로 사용</li>
</ul>
</li>
</ol>
<h2>문제 해결</h2>
<h3>자주 발생하는 문제</h3>
<ol>
<li><p><strong>연결 시간 초과</strong></p>
<pre><code>SSH 서버 연결 실패: dial tcp: i/o timeout
</code></pre>
<ul>
<li>서버 주소 및 포트 확인</li>
<li>네트워크 연결 상태 확인</li>
<li>방화벽 설정 확인</li>
</ul>
</li>
<li><p><strong>인증 실패</strong></p>
<pre><code>로그인 실패: ssh: handshake failed
</code></pre>
<ul>
<li>사용자명 및 비밀번호 확인</li>
<li>SSH 서비스가 실행 중인지 확인</li>
<li>SSH 설정 확인</li>
</ul>
</li>
<li><p><strong>권한 오류</strong></p>
<pre><code>디렉터리 생성 실패: permission denied
</code></pre>
<ul>
<li>대상 디렉터리에 대한 사용자 쓰기 권한 확인</li>
<li>sudo 사용 또는 디렉터리 소유자 변경 필요할 수 있음</li>
</ul>
</li>
<li><p><strong>로컬 디렉터리 없음</strong></p>
<pre><code>오류: 로컬 디렉터리 /path/to/unpackage/dist/build/web 존재하지 않음
</code></pre>
<ul>
<li>로컬 빌드 완료 여부 확인</li>
<li>프로젝트 디렉터리 구조가 올바른지 확인</li>
<li>프로그램이 경로를 자동 계산하므로 작업 디렉터리 수동 변경 불필요</li>
</ul>
</li>
</ol>
<h2>개발 안내</h2>
<h3>프로젝트 구조</h3>
<pre><code>go-deploy/
├── main.go                 # 메인 프로그램 파일
├── go.mod                  # Go 모듈 파일  
├── go.sum                  # 의존성 검증 파일
</code></pre>
<p>├── README.md               # 자세한 설명 문서<br />
├── Makefile                # 빌드 도구<br />
├── build.sh                # 일괄 패키징 스크립트<br />
├── install.sh              # 원클릭 설치 스크립트<br />
└── config.example.json     # 설정 파일 예시</p>
<pre><code>
### 주요 함수

- `main()` - 메인 함수, 연결 처리 및 업로드 호출
- `uploadDirectory()` - 디렉토리 재귀 업로드
- `uploadFile()` - 단일 파일 업로드
- `mkdirAll()` - 원격 디렉토리 재귀 생성

## 라이선스

MIT License

## 기여

Issue와 Pull Request 제출을 환영합니다!


---


Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-19


---
</code></pre>

        </div>
    </div>
    <footer class="footer">
        Powered by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank">Open AI Tx</a>
    </footer>
    <!-- Default Statcounter code for openaitx
https://openaitx.github.io/ -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>
</html>